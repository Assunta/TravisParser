Using worker: worker-linux-5-2.bb.travis-ci.org:travis-linux-1

$ export SPEC="spec/views/**/*_spec.rb"
travis_fold:start:git.1$ git clone --depth=50 --branch=master git://github.com/instructure/canvas-lms.git instructure/canvas-lms
Cloning into 'instructure/canvas-lms'...
remote: Counting objects: 66306, done.[K
remote: Compressing objects:   0% (1/26420)   [Kremote: Compressing objects:   1% (265/26420)   [Kremote: Compressing objects:   2% (529/26420)   [Kremote: Compressing objects:   3% (793/26420)   [Kremote: Compressing objects:   4% (1057/26420)   [Kremote: Compressing objects:   5% (1321/26420)   [Kremote: Compressing objects:   6% (1586/26420)   [Kremote: Compressing objects:   7% (1850/26420)   [Kremote: Compressing objects:   8% (2114/26420)   [Kremote: Compressing objects:   9% (2378/26420)   [Kremote: Compressing objects:  10% (2642/26420)   [Kremote: Compressing objects:  11% (2907/26420)   [Kremote: Compressing objects:  12% (3171/26420)   [Kremote: Compressing objects:  13% (3435/26420)   [Kremote: Compressing objects:  14% (3699/26420)   [Kremote: Compressing objects:  15% (3963/26420)   [Kremote: Compressing objects:  16% (4228/26420)   [Kremote: Compressing objects:  17% (4492/26420)   [Kremote: Compressing objects:  18% (4756/26420)   [Kremote: Compressing objects:  19% (5020/26420)   [Kremote: Compressing objects:  20% (5284/26420)   [Kremote: Compressing objects:  21% (5549/26420)   [Kremote: Compressing objects:  22% (5813/26420)   [Kremote: Compressing objects:  23% (6077/26420)   [Kremote: Compressing objects:  24% (6341/26420)   [Kremote: Compressing objects:  25% (6605/26420)   [Kremote: Compressing objects:  26% (6870/26420)   [Kremote: Compressing objects:  27% (7134/26420)   [Kremote: Compressing objects:  28% (7398/26420)   [Kremote: Compressing objects:  29% (7662/26420)   [Kremote: Compressing objects:  30% (7926/26420)   [Kremote: Compressing objects:  31% (8191/26420)   [Kremote: Compressing objects:  32% (8455/26420)   [Kremote: Compressing objects:  33% (8719/26420)   [Kremote: Compressing objects:  34% (8983/26420)   [Kremote: Compressing objects:  35% (9247/26420)   [Kremote: Compressing objects:  36% (9512/26420)   [Kremote: Compressing objects:  37% (9776/26420)   [Kremote: Compressing objects:  38% (10040/26420)   [Kremote: Compressing objects:  38% (10080/26420)   [Kremote: Compressing objects:  39% (10304/26420)   [Kremote: Compressing objects:  40% (10568/26420)   [Kremote: Compressing objects:  41% (10833/26420)   [Kremote: Compressing objects:  42% (11097/26420)   [Kremote: Compressing objects:  43% (11361/26420)   [Kremote: Compressing objects:  44% (11625/26420)   [Kremote: Compressing objects:  45% (11889/26420)   [Kremote: Compressing objects:  46% (12154/26420)   [Kremote: Compressing objects:  47% (12418/26420)   [Kremote: Compressing objects:  48% (12682/26420)   [Kremote: Compressing objects:  49% (12946/26420)   [Kremote: Compressing objects:  50% (13210/26420)   [Kremote: Compressing objects:  51% (13475/26420)   [Kremote: Compressing objects:  52% (13739/26420)   [Kremote: Compressing objects:  53% (14003/26420)   [Kremote: Compressing objects:  54% (14267/26420)   [Kremote: Compressing objects:  55% (14531/26420)   [Kremote: Compressing objects:  56% (14796/26420)   [Kremote: Compressing objects:  57% (15060/26420)   [Kremote: Compressing objects:  58% (15324/26420)   [Kremote: Compressing objects:  59% (15588/26420)   [Kremote: Compressing objects:  60% (15852/26420)   [Kremote: Compressing objects:  61% (16117/26420)   [Kremote: Compressing objects:  62% (16381/26420)   [Kremote: Compressing objects:  63% (16645/26420)   [Kremote: Compressing objects:  64% (16909/26420)   [Kremote: Compressing objects:  65% (17173/26420)   [Kremote: Compressing objects:  66% (17438/26420)   [Kremote: Compressing objects:  67% (17702/26420)   [Kremote: Compressing objects:  68% (17966/26420)   [Kremote: Compressing objects:  69% (18230/26420)   [Kremote: Compressing objects:  70% (18494/26420)   [Kremote: Compressing objects:  71% (18759/26420)   [Kremote: Compressing objects:  72% (19023/26420)   [Kremote: Compressing objects:  73% (19287/26420)   [Kremote: Compressing objects:  74% (19551/26420)   [Kremote: Compressing objects:  75% (19815/26420)   [Kremote: Compressing objects:  75% (19982/26420)   [Kremote: Compressing objects:  76% (20080/26420)   [Kremote: Compressing objects:  77% (20344/26420)   [Kremote: Compressing objects:  78% (20608/26420)   [Kremote: Compressing objects:  79% (20872/26420)   [Kremote: Compressing objects:  80% (21136/26420)   [Kremote: Compressing objects:  81% (21401/26420)   [Kremote: Compressing objects:  82% (21665/26420)   [Kremote: Compressing objects:  83% (21929/26420)   [Kremote: Compressing objects:  84% (22193/26420)   [Kremote: Compressing objects:  85% (22457/26420)   [Kremote: Compressing objects:  86% (22722/26420)   [Kremote: Compressing objects:  87% (22986/26420)   [Kremote: Compressing objects:  88% (23250/26420)   [Kremote: Compressing objects:  89% (23514/26420)   [Kremote: Compressing objects:  90% (23778/26420)   [Kremote: Compressing objects:  91% (24043/26420)   [Kremote: Compressing objects:  92% (24307/26420)   [Kremote: Compressing objects:  93% (24571/26420)   [Kremote: Compressing objects:  94% (24835/26420)   [Kremote: Compressing objects:  95% (25099/26420)   [Kremote: Compressing objects:  96% (25364/26420)   [Kremote: Compressing objects:  97% (25628/26420)   [Kremote: Compressing objects:  98% (25892/26420)   [Kremote: Compressing objects:  99% (26156/26420)   [Kremote: Compressing objects: 100% (26420/26420)   [Kremote: Compressing objects: 100% (26420/26420), done.[K
Receiving objects:   0% (1/66306)   Receiving objects:   1% (664/66306)   Receiving objects:   2% (1327/66306)   Receiving objects:   3% (1990/66306)   Receiving objects:   4% (2653/66306)   Receiving objects:   5% (3316/66306)   Receiving objects:   6% (3979/66306)   Receiving objects:   7% (4642/66306)   Receiving objects:   8% (5305/66306)   Receiving objects:   9% (5968/66306)   Receiving objects:  10% (6631/66306)   Receiving objects:  11% (7294/66306)   Receiving objects:  12% (7957/66306)   Receiving objects:  13% (8620/66306)   Receiving objects:  14% (9283/66306)   Receiving objects:  15% (9946/66306)   Receiving objects:  16% (10609/66306)   Receiving objects:  17% (11273/66306)   Receiving objects:  18% (11936/66306)   Receiving objects:  19% (12599/66306)   Receiving objects:  20% (13262/66306)   Receiving objects:  21% (13925/66306)   Receiving objects:  22% (14588/66306)   Receiving objects:  23% (15251/66306)   Receiving objects:  24% (15914/66306)   Receiving objects:  25% (16577/66306)   Receiving objects:  26% (17240/66306)   Receiving objects:  27% (17903/66306)   Receiving objects:  28% (18566/66306)   Receiving objects:  29% (19229/66306)   Receiving objects:  30% (19892/66306)   Receiving objects:  31% (20555/66306)   Receiving objects:  32% (21218/66306)   Receiving objects:  33% (21881/66306)   Receiving objects:  34% (22545/66306)   Receiving objects:  35% (23208/66306)   Receiving objects:  36% (23871/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  37% (24534/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  38% (25197/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  39% (25860/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  40% (26523/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  41% (27186/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  42% (27849/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  42% (27871/66306), 9.27 MiB | 18.41 MiB/s   Receiving objects:  43% (28512/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  44% (29175/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  45% (29838/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  46% (30501/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  47% (31164/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  48% (31827/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  49% (32490/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  50% (33153/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  51% (33817/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  52% (34480/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  53% (35143/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  54% (35806/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  55% (36469/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  56% (37132/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  57% (37795/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  58% (38458/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  59% (39121/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  60% (39784/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  61% (40447/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  62% (41110/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  63% (41773/66306), 21.86 MiB | 21.77 MiB/s   Receiving objects:  64% (42436/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  65% (43099/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  66% (43762/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  67% (44426/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  68% (45089/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  69% (45752/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  70% (46415/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  71% (47078/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  72% (47741/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  73% (48404/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  74% (49067/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  75% (49730/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  76% (50393/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  77% (51056/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  78% (51719/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  79% (52382/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  80% (53045/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  81% (53708/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  82% (54371/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  83% (55034/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  84% (55698/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  85% (56361/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  86% (57024/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  87% (57687/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  88% (58350/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  89% (59013/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  90% (59676/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  91% (60339/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  92% (61002/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  92% (61020/66306), 32.91 MiB | 21.86 MiB/s   Receiving objects:  93% (61665/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects:  94% (62328/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects:  95% (62991/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects:  96% (63654/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects:  97% (64317/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects:  98% (64980/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects:  99% (65643/66306), 42.59 MiB | 21.23 MiB/s   remote: Total 66306 (delta 44616), reused 58035 (delta 38060)[K
Receiving objects: 100% (66306/66306), 42.59 MiB | 21.23 MiB/s   Receiving objects: 100% (66306/66306), 47.45 MiB | 21.23 MiB/s, done.
Resolving deltas:   0% (0/44616)   Resolving deltas:   1% (466/44616)   Resolving deltas:   2% (916/44616)   Resolving deltas:   3% (1365/44616)   Resolving deltas:   4% (1848/44616)   Resolving deltas:   5% (2248/44616)   Resolving deltas:   6% (2765/44616)   Resolving deltas:   7% (3130/44616)   Resolving deltas:   8% (3573/44616)   Resolving deltas:   9% (4021/44616)   Resolving deltas:  10% (4474/44616)   Resolving deltas:  11% (4909/44616)   Resolving deltas:  12% (5367/44616)   Resolving deltas:  13% (5806/44616)   Resolving deltas:  14% (6249/44616)   Resolving deltas:  15% (6776/44616)   Resolving deltas:  16% (7146/44616)   Resolving deltas:  17% (7589/44616)   Resolving deltas:  18% (8036/44616)   Resolving deltas:  19% (8618/44616)   Resolving deltas:  20% (8941/44616)   Resolving deltas:  21% (9371/44616)   Resolving deltas:  22% (9911/44616)   Resolving deltas:  23% (10295/44616)   Resolving deltas:  24% (10723/44616)   Resolving deltas:  25% (11155/44616)   Resolving deltas:  26% (11604/44616)   Resolving deltas:  27% (12052/44616)   Resolving deltas:  28% (12494/44616)   Resolving deltas:  29% (13015/44616)   Resolving deltas:  30% (13609/44616)   Resolving deltas:  31% (13832/44616)   Resolving deltas:  32% (14278/44616)   Resolving deltas:  33% (14727/44616)   Resolving deltas:  34% (15177/44616)   Resolving deltas:  35% (15782/44616)   Resolving deltas:  36% (16070/44616)   Resolving deltas:  37% (16512/44616)   Resolving deltas:  38% (16955/44616)   Resolving deltas:  39% (17427/44616)   Resolving deltas:  40% (17887/44616)   Resolving deltas:  41% (18293/44616)   Resolving deltas:  42% (18752/44616)   Resolving deltas:  43% (19215/44616)   Resolving deltas:  44% (19682/44616)   Resolving deltas:  45% (20081/44616)   Resolving deltas:  46% (20534/44616)   Resolving deltas:  47% (20970/44616)   Resolving deltas:  48% (21426/44616)   Resolving deltas:  49% (21865/44616)   Resolving deltas:  50% (22371/44616)   Resolving deltas:  51% (22768/44616)   Resolving deltas:  52% (23204/44616)   Resolving deltas:  53% (23733/44616)   Resolving deltas:  54% (24099/44616)   Resolving deltas:  55% (24544/44616)   Resolving deltas:  56% (24985/44616)   Resolving deltas:  57% (25445/44616)   Resolving deltas:  58% (25881/44616)   Resolving deltas:  59% (26324/44616)   Resolving deltas:  60% (26774/44616)   Resolving deltas:  61% (27246/44616)   Resolving deltas:  62% (27677/44616)   Resolving deltas:  63% (28121/44616)   Resolving deltas:  64% (28565/44616)   Resolving deltas:  65% (29004/44616)   Resolving deltas:  66% (29447/44616)   Resolving deltas:  67% (29897/44616)   Resolving deltas:  68% (30367/44616)   Resolving deltas:  69% (30790/44616)   Resolving deltas:  69% (31038/44616)   Resolving deltas:  70% (31238/44616)   Resolving deltas:  71% (31699/44616)   Resolving deltas:  72% (32126/44616)   Resolving deltas:  73% (32585/44616)   Resolving deltas:  74% (33016/44616)   Resolving deltas:  75% (33472/44616)   Resolving deltas:  76% (33911/44616)   Resolving deltas:  77% (34355/44616)   Resolving deltas:  78% (34815/44616)   Resolving deltas:  79% (35304/44616)   Resolving deltas:  79% (35538/44616)   Resolving deltas:  80% (35694/44616)   Resolving deltas:  81% (36139/44616)   Resolving deltas:  82% (36600/44616)   Resolving deltas:  83% (37035/44616)   Resolving deltas:  84% (37481/44616)   Resolving deltas:  85% (37932/44616)   Resolving deltas:  86% (38380/44616)   Resolving deltas:  87% (38850/44616)   Resolving deltas:  88% (39271/44616)   Resolving deltas:  89% (39721/44616)   Resolving deltas:  90% (40174/44616)   Resolving deltas:  91% (40635/44616)   Resolving deltas:  92% (41087/44616)   Resolving deltas:  93% (41569/44616)   Resolving deltas:  94% (41942/44616)   Resolving deltas:  95% (42386/44616)   Resolving deltas:  95% (42775/44616)   Resolving deltas:  96% (42835/44616)   Resolving deltas:  97% (43282/44616)   Resolving deltas:  98% (43724/44616)   Resolving deltas:  99% (44170/44616)   Resolving deltas: 100% (44616/44616)   Resolving deltas: 100% (44616/44616), done.
travis_fold:end:git.1$ cd instructure/canvas-lms
travis_fold:start:git.3$ git checkout -qf 1b9df6effea26940c545f4ae4c7e5c7b46a1997d
travis_fold:end:git.3$ sudo service redis-server start
redis-server start/running, process 1320
$ sleep 3
$ rvm use 1.9.3 --install --binary --fuzzy
Using /home/travis/.rvm/gems/ruby-1.9.3-p484
$ export BUNDLE_GEMFILE=$PWD/Gemfile
$ ruby --version
ruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]
$ rvm --version

rvm 1.25.14 (latest-minor) by Wayne E. Seguin <wayneeseguin@gmail.com>, Michal Papis <mpapis@gmail.com> [https://rvm.io/]

$ gem --version
2.2.1
$ bundle --version
Bundler version 1.5.1
travis_fold:start:install$ bundle install
Fetching git://github.com/makandra/rails.git
remote: Counting objects: 319943, done.[K
remote: Compressing objects:   0% (1/85015)   [Kremote: Compressing objects:   1% (851/85015)   [Kremote: Compressing objects:   2% (1701/85015)   [Kremote: Compressing objects:   3% (2551/85015)   [Kremote: Compressing objects:   4% (3401/85015)   [Kremote: Compressing objects:   5% (4251/85015)   [Kremote: Compressing objects:   6% (5101/85015)   [Kremote: Compressing objects:   7% (5952/85015)   [Kremote: Compressing objects:   8% (6802/85015)   [Kremote: Compressing objects:   9% (7652/85015)   [Kremote: Compressing objects:  10% (8502/85015)   [Kremote: Compressing objects:  11% (9352/85015)   [Kremote: Compressing objects:  12% (10202/85015)   [Kremote: Compressing objects:  13% (11052/85015)   [Kremote: Compressing objects:  14% (11903/85015)   [Kremote: Compressing objects:  15% (12753/85015)   [Kremote: Compressing objects:  16% (13603/85015)   [Kremote: Compressing objects:  17% (14453/85015)   [Kremote: Compressing objects:  18% (15303/85015)   [Kremote: Compressing objects:  19% (16153/85015)   [Kremote: Compressing objects:  20% (17003/85015)   [Kremote: Compressing objects:  21% (17854/85015)   [Kremote: Compressing objects:  22% (18704/85015)   [Kremote: Compressing objects:  23% (19554/85015)   [Kremote: Compressing objects:  24% (20404/85015)   [Kremote: Compressing objects:  25% (21254/85015)   [Kremote: Compressing objects:  26% (22104/85015)   [Kremote: Compressing objects:  27% (22955/85015)   [Kremote: Compressing objects:  28% (23805/85015)   [Kremote: Compressing objects:  29% (24655/85015)   [Kremote: Compressing objects:  30% (25505/85015)   [Kremote: Compressing objects:  31% (26355/85015)   [Kremote: Compressing objects:  32% (27205/85015)   [Kremote: Compressing objects:  33% (28055/85015)   [Kremote: Compressing objects:  34% (28906/85015)   [Kremote: Compressing objects:  35% (29756/85015)   [Kremote: Compressing objects:  36% (30606/85015)   [Kremote: Compressing objects:  37% (31456/85015)   [Kremote: Compressing objects:  38% (32306/85015)   [Kremote: Compressing objects:  39% (33156/85015)   [Kremote: Compressing objects:  40% (34006/85015)   [Kremote: Compressing objects:  41% (34857/85015)   [Kremote: Compressing objects:  42% (35707/85015)   [Kremote: Compressing objects:  43% (36557/85015)   [Kremote: Compressing objects:  44% (37407/85015)   [Kremote: Compressing objects:  45% (38257/85015)   [Kremote: Compressing objects:  46% (39107/85015)   [Kremote: Compressing objects:  47% (39958/85015)   [Kremote: Compressing objects:  48% (40808/85015)   [Kremote: Compressing objects:  49% (41658/85015)   [Kremote: Compressing objects:  50% (42508/85015)   [Kremote: Compressing objects:  51% (43358/85015)   [Kremote: Compressing objects:  52% (44208/85015)   [Kremote: Compressing objects:  53% (45058/85015)   [Kremote: Compressing objects:  54% (45909/85015)   [Kremote: Compressing objects:  55% (46759/85015)   [Kremote: Compressing objects:  56% (47609/85015)   [Kremote: Compressing objects:  57% (48459/85015)   [Kremote: Compressing objects:  58% (49309/85015)   [Kremote: Compressing objects:  59% (50159/85015)   [Kremote: Compressing objects:  60% (51009/85015)   [Kremote: Compressing objects:  61% (51860/85015)   [Kremote: Compressing objects:  62% (52710/85015)   [Kremote: Compressing objects:  63% (53560/85015)   [Kremote: Compressing objects:  64% (54410/85015)   [Kremote: Compressing objects:  65% (55260/85015)   [Kremote: Compressing objects:  66% (56110/85015)   [Kremote: Compressing objects:  67% (56961/85015)   [Kremote: Compressing objects:  68% (57811/85015)   [Kremote: Compressing objects:  69% (58661/85015)   [Kremote: Compressing objects:  70% (59511/85015)   [Kremote: Compressing objects:  71% (60361/85015)   [Kremote: Compressing objects:  72% (61211/85015)   [Kremote: Compressing objects:  73% (62061/85015)   [Kremote: Compressing objects:  74% (62912/85015)   [Kremote: Compressing objects:  75% (63762/85015)   [Kremote: Compressing objects:  76% (64612/85015)   [Kremote: Compressing objects:  77% (65462/85015)   [Kremote: Compressing objects:  78% (66312/85015)   [Kremote: Compressing objects:  79% (67162/85015)   [Kremote: Compressing objects:  80% (68012/85015)   [Kremote: Compressing objects:  81% (68863/85015)   [Kremote: Compressing objects:  82% (69713/85015)   [Kremote: Compressing objects:  83% (70563/85015)   [Kremote: Compressing objects:  84% (71413/85015)   [Kremote: Compressing objects:  85% (72263/85015)   [Kremote: Compressing objects:  86% (73113/85015)   [Kremote: Compressing objects:  87% (73964/85015)   [Kremote: Compressing objects:  88% (74814/85015)   [Kremote: Compressing objects:  89% (75664/85015)   [Kremote: Compressing objects:  90% (76514/85015)   [Kremote: Compressing objects:  91% (77364/85015)   [Kremote: Compressing objects:  92% (78214/85015)   [Kremote: Compressing objects:  93% (79064/85015)   [Kremote: Compressing objects:  94% (79915/85015)   [Kremote: Compressing objects:  95% (80765/85015)   [Kremote: Compressing objects:  96% (81615/85015)   [Kremote: Compressing objects:  97% (82465/85015)   [Kremote: Compressing objects:  98% (83315/85015)   [Kremote: Compressing objects:  99% (84165/85015)   [Kremote: Compressing objects: 100% (85015/85015)   [Kremote: Compressing objects: 100% (85015/85015), done.[K
Receiving objects:   0% (1/319943)   Receiving objects:   1% (3200/319943)   Receiving objects:   2% (6399/319943)   Receiving objects:   3% (9599/319943)   Receiving objects:   4% (12798/319943)   Receiving objects:   5% (15998/319943)   Receiving objects:   6% (19197/319943)   Receiving objects:   7% (22397/319943)   Receiving objects:   8% (25596/319943)   Receiving objects:   9% (28795/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  10% (31995/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  11% (35194/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  12% (38394/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  13% (41593/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  14% (44793/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  15% (47992/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  16% (51191/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  17% (54391/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  17% (55245/319943), 5.39 MiB | 10.75 MiB/s   Receiving objects:  18% (57590/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  19% (60790/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  20% (63989/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  21% (67189/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  22% (70388/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  23% (73587/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  24% (76787/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  25% (79986/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  26% (83186/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  27% (86385/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  28% (89585/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  29% (92784/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  30% (95983/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  31% (99183/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  32% (102382/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  33% (105582/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  34% (108781/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  35% (111981/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  36% (115180/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  37% (118379/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  38% (121579/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  39% (124778/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  40% (127978/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  41% (131177/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  42% (134377/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  43% (137576/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  44% (140775/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  45% (143975/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  46% (147174/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  47% (150374/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  48% (153573/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  49% (156773/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  50% (159972/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  51% (163171/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  52% (166371/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  53% (169570/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  54% (172770/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  55% (175969/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  56% (179169/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  57% (182368/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  58% (185567/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  59% (188767/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  60% (191966/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  61% (195166/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  62% (198365/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  63% (201565/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  64% (204764/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  65% (207963/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  66% (211163/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  67% (214362/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  68% (217562/319943), 13.02 MiB | 12.99 MiB/s   Receiving objects:  69% (220761/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  70% (223961/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  71% (227160/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  72% (230359/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  73% (233559/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  74% (236758/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  75% (239958/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  76% (243157/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  77% (246357/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  78% (249556/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  79% (252755/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  80% (255955/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  81% (259154/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  82% (262354/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  83% (265553/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  84% (268753/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  84% (269958/319943), 26.14 MiB | 17.39 MiB/s   Receiving objects:  85% (271952/319943), 37.88 MiB | 18.90 MiB/s   Receiving objects:  86% (275151/319943), 37.88 MiB | 18.90 MiB/s   Receiving objects:  87% (278351/319943), 37.88 MiB | 18.90 MiB/s   Receiving objects:  88% (281550/319943), 37.88 MiB | 18.90 MiB/s   Receiving objects:  89% (284750/319943), 37.88 MiB | 18.90 MiB/s   Receiving objects:  90% (287949/319943), 46.80 MiB | 18.68 MiB/s   Receiving objects:  91% (291149/319943), 46.80 MiB | 18.68 MiB/s   Receiving objects:  92% (294348/319943), 46.80 MiB | 18.68 MiB/s   Receiving objects:  93% (297547/319943), 46.80 MiB | 18.68 MiB/s   Receiving objects:  93% (299136/319943), 46.80 MiB | 18.68 MiB/s   Receiving objects:  94% (300747/319943), 56.70 MiB | 18.86 MiB/s   Receiving objects:  95% (303946/319943), 56.70 MiB | 18.86 MiB/s   Receiving objects:  96% (307146/319943), 66.74 MiB | 19.03 MiB/s   Receiving objects:  97% (310345/319943), 66.74 MiB | 19.03 MiB/s   Receiving objects:  97% (311502/319943), 66.74 MiB | 19.03 MiB/s   Receiving objects:  98% (313545/319943), 74.12 MiB | 18.49 MiB/s   Receiving objects:  99% (316744/319943), 74.12 MiB | 18.49 MiB/s   remote: Total 319943 (delta 231886), reused 319943 (delta 231886)[K
Receiving objects: 100% (319943/319943), 86.44 MiB | 19.17 MiB/s   Receiving objects: 100% (319943/319943), 96.39 MiB | 20.22 MiB/s, done.
Resolving deltas:   0% (0/231886)   Resolving deltas:   1% (2320/231886)   Resolving deltas:   2% (4644/231886)   Resolving deltas:   3% (6958/231886)   Resolving deltas:   4% (9382/231886)   Resolving deltas:   5% (11597/231886)   Resolving deltas:   6% (13915/231886)   Resolving deltas:   7% (16244/231886)   Resolving deltas:   8% (18583/231886)   Resolving deltas:   9% (21116/231886)   Resolving deltas:  10% (23274/231886)   Resolving deltas:  11% (25963/231886)   Resolving deltas:  12% (27836/231886)   Resolving deltas:  13% (30244/231886)   Resolving deltas:  14% (32466/231886)   Resolving deltas:  15% (34792/231886)   Resolving deltas:  16% (37155/231886)   Resolving deltas:  17% (39474/231886)   Resolving deltas:  18% (41753/231886)   Resolving deltas:  19% (44160/231886)   Resolving deltas:  20% (46398/231886)   Resolving deltas:  21% (48753/231886)   Resolving deltas:  22% (51017/231886)   Resolving deltas:  23% (53375/231886)   Resolving deltas:  24% (55709/231886)   Resolving deltas:  25% (57991/231886)   Resolving deltas:  26% (60450/231886)   Resolving deltas:  27% (62658/231886)   Resolving deltas:  28% (64933/231886)   Resolving deltas:  28% (67046/231886)   Resolving deltas:  29% (67286/231886)   Resolving deltas:  30% (69580/231886)   Resolving deltas:  31% (71885/231886)   Resolving deltas:  32% (74468/231886)   Resolving deltas:  33% (76525/231886)   Resolving deltas:  34% (78849/231886)   Resolving deltas:  35% (81207/231886)   Resolving deltas:  36% (83524/231886)   Resolving deltas:  37% (85823/231886)   Resolving deltas:  38% (88222/231886)   Resolving deltas:  39% (90551/231886)   Resolving deltas:  40% (92852/231886)   Resolving deltas:  41% (95098/231886)   Resolving deltas:  42% (97538/231886)   Resolving deltas:  43% (99746/231886)   Resolving deltas:  44% (102193/231886)   Resolving deltas:  45% (104515/231886)   Resolving deltas:  46% (106679/231886)   Resolving deltas:  47% (109174/231886)   Resolving deltas:  48% (111309/231886)   Resolving deltas:  49% (113637/231886)   Resolving deltas:  50% (115953/231886)   Resolving deltas:  51% (118271/231886)   Resolving deltas:  52% (120583/231886)   Resolving deltas:  53% (123008/231886)   Resolving deltas:  54% (125226/231886)   Resolving deltas:  55% (127556/231886)   Resolving deltas:  56% (129864/231886)   Resolving deltas:  57% (132180/231886)   Resolving deltas:  58% (134571/231886)   Resolving deltas:  59% (136829/231886)   Resolving deltas:  60% (139161/231886)   Resolving deltas:  61% (141483/231886)   Resolving deltas:  61% (143347/231886)   Resolving deltas:  62% (143807/231886)   Resolving deltas:  63% (146090/231886)   Resolving deltas:  64% (148485/231886)   Resolving deltas:  65% (150726/231886)   Resolving deltas:  66% (153650/231886)   Resolving deltas:  67% (155529/231886)   Resolving deltas:  68% (157737/231886)   Resolving deltas:  69% (160010/231886)   Resolving deltas:  70% (162337/231886)   Resolving deltas:  71% (164762/231886)   Resolving deltas:  72% (166959/231886)   Resolving deltas:  73% (169321/231886)   Resolving deltas:  74% (171597/231886)   Resolving deltas:  75% (173918/231886)   Resolving deltas:  76% (176258/231886)   Resolving deltas:  76% (178513/231886)   Resolving deltas:  77% (178553/231886)   Resolving deltas:  78% (180876/231886)   Resolving deltas:  79% (183224/231886)   Resolving deltas:  80% (185790/231886)   Resolving deltas:  81% (187952/231886)   Resolving deltas:  81% (189822/231886)   Resolving deltas:  82% (190161/231886)   Resolving deltas:  83% (192470/231886)   Resolving deltas:  84% (194822/231886)   Resolving deltas:  84% (195654/231886)   Resolving deltas:  85% (197134/231886)   Resolving deltas:  86% (199422/231886)   Resolving deltas:  87% (201758/231886)   Resolving deltas:  87% (203312/231886)   Resolving deltas:  88% (204061/231886)   Resolving deltas:  89% (206474/231886)   Resolving deltas:  90% (208699/231886)   Resolving deltas:  90% (210257/231886)   Resolving deltas:  91% (211053/231886)   Resolving deltas:  92% (213344/231886)   Resolving deltas:  93% (215655/231886)   Resolving deltas:  93% (217156/231886)   Resolving deltas:  94% (217975/231886)   Resolving deltas:  95% (220299/231886)   Resolving deltas:  95% (221423/231886)   Resolving deltas:  96% (222648/231886)   Resolving deltas:  97% (224947/231886)   Resolving deltas:  98% (227299/231886)   Resolving deltas:  98% (229031/231886)   Resolving deltas:  99% (229837/231886)   Resolving deltas: 100% (231886/231886)   Resolving deltas: 100% (231886/231886), done.
Fetching git://github.com/regru/premailer.git
remote: Counting objects: 2002, done.[K
remote: Compressing objects:   0% (1/993)   [Kremote: Compressing objects:   1% (10/993)   [Kremote: Compressing objects:   2% (20/993)   [Kremote: Compressing objects:   3% (30/993)   [Kremote: Compressing objects:   4% (40/993)   [Kremote: Compressing objects:   5% (50/993)   [Kremote: Compressing objects:   6% (60/993)   [Kremote: Compressing objects:   7% (70/993)   [Kremote: Compressing objects:   8% (80/993)   [Kremote: Compressing objects:   9% (90/993)   [Kremote: Compressing objects:  10% (100/993)   [Kremote: Compressing objects:  11% (110/993)   [Kremote: Compressing objects:  12% (120/993)   [Kremote: Compressing objects:  13% (130/993)   [Kremote: Compressing objects:  14% (140/993)   [Kremote: Compressing objects:  15% (149/993)   [Kremote: Compressing objects:  16% (159/993)   [Kremote: Compressing objects:  17% (169/993)   [Kremote: Compressing objects:  18% (179/993)   [Kremote: Compressing objects:  19% (189/993)   [Kremote: Compressing objects:  20% (199/993)   [Kremote: Compressing objects:  21% (209/993)   [Kremote: Compressing objects:  22% (219/993)   [Kremote: Compressing objects:  23% (229/993)   [Kremote: Compressing objects:  24% (239/993)   [Kremote: Compressing objects:  25% (249/993)   [Kremote: Compressing objects:  26% (259/993)   [Kremote: Compressing objects:  27% (269/993)   [Kremote: Compressing objects:  28% (279/993)   [Kremote: Compressing objects:  29% (288/993)   [Kremote: Compressing objects:  30% (298/993)   [Kremote: Compressing objects:  31% (308/993)   [Kremote: Compressing objects:  32% (318/993)   [Kremote: Compressing objects:  33% (328/993)   [Kremote: Compressing objects:  34% (338/993)   [Kremote: Compressing objects:  35% (348/993)   [Kremote: Compressing objects:  36% (358/993)   [Kremote: Compressing objects:  37% (368/993)   [Kremote: Compressing objects:  38% (378/993)   [Kremote: Compressing objects:  39% (388/993)   [Kremote: Compressing objects:  40% (398/993)   [Kremote: Compressing objects:  41% (408/993)   [Kremote: Compressing objects:  42% (418/993)   [Kremote: Compressing objects:  43% (427/993)   [Kremote: Compressing objects:  44% (437/993)   [Kremote: Compressing objects:  45% (447/993)   [Kremote: Compressing objects:  46% (457/993)   [Kremote: Compressing objects:  47% (467/993)   [Kremote: Compressing objects:  48% (477/993)   [Kremote: Compressing objects:  49% (487/993)   [Kremote: Compressing objects:  50% (497/993)   [Kremote: Compressing objects:  51% (507/993)   [Kremote: Compressing objects:  52% (517/993)   [Kremote: Compressing objects:  53% (527/993)   [Kremote: Compressing objects:  54% (537/993)   [Kremote: Compressing objects:  55% (547/993)   [Kremote: Compressing objects:  56% (557/993)   [Kremote: Compressing objects:  57% (567/993)   [Kremote: Compressing objects:  58% (576/993)   [Kremote: Compressing objects:  59% (586/993)   [Kremote: Compressing objects:  60% (596/993)   [Kremote: Compressing objects:  61% (606/993)   [Kremote: Compressing objects:  62% (616/993)   [Kremote: Compressing objects:  63% (626/993)   [Kremote: Compressing objects:  64% (636/993)   [Kremote: Compressing objects:  65% (646/993)   [Kremote: Compressing objects:  66% (656/993)   [Kremote: Compressing objects:  67% (666/993)   [Kremote: Compressing objects:  68% (676/993)   [Kremote: Compressing objects:  69% (686/993)   [Kremote: Compressing objects:  70% (696/993)   [Kremote: Compressing objects:  71% (706/993)   [Kremote: Compressing objects:  72% (715/993)   [Kremote: Compressing objects:  73% (725/993)   [Kremote: Compressing objects:  74% (735/993)   [Kremote: Compressing objects:  75% (745/993)   [Kremote: Compressing objects:  76% (755/993)   [Kremote: Compressing objects:  77% (765/993)   [Kremote: Compressing objects:  78% (775/993)   [Kremote: Compressing objects:  79% (785/993)   [Kremote: Compressing objects:  80% (795/993)   [Kremote: Compressing objects:  81% (805/993)   [Kremote: Compressing objects:  82% (815/993)   [Kremote: Compressing objects:  83% (825/993)   [Kremote: Compressing objects:  84% (835/993)   [Kremote: Compressing objects:  85% (845/993)   [Kremote: Compressing objects:  86% (854/993)   [Kremote: Compressing objects:  87% (864/993)   [Kremote: Compressing objects:  88% (874/993)   [Kremote: Compressing objects:  89% (884/993)   [Kremote: Compressing objects:  90% (894/993)   [Kremote: Compressing objects:  91% (904/993)   [Kremote: Compressing objects:  92% (914/993)   [Kremote: Compressing objects:  93% (924/993)   [Kremote: Compressing objects:  94% (934/993)   [Kremote: Compressing objects:  95% (944/993)   [Kremote: Compressing objects:  96% (954/993)   [Kremote: Compressing objects:  97% (964/993)   [Kremote: Compressing objects:  98% (974/993)   [Kremote: Compressing objects:  99% (984/993)   [Kremote: Compressing objects: 100% (993/993)   [Kremote: Compressing objects: 100% (993/993), done.[K
Receiving objects:   0% (1/2002)   Receiving objects:   1% (21/2002)   Receiving objects:   2% (41/2002)   Receiving objects:   3% (61/2002)   Receiving objects:   4% (81/2002)   Receiving objects:   5% (101/2002)   Receiving objects:   6% (121/2002)   Receiving objects:   7% (141/2002)   Receiving objects:   8% (161/2002)   Receiving objects:   9% (181/2002)   Receiving objects:  10% (201/2002)   Receiving objects:  11% (221/2002)   Receiving objects:  12% (241/2002)   Receiving objects:  13% (261/2002)   Receiving objects:  14% (281/2002)   Receiving objects:  15% (301/2002)   Receiving objects:  16% (321/2002)   Receiving objects:  17% (341/2002)   Receiving objects:  18% (361/2002)   Receiving objects:  19% (381/2002)   Receiving objects:  20% (401/2002)   Receiving objects:  21% (421/2002)   Receiving objects:  22% (441/2002)   Receiving objects:  23% (461/2002)   Receiving objects:  24% (481/2002)   Receiving objects:  25% (501/2002)   Receiving objects:  26% (521/2002)   Receiving objects:  27% (541/2002)   Receiving objects:  28% (561/2002)   Receiving objects:  29% (581/2002)   Receiving objects:  30% (601/2002)   Receiving objects:  31% (621/2002)   Receiving objects:  32% (641/2002)   Receiving objects:  33% (661/2002)   Receiving objects:  34% (681/2002)   Receiving objects:  35% (701/2002)   Receiving objects:  36% (721/2002)   Receiving objects:  37% (741/2002)   Receiving objects:  38% (761/2002)   Receiving objects:  39% (781/2002)   Receiving objects:  40% (801/2002)   Receiving objects:  41% (821/2002)   Receiving objects:  42% (841/2002)   Receiving objects:  43% (861/2002)   Receiving objects:  44% (881/2002)   Receiving objects:  45% (901/2002)   Receiving objects:  46% (921/2002)   Receiving objects:  47% (941/2002)   Receiving objects:  48% (961/2002)   Receiving objects:  49% (981/2002)   Receiving objects:  50% (1001/2002)   Receiving objects:  51% (1022/2002)   Receiving objects:  52% (1042/2002)   Receiving objects:  53% (1062/2002)   Receiving objects:  54% (1082/2002)   Receiving objects:  55% (1102/2002)   Receiving objects:  56% (1122/2002)   Receiving objects:  57% (1142/2002)   Receiving objects:  58% (1162/2002)   Receiving objects:  59% (1182/2002)   Receiving objects:  60% (1202/2002)   Receiving objects:  61% (1222/2002)   Receiving objects:  62% (1242/2002)   Receiving objects:  63% (1262/2002)   Receiving objects:  64% (1282/2002)   Receiving objects:  65% (1302/2002)   Receiving objects:  66% (1322/2002)   Receiving objects:  67% (1342/2002)   Receiving objects:  68% (1362/2002)   Receiving objects:  69% (1382/2002)   Receiving objects:  70% (1402/2002)   Receiving objects:  71% (1422/2002)   Receiving objects:  72% (1442/2002)   Receiving objects:  73% (1462/2002)   Receiving objects:  74% (1482/2002)   Receiving objects:  75% (1502/2002)   Receiving objects:  76% (1522/2002)   Receiving objects:  77% (1542/2002)   Receiving objects:  78% (1562/2002)   Receiving objects:  79% (1582/2002)   Receiving objects:  80% (1602/2002)   Receiving objects:  81% (1622/2002)   Receiving objects:  82% (1642/2002)   Receiving objects:  83% (1662/2002)   Receiving objects:  84% (1682/2002)   Receiving objects:  85% (1702/2002)   Receiving objects:  86% (1722/2002)   Receiving objects:  87% (1742/2002)   Receiving objects:  88% (1762/2002)   Receiving objects:  89% (1782/2002)   Receiving objects:  90% (1802/2002)   Receiving objects:  91% (1822/2002)   Receiving objects:  92% (1842/2002)   Receiving objects:  93% (1862/2002)   Receiving objects:  94% (1882/2002)   Receiving objects:  95% (1902/2002)   Receiving objects:  96% (1922/2002)   remote: Total 2002 (delta 989), reused 2002 (delta 989)[K
Receiving objects:  97% (1942/2002)   Receiving objects:  98% (1962/2002)   Receiving objects:  99% (1982/2002)   Receiving objects: 100% (2002/2002)   Receiving objects: 100% (2002/2002), 390.45 KiB, done.
Resolving deltas:   0% (0/989)   Resolving deltas:   3% (31/989)   Resolving deltas:   6% (62/989)   Resolving deltas:   7% (75/989)   Resolving deltas:   8% (85/989)   Resolving deltas:   9% (90/989)   Resolving deltas:  10% (103/989)   Resolving deltas:  11% (109/989)   Resolving deltas:  12% (126/989)   Resolving deltas:  13% (131/989)   Resolving deltas:  14% (140/989)   Resolving deltas:  16% (163/989)   Resolving deltas:  20% (202/989)   Resolving deltas:  21% (208/989)   Resolving deltas:  22% (220/989)   Resolving deltas:  24% (241/989)   Resolving deltas:  29% (290/989)   Resolving deltas:  30% (298/989)   Resolving deltas:  31% (311/989)   Resolving deltas:  32% (317/989)   Resolving deltas:  33% (328/989)   Resolving deltas:  38% (380/989)   Resolving deltas:  39% (390/989)   Resolving deltas:  40% (403/989)   Resolving deltas:  43% (433/989)   Resolving deltas:  46% (460/989)   Resolving deltas:  47% (472/989)   Resolving deltas:  49% (494/989)   Resolving deltas:  50% (495/989)   Resolving deltas:  51% (505/989)   Resolving deltas:  52% (518/989)   Resolving deltas:  53% (527/989)   Resolving deltas:  54% (535/989)   Resolving deltas:  56% (558/989)   Resolving deltas:  69% (689/989)   Resolving deltas:  70% (701/989)   Resolving deltas:  71% (711/989)   Resolving deltas:  72% (713/989)   Resolving deltas:  73% (722/989)   Resolving deltas:  78% (778/989)   Resolving deltas:  79% (783/989)   Resolving deltas:  83% (830/989)   Resolving deltas:  84% (833/989)   Resolving deltas:  85% (848/989)   Resolving deltas:  86% (852/989)   Resolving deltas:  87% (863/989)   Resolving deltas:  88% (871/989)   Resolving deltas:  89% (881/989)   Resolving deltas:  90% (893/989)   Resolving deltas:  91% (900/989)   Resolving deltas:  94% (935/989)   Resolving deltas:  95% (945/989)   Resolving deltas:  96% (951/989)   Resolving deltas:  97% (961/989)   Resolving deltas:  98% (971/989)   Resolving deltas:  99% (982/989)   Resolving deltas: 100% (989/989)   Resolving deltas: 100% (989/989), done.
Fetching git://github.com/kreynolds/cassandra-cql.git
remote: Reusing existing pack: 957, done.[K
Receiving objects:   0% (1/957)   Receiving objects:   1% (10/957)   Receiving objects:   2% (20/957)   Receiving objects:   3% (29/957)   Receiving objects:   4% (39/957)   Receiving objects:   5% (48/957)   Receiving objects:   6% (58/957)   Receiving objects:   7% (67/957)   Receiving objects:   8% (77/957)   Receiving objects:   9% (87/957)   Receiving objects:  10% (96/957)   Receiving objects:  11% (106/957)   Receiving objects:  12% (115/957)   Receiving objects:  13% (125/957)   Receiving objects:  14% (134/957)   Receiving objects:  15% (144/957)   Receiving objects:  16% (154/957)   Receiving objects:  17% (163/957)   Receiving objects:  18% (173/957)   Receiving objects:  19% (182/957)   Receiving objects:  20% (192/957)   Receiving objects:  21% (201/957)   Receiving objects:  22% (211/957)   Receiving objects:  23% (221/957)   Receiving objects:  24% (230/957)   Receiving objects:  25% (240/957)   Receiving objects:  26% (249/957)   Receiving objects:  27% (259/957)   Receiving objects:  28% (268/957)   Receiving objects:  29% (278/957)   Receiving objects:  30% (288/957)   Receiving objects:  31% (297/957)   Receiving objects:  32% (307/957)   Receiving objects:  33% (316/957)   Receiving objects:  34% (326/957)   Receiving objects:  35% (335/957)   Receiving objects:  36% (345/957)   Receiving objects:  37% (355/957)   Receiving objects:  38% (364/957)   Receiving objects:  39% (374/957)   Receiving objects:  40% (383/957)   Receiving objects:  41% (393/957)   Receiving objects:  42% (402/957)   Receiving objects:  43% (412/957)   Receiving objects:  44% (422/957)   Receiving objects:  45% (431/957)   Receiving objects:  46% (441/957)   Receiving objects:  47% (450/957)   Receiving objects:  48% (460/957)   Receiving objects:  49% (469/957)   Receiving objects:  50% (479/957)   Receiving objects:  51% (489/957)   Receiving objects:  52% (498/957)   Receiving objects:  53% (508/957)   Receiving objects:  54% (517/957)   Receiving objects:  55% (527/957)   Receiving objects:  56% (536/957)   Receiving objects:  57% (546/957)   Receiving objects:  58% (556/957)   Receiving objects:  59% (565/957)   Receiving objects:  60% (575/957)   Receiving objects:  61% (584/957)   Receiving objects:  62% (594/957)   Receiving objects:  63% (603/957)   Receiving objects:  64% (613/957)   Receiving objects:  65% (623/957)   Receiving objects:  66% (632/957)   Receiving objects:  67% (642/957)   Receiving objects:  68% (651/957)   Receiving objects:  69% (661/957)   Receiving objects:  70% (670/957)   Receiving objects:  71% (680/957)   remote: Total 957 (delta 0), reused 0 (delta 0)[K
Receiving objects:  72% (690/957)   Receiving objects:  73% (699/957)   Receiving objects:  74% (709/957)   Receiving objects:  75% (718/957)   Receiving objects:  76% (728/957)   Receiving objects:  77% (737/957)   Receiving objects:  78% (747/957)   Receiving objects:  79% (757/957)   Receiving objects:  80% (766/957)   Receiving objects:  81% (776/957)   Receiving objects:  82% (785/957)   Receiving objects:  83% (795/957)   Receiving objects:  84% (804/957)   Receiving objects:  85% (814/957)   Receiving objects:  86% (824/957)   Receiving objects:  87% (833/957)   Receiving objects:  88% (843/957)   Receiving objects:  89% (852/957)   Receiving objects:  90% (862/957)   Receiving objects:  91% (871/957)   Receiving objects:  92% (881/957)   Receiving objects:  93% (891/957)   Receiving objects:  94% (900/957)   Receiving objects:  95% (910/957)   Receiving objects:  96% (919/957)   Receiving objects:  97% (929/957)   Receiving objects:  98% (938/957)   Receiving objects:  99% (948/957)   Receiving objects: 100% (957/957)   Receiving objects: 100% (957/957), 227.30 KiB, done.
Resolving deltas:   0% (0/483)   Resolving deltas:   2% (13/483)   Resolving deltas:   3% (15/483)   Resolving deltas:   4% (21/483)   Resolving deltas:   7% (35/483)   Resolving deltas:  11% (55/483)   Resolving deltas:  16% (78/483)   Resolving deltas:  18% (90/483)   Resolving deltas:  20% (98/483)   Resolving deltas:  22% (110/483)   Resolving deltas:  23% (113/483)   Resolving deltas:  24% (117/483)   Resolving deltas:  26% (127/483)   Resolving deltas:  27% (133/483)   Resolving deltas:  28% (139/483)   Resolving deltas:  29% (141/483)   Resolving deltas:  30% (146/483)   Resolving deltas:  37% (182/483)   Resolving deltas:  38% (186/483)   Resolving deltas:  40% (195/483)   Resolving deltas:  41% (199/483)   Resolving deltas:  42% (203/483)   Resolving deltas:  44% (213/483)   Resolving deltas:  45% (219/483)   Resolving deltas:  51% (247/483)   Resolving deltas:  53% (257/483)   Resolving deltas:  54% (263/483)   Resolving deltas:  62% (301/483)   Resolving deltas:  63% (306/483)   Resolving deltas:  64% (310/483)   Resolving deltas:  65% (315/483)   Resolving deltas:  66% (323/483)   Resolving deltas:  67% (328/483)   Resolving deltas:  68% (329/483)   Resolving deltas:  71% (344/483)   Resolving deltas:  74% (359/483)   Resolving deltas:  75% (363/483)   Resolving deltas:  76% (368/483)   Resolving deltas:  77% (372/483)   Resolving deltas:  78% (377/483)   Resolving deltas:  81% (394/483)   Resolving deltas:  82% (397/483)   Resolving deltas:  83% (401/483)   Resolving deltas:  84% (408/483)   Resolving deltas:  85% (413/483)   Resolving deltas:  88% (427/483)   Resolving deltas:  89% (432/483)   Resolving deltas:  90% (437/483)   Resolving deltas:  93% (454/483)   Resolving deltas:  94% (456/483)   Resolving deltas:  95% (461/483)   Resolving deltas:  96% (468/483)   Resolving deltas:  97% (470/483)   Resolving deltas: 100% (483/483)   Resolving deltas: 100% (483/483), done.
Fetching source index from http://rubygems.org/
Resolving dependencies...........................................................................................................
Using rake (10.1.1)
Using activesupport (2.3.18) from git://github.com/makandra/rails.git (at e86daf8)
Installing rack (1.1.3)
Using actionpack (2.3.18) from git://github.com/makandra/rails.git (at e86daf8)
Using actionmailer (2.3.18) from git://github.com/makandra/rails.git (at e86daf8)
Installing active_model_serializers_rails_2.3 (0.9.0.pre2)
Using activerecord (2.3.18) from git://github.com/makandra/rails.git (at e86daf8)
Using activeresource (2.3.18) from git://github.com/makandra/rails.git (at e86daf8)
Installing addressable (2.3.5)
Using rails (2.3.18) from git://github.com/makandra/rails.git (at e86daf8)
Using adheres_to_policy (0.0.1) from source at gems/adheres_to_policy
Installing nokogiri (1.5.6)
Installing adobe_connect (1.0.0)
Installing authlogic (2.1.3)
Installing json (1.8.1)
Installing uuidtools (2.1.4)
Installing aws-sdk (1.21.0)
Installing barby (0.5.0)
Installing bcrypt-ruby (3.0.1)
Installing bluecloth (2.0.10)
Installing builder (3.0.0)
Installing uniform_notifier (1.4.0)
Installing bullet (4.5.0)
Using bundler (1.5.1)
Using canvas_breach_mitigation (0.0.1) from source at gems/canvas_breach_mitigation
Installing simple_uuid (0.4.0)
Installing thrift (0.8.0)
Installing thrift_client (0.8.4)
Using cassandra-cql (1.2.1) from git://github.com/kreynolds/cassandra-cql.git (at d100be0)
Using canvas_cassandra (0.0.1) from source at gems/canvas_cassandra
Installing canvas_connect (0.3.2)
Using canvas_crummy (0.0.1) from source at gems/canvas_crummy
Using canvas_mimetype_fu (0.0.1) from source at gems/canvas_mimetype_fu
Using canvas_sanitize (0.0.1) from source at gems/canvas_sanitize
Installing fake_arel (1.4.0)
Using canvas_stringex (0.0.1) from source at gems/canvas_stringex
Installing canvas_webex (0.12)
Installing ffi (1.1.5)
Installing childprocess (0.4.0)
Installing chunky_png (1.2.9)
Installing coderay (1.1.0)
Installing coffee-script-source (1.6.2)
Installing multi_json (1.8.2)
Installing execjs (1.4.0)
Installing coffee-script (2.2.0)
Installing colored (1.2)
Installing columnize (0.3.6)
Installing fssm (0.2.10)
Installing sass (3.2.3)
Installing compass (0.12.2)
Installing compass-rails (1.0.3)
Installing safe_yaml (0.9.7)
Installing crack (0.4.1)
Installing crocodoc-ruby (0.0.1)
Installing css_parser (1.3.5)
Installing cssmin (1.0.3)
Installing daemons (1.1.0)
Installing debugger-linecache (1.2.0)
Installing debugger-ruby_core_source (1.2.4)
Installing debugger (1.5.0)
Installing diff-lcs (1.1.3)
Installing docile (1.1.3)
Installing mustache (0.99.5)
Installing posix-spawn (0.3.8)
Installing yajl-ruby (1.1.0)
Installing pygments.rb (0.5.4)
Installing redcarpet (3.0.0)
Installing dress_code (1.0.2)
Installing oauth (0.4.7)
Installing querystring (0.1.0)
Installing mime-types (1.17.2)
Installing typhoeus (0.3.3)
Installing embedly (1.5.5)
Installing encrypted_cookie_store-instructure (1.0.5)
Installing erubis (2.7.0)
Installing eventmachine (1.0.3)
Installing journey (1.0.4)
Installing fake_rails3_routes (1.0.4)
Installing ffi-icu (0.1.2)
Installing folio-pagination-legacy (0.0.3)
Installing foreigner (0.9.2)
Installing formatador (0.2.4)
Installing rb-fsevent (0.9.4)
Installing rb-inotify (0.9.3)
Installing rb-kqueue (0.2.0)
Installing listen (1.3.1)
Installing lumberjack (1.0.4)
Installing method_source (0.8.2)
Installing slop (3.4.7)
Installing pry (0.9.12.6)
Installing thor (0.18.1)
Installing guard (1.8.0)
Installing sexp_processor (4.2.1)
Installing ruby_parser (3.1.3)
Installing ruby2ruby (2.0.7)
Installing hairtrigger (0.2.3)
Installing libxml-ruby (2.6.0)
Installing happymapper (0.4.1)
Installing hashery (1.3.0)
Installing highline (1.6.1)
Installing hoe (3.8.1)
Installing htmlentities (4.3.1)
Installing i18n (0.6.8)
Installing i18nema (0.0.7)
Installing icalendar (1.1.5)
Installing redis (3.0.1)
Installing instructure-redis-store (1.0.0.2.instructure1)
Installing jsmin (1.0.1)
Installing jammit (0.6.6)
Installing macaddr (1.0.0)
Installing polyglot (0.3.3)
Installing treetop (1.4.15)
Installing mail (2.5.4)
Installing marginalia (1.1.3)
Installing metaclass (0.0.2)
Installing subexec (0.0.4)
Installing mini_magick (1.3.2)
Installing mocha (1.0.0.alpha)
Installing rdiscount (1.6.8)
Installing rubyzip (1.0.0)
Installing moodle2cc (0.1.11)
Installing mysql2 (0.2.18)
Installing net-ldap (0.3.1)
Installing netaddr (1.5.0)
Installing oauth-instructure (0.4.10)
Installing oj (2.1.7)
Installing parallel (0.5.16)
Installing pg (0.15.0)
Installing rack-test (0.6.2)
Installing ratom-instructure (0.6.9)
Installing rb-fchange (0.0.6)
Installing rdoc (3.12)
Installing recaptcha (0.3.1)
Installing redis-scripting (1.0.1)
Using regru-premailer (1.7.7) from git://github.com/regru/premailer.git (at 08a73c7)
Installing ritex (1.0.1)
Installing rotp (1.4.1)
Installing rqrcode (0.4.2)
Installing rscribd (1.2.0)
Installing rspec (1.3.2)
Installing rspec-rails (1.3.4)
Installing ruby-saml-mod (0.1.24)
Installing rubycas-client (2.2.1)
Installing rufus-scheduler (2.0.6)
Installing safe_yaml-instructure (0.8.0)
Installing sanitize (2.0.3)
Installing websocket (1.0.7)
Installing selenium-webdriver (2.39.0)
Installing sequel (4.5.0)
Installing shackles (1.0.2)
Installing simplecov-html (0.8.0)
Installing simplecov (0.8.2)
Installing simplecov-rcov (0.2.3)
Installing soap4r-ruby1.9 (2.0.0)
Installing soap4r-middleware (0.8.3)
Installing sqlite3 (1.3.8)
Installing statsd-ruby (1.0.0)
Installing test-unit (1.2.3)
Installing thin (1.5.1)
Installing timecop (0.6.3)
Installing tzinfo (0.3.35)
Installing useragent (0.4.16)
Installing uuid (2.3.2)
Installing webmock (1.16.1)
Installing webrat (0.7.3)
Installing will_paginate (2.3.15)
Installing xml-simple (1.0.12)
Installing ya2yaml (0.30)
Installing yard (0.8.0)
Installing yard-appendix (0.1.8)
Installing zip-zip (0.2)
Your bundle is complete!
Use `bundle show [gemname]` to see where a bundled gem is installed.
Post-install message from barby:

*** NEW REQUIRE POLICY ***"
Barby no longer require all barcode symbologies by default. You'll have
to require the ones you need. For example, if you need EAN-13,
require 'barby/barcode/ean_13'; For a full list of symbologies and their
filenames, see README.
***

Post-install message from icalendar:
PostInstall.txt
Post-install message from rdoc:
Depending on your version of ruby, you may need to install ruby rdoc/ri data:

<= 1.8.6 : unsupported
 = 1.8.7 : gem install rdoc-data; rdoc-data --install
 = 1.9.1 : gem install rdoc-data; rdoc-data --install
>= 1.9.2 : nothing to do! Yay!
travis_fold:end:installtravis_fold:start:before_script.1$ find ./config -depth -name "*.yml.example" -exec sh -c 'cp "$1" "${1%.yml.example}.yml"' _ {} \;
travis_fold:end:before_script.1travis_fold:start:before_script.2$ psql -c 'create database myapp_test;' -U postgres; cp ./config/database.yml.travis ./config/database.yml
CREATE DATABASE
travis_fold:end:before_script.2travis_fold:start:before_script.3$ RAILS_ENV=test rake db:migrate
Code coverage not enabled
Bullet not enabled
==  InitCanvasDb: migrating ===================================================
-- create_table("abstract_courses", {:force=>true})
   -> 0.0064s
-- add_index("abstract_courses", ["college_id"], {:name=>"index_abstract_courses_on_college_id"})
   -> 0.0022s
-- add_index("abstract_courses", ["department_id"], {:name=>"index_abstract_courses_on_department_id"})
   -> 0.0029s
-- add_index("abstract_courses", ["root_account_id", "sis_source_id"], {:name=>"index_abstract_courses_on_root_account_id_and_sis_source_id"})
   -> 0.0022s
-- add_index("abstract_courses", ["sis_source_id"], {:name=>"index_abstract_courses_on_sis_source_id"})
   -> 0.0030s
-- create_table("account_authorization_configs", {:force=>true})
   -> 0.0051s
-- add_index("account_authorization_configs", ["account_id"], {:name=>"index_account_authorization_configs_on_account_id"})
   -> 0.0028s
-- create_table("account_reports")
   -> 0.0046s
-- create_table("account_users", {:force=>true})
   -> 0.0034s
-- add_index("account_users", ["account_id"], {:name=>"index_account_users_on_account_id"})
   -> 0.0021s
-- add_index("account_users", ["user_id"], {:name=>"index_account_users_on_user_id"})
   -> 0.0021s
-- create_table("accounts", {:force=>true})
   -> 0.0093s
-- add_index("accounts", ["id", "type"], {:name=>"index_accounts_on_id_and_type"})
   -> 0.0025s
-- add_index("accounts", ["name", "parent_account_id"], {:name=>"index_accounts_on_name_and_parent_account_id"})
   -> 0.0026s
-- add_index("accounts", ["parent_account_id", "root_account_id"], {:name=>"index_accounts_on_parent_account_id_and_root_account_id"})
   -> 0.0035s
-- add_index("accounts", ["root_account_id", "sis_source_id"], {:name=>"index_accounts_on_root_account_id_and_sis_source_id"})
   -> 0.0034s
-- add_index("accounts", ["sis_source_id"], {:name=>"index_accounts_on_sis_source_id"})
   -> 0.0039s
-- add_index("accounts", ["type"], {:name=>"index_accounts_on_type"})
   -> 0.0044s
-- create_table("assessment_question_bank_users", {:force=>true})
   -> 0.0062s
-- add_index("assessment_question_bank_users", ["assessment_question_bank_id"], {:name=>"assessment_qbu_aqb_id"})
   -> 0.0027s
-- add_index("assessment_question_bank_users", ["user_id"], {:name=>"assessment_qbu_u_id"})
   -> 0.0030s
-- create_table("assessment_question_banks", {:force=>true})
   -> 0.0045s
-- add_index("assessment_question_banks", ["context_id", "context_type"], {:name=>"index_on_aqb_on_context_id_and_context_type"})
   -> 0.0017s
-- create_table("assessment_questions", {:force=>true})
   -> 0.0051s
-- add_index("assessment_questions", ["assessment_question_bank_id", "position"], {:name=>"question_bank_id_and_position"})
   -> 0.0022s
-- add_index("assessment_questions", ["context_id", "context_type"], {:name=>"index_assessment_questions_on_context_id_and_context_type"})
   -> 0.0028s
-- create_table("assessment_requests", {:force=>true})
   -> 0.0055s
-- add_index("assessment_requests", ["assessor_asset_id", "assessor_asset_type"], {:name=>"aa_id_and_aa_type"})
   -> 0.0020s
-- add_index("assessment_requests", ["assessor_id"], {:name=>"index_assessment_requests_on_assessor_id"})
   -> 0.0022s
-- add_index("assessment_requests", ["asset_id", "asset_type"], {:name=>"index_assessment_requests_on_asset_id_and_asset_type"})
   -> 0.0024s
-- add_index("assessment_requests", ["rubric_assessment_id"], {:name=>"index_assessment_requests_on_rubric_assessment_id"})
   -> 0.0020s
-- add_index("assessment_requests", ["rubric_association_id"], {:name=>"index_assessment_requests_on_rubric_association_id"})
   -> 0.0025s
-- add_index("assessment_requests", ["user_id"], {:name=>"index_assessment_requests_on_user_id"})
   -> 0.0024s
-- create_table("asset_user_accesses", {:force=>true})
   -> 0.0046s
-- add_index("asset_user_accesses", ["context_id", "context_type"], {:name=>"index_asset_user_accesses_on_context_id_and_context_type"})
   -> 0.0016s
-- add_index("asset_user_accesses", ["user_id", "asset_code"], {:name=>"index_asset_user_accesses_on_user_id_and_asset_code"})
   -> 0.0017s
-- create_table("assignment_groups", {:force=>true})
   -> 0.0041s
-- add_index("assignment_groups", ["cloned_item_id"], {:name=>"index_assignment_groups_on_cloned_item_id"})
   -> 0.0016s
-- add_index("assignment_groups", ["context_code"], {:name=>"index_assignment_groups_on_context_code"})
   -> 0.2456s
-- add_index("assignment_groups", ["context_id", "context_type"], {:name=>"index_assignment_groups_on_context_id_and_context_type"})
   -> 0.0030s
-- create_table("assignment_reminders", {:force=>true})
   -> 0.0032s
-- add_index("assignment_reminders", ["assignment_id"], {:name=>"index_assignment_reminders_on_assignment_id"})
   -> 0.0015s
-- add_index("assignment_reminders", ["user_id"], {:name=>"index_assignment_reminders_on_user_id"})
   -> 0.0016s
-- create_table("assignments", {:force=>true})
   -> 0.0083s
-- add_index("assignments", ["assignment_group_id"], {:name=>"index_assignments_on_assignment_group_id"})
   -> 0.0017s
-- add_index("assignments", ["cloned_item_id"], {:name=>"index_assignments_on_cloned_item_id"})
   -> 0.0017s
-- add_index("assignments", ["context_code"], {:name=>"index_assignments_on_context_code"})
   -> 0.0018s
-- add_index("assignments", ["context_id", "context_type"], {:name=>"index_assignments_on_context_id_and_context_type"})
   -> 0.0021s
-- add_index("assignments", ["due_at", "context_code"], {:name=>"index_assignments_on_due_at_and_context_code"})
   -> 0.0025s
-- add_index("assignments", ["grading_standard_id"], {:name=>"index_assignments_on_grading_standard_id"})
   -> 0.0025s
-- add_index("assignments", ["workflow_state"], {:name=>"index_assignments_on_workflow_state"})
   -> 0.0027s
-- create_table("attachment_associations", {:force=>true})
   -> 0.0029s
-- add_index("attachment_associations", ["attachment_id"], {:name=>"index_attachment_associations_on_attachment_id"})
   -> 0.0015s
-- add_index("attachment_associations", ["context_id", "context_type"], {:name=>"attachment_associations_a_id_a_type"})
   -> 0.0017s
-- create_table("attachments", {:force=>true})
   -> 0.0065s
-- add_index("attachments", ["cloned_item_id"], {:name=>"index_attachments_on_cloned_item_id"})
   -> 0.0016s
-- add_index("attachments", ["context_id", "context_type"], {:name=>"index_attachments_on_context_id_and_context_type"})
   -> 0.0017s
-- add_index("attachments", ["enrollment_id"], {:name=>"index_attachments_on_enrollment_id"})
   -> 0.0018s
-- add_index("attachments", ["folder_id"], {:name=>"index_attachments_on_folder_id"})
   -> 0.0020s
-- add_index("attachments", ["md5", "namespace"], {:name=>"index_attachments_on_md5_and_namespace"})
   -> 0.0023s
-- add_index("attachments", ["root_attachment_id"], {:name=>"index_attachments_on_root_attachment_id"})
   -> 0.1437s
-- add_index("attachments", ["scribd_account_id"], {:name=>"index_attachments_on_scribd_account_id"})
   -> 0.0043s
-- add_index("attachments", ["scribd_attempts", "scribd_mime_type_id", "workflow_state"], {:name=>"scribd_attempts_smt_workflow_state"})
   -> 0.0038s
-- add_index("attachments", ["scribd_mime_type_id"], {:name=>"index_attachments_on_scribd_mime_type_id"})
   -> 0.0038s
-- add_index("attachments", ["user_id"], {:name=>"index_attachments_on_user_id"})
   -> 0.0042s
-- add_index("attachments", ["workflow_state", "updated_at"], {:name=>"index_attachments_on_workflow_state_and_updated_at"})
   -> 0.0046s
-- create_table("authorization_codes", {:force=>true})
   -> 0.0048s
-- add_index("authorization_codes", ["account_id"], {:name=>"index_authorization_codes_on_account_id"})
   -> 0.0021s
-- create_table("calendar_events", {:force=>true})
   -> 0.0062s
-- add_index("calendar_events", ["cloned_item_id"], {:name=>"index_calendar_events_on_cloned_item_id"})
   -> 0.0020s
-- add_index("calendar_events", ["context_code"], {:name=>"index_calendar_events_on_context_code"})
   -> 0.0021s
-- add_index("calendar_events", ["context_id", "context_type"], {:name=>"index_calendar_events_on_context_id_and_context_type"})
   -> 0.0024s
-- add_index("calendar_events", ["user_id"], {:name=>"index_calendar_events_on_user_id"})
   -> 0.0025s
-- create_table("cloned_items", {:force=>true})
   -> 0.0038s
-- add_index("cloned_items", ["original_item_id", "original_item_type"], {:name=>"cloned_items_original_item_id_and_type"})
   -> 0.0022s
-- create_table("collaborations", {:force=>true})
   -> 0.0056s
-- add_index("collaborations", ["context_id", "context_type"], {:name=>"index_collaborations_on_context_id_and_context_type"})
   -> 0.0020s
-- add_index("collaborations", ["user_id"], {:name=>"index_collaborations_on_user_id"})
   -> 0.0023s
-- create_table("collaborators", {:force=>true})
   -> 0.0036s
-- add_index("collaborators", ["collaboration_id"], {:name=>"index_collaborators_on_collaboration_id"})
   -> 0.0020s
-- add_index("collaborators", ["user_id"], {:name=>"index_collaborators_on_user_id"})
   -> 0.0017s
-- create_table("communication_channels", {:force=>true})
   -> 0.0068s
-- add_index("communication_channels", ["path", "path_type"], {:name=>"index_communication_channels_on_path_and_path_type"})
   -> 0.0022s
-- add_index("communication_channels", ["pseudonym_id"], {:name=>"index_communication_channels_on_pseudonym_id"})
   -> 0.0019s
-- add_index("communication_channels", ["user_id"], {:name=>"index_communication_channels_on_user_id"})
   -> 0.0018s
-- create_table("content_migrations", {:force=>true})
   -> 0.0052s
-- create_table("content_tags", {:force=>true})
   -> 0.0069s
-- add_index("content_tags", ["content_id", "content_type"], {:name=>"index_content_tags_on_content_id_and_content_type"})
   -> 0.0016s
-- add_index("content_tags", ["context_id", "context_type"], {:name=>"index_content_tags_on_context_id_and_context_type"})
   -> 0.0016s
-- add_index("content_tags", ["context_module_id"], {:name=>"index_content_tags_on_context_module_id"})
   -> 0.0020s
-- add_index("content_tags", ["workflow_state"], {:name=>"index_content_tags_on_workflow_state"})
   -> 0.0020s
-- create_table("context_message_participants", {:force=>true})
   -> 0.0030s
-- add_index("context_message_participants", ["context_message_id"], {:name=>"index_context_message_participants_on_context_message_id"})
   -> 0.0013s
-- add_index("context_message_participants", ["user_id"], {:name=>"index_context_message_participants_on_user_id"})
   -> 0.0016s
-- create_table("context_messages", {:force=>true})
   -> 0.0038s
-- add_index("context_messages", ["context_id", "context_type"], {:name=>"index_context_messages_on_context_id_and_context_type"})
   -> 0.0016s
-- add_index("context_messages", ["root_context_message_id"], {:name=>"index_context_messages_on_root_context_message_id"})
   -> 0.0017s
-- add_index("context_messages", ["user_id"], {:name=>"index_context_messages_on_user_id"})
   -> 0.0017s
-- create_table("context_module_progressions", {:force=>true})
   -> 0.0040s
-- add_index("context_module_progressions", ["context_module_id"], {:name=>"index_context_module_progressions_on_context_module_id"})
   -> 0.0015s
-- add_index("context_module_progressions", ["user_id", "context_module_id"], {:name=>"u_id_module_id"})
   -> 0.0015s
-- create_table("context_modules", {:force=>true})
   -> 0.0095s
-- add_index("context_modules", ["context_id", "context_type"], {:name=>"index_context_modules_on_context_id_and_context_type"})
   -> 0.0017s
-- create_table("course_account_associations", {:force=>true})
   -> 0.0033s
-- add_index("course_account_associations", ["account_id", "depth"], {:name=>"index_course_account_associations_on_account_id_and_depth_id"})
   -> 0.0014s
-- add_index("course_account_associations", ["course_id"], {:name=>"index_course_account_associations_on_course_id"})
   -> 0.0015s
-- create_table("course_imports", {:force=>true})
   -> 0.0042s
-- create_table("course_sections", {:force=>true})
   -> 0.0046s
-- add_index("course_sections", ["abstract_course_id"], {:name=>"index_course_sections_on_abstract_course_id"})
   -> 0.0014s
-- add_index("course_sections", ["course_id"], {:name=>"index_course_sections_on_course_id"})
   -> 0.0015s
-- add_index("course_sections", ["enrollment_term_id"], {:name=>"index_course_sections_on_enrollment_term_id"})
   -> 0.0017s
-- add_index("course_sections", ["root_account_id", "sis_source_id"], {:name=>"index_course_sections_on_root_account_id_and_sis_source_id"})
   -> 0.0023s
-- add_index("course_sections", ["sis_cross_listed_section_id"], {:name=>"index_course_sections_on_sis_cross_listed_section_id"})
   -> 0.0021s
-- create_table("courses", {:force=>true})
   -> 0.0079s
-- add_index("courses", ["abstract_course_id"], {:name=>"index_courses_on_abstract_course_id"})
   -> 0.0015s
-- add_index("courses", ["account_id"], {:name=>"index_courses_on_account_id"})
   -> 0.0016s
-- add_index("courses", ["enrollment_term_id"], {:name=>"index_courses_on_enrollment_term_id"})
   -> 0.0018s
-- add_index("courses", ["grading_standard_id"], {:name=>"index_courses_on_grading_standard_id"})
   -> 0.0022s
-- add_index("courses", ["moved_in_account_structure", "updated_at"], {:name=>"index_courses_on_moved_in_account_structure_and_updated_at"})
   -> 0.0022s
-- add_index("courses", ["root_account_id"], {:name=>"index_courses_on_root_account_id"})
   -> 0.0025s
-- add_index("courses", ["wiki_id"], {:name=>"index_courses_on_wiki_id"})
   -> 0.0028s
-- create_table("custom_field_values", {:force=>true})
   -> 0.0037s
-- create_table("custom_fields", {:force=>true})
   -> 0.0037s
-- create_table("delayed_messages", {:force=>true})
   -> 0.0048s
-- add_index("delayed_messages", ["communication_channel_id", "workflow_state", "send_at"], {:name=>"ccid_ws_sa"})
   -> 0.0019s
-- add_index("delayed_messages", ["send_at"], {:name=>"by_sent_at"})
   -> 0.0016s
-- add_index("delayed_messages", ["workflow_state", "send_at"], {:name=>"ws_sa"})
   -> 0.0020s
-- create_table("delayed_notifications", {:force=>true})
   -> 0.0039s
-- add_index("delayed_notifications", ["workflow_state", "created_at"], {:name=>"index_delayed_notifications_on_workflow_state_and_created_at"})
   -> 0.0015s
-- create_table("developer_keys", {:force=>true})
   -> 0.0041s
-- create_table("discussion_entries", {:force=>true})
   -> 0.0041s
-- add_index("discussion_entries", ["attachment_id"], {:name=>"index_discussion_entries_on_attachment_id"})
   -> 0.0014s
-- add_index("discussion_entries", ["discussion_topic_id"], {:name=>"index_discussion_entries_on_discussion_topic_id"})
   -> 0.0015s
-- add_index("discussion_entries", ["user_id"], {:name=>"index_discussion_entries_on_user_id"})
   -> 0.0017s
-- create_table("discussion_topics", {:force=>true})
   -> 0.0108s
-- add_index("discussion_topics", ["attachment_id"], {:name=>"index_discussion_topics_on_attachment_id"})
   -> 0.0021s
-- add_index("discussion_topics", ["cloned_item_id"], {:name=>"index_discussion_topics_on_cloned_item_id"})
   -> 0.0019s
-- add_index("discussion_topics", ["context_code"], {:name=>"index_discussion_topics_on_context_code"})
   -> 0.0026s
-- add_index("discussion_topics", ["context_id", "context_type"], {:name=>"index_discussion_topics_on_context_id_and_context_type"})
   -> 0.0020s
-- add_index("discussion_topics", ["context_id", "position"], {:name=>"index_discussion_topics_on_context_id_and_position"})
   -> 0.0023s
-- add_index("discussion_topics", ["id", "type"], {:name=>"index_discussion_topics_on_id_and_type"})
   -> 0.0042s
-- add_index("discussion_topics", ["root_topic_id"], {:name=>"index_discussion_topics_on_root_topic_id"})
   -> 0.0065s
-- add_index("discussion_topics", ["user_id"], {:name=>"index_discussion_topics_on_user_id"})
   -> 0.0030s
-- add_index("discussion_topics", ["workflow_state"], {:name=>"index_discussion_topics_on_workflow_state"})
   -> 0.0031s
-- create_table("enrollment_dates_overrides", {:force=>true})
   -> 0.0041s
-- create_table("enrollment_terms", {:force=>true})
   -> 0.0049s
-- add_index("enrollment_terms", ["root_account_id", "sis_source_id"], {:name=>"index_enrollment_terms_on_root_account_id_and_sis_source_id"})
   -> 0.0015s
-- add_index("enrollment_terms", ["sis_source_id"], {:name=>"index_enrollment_terms_on_sis_source_id"})
   -> 0.0016s
-- create_table("enrollments", {:force=>true})
   -> 0.0057s
-- add_index("enrollments", ["course_id", "workflow_state"], {:name=>"index_enrollments_on_course_id_and_workflow_state"})
   -> 0.0019s
-- add_index("enrollments", ["course_section_id"], {:name=>"index_enrollments_on_course_section_id"})
   -> 0.0016s
-- add_index("enrollments", ["id", "type"], {:name=>"index_enrollments_on_id_and_type"})
   -> 0.0018s
-- add_index("enrollments", ["root_account_id"], {:name=>"index_enrollments_on_root_account_id"})
   -> 0.0020s
-- add_index("enrollments", ["sis_source_id"], {:name=>"index_enrollments_on_sis_source_id"})
   -> 0.0024s
-- add_index("enrollments", ["user_id"], {:name=>"index_enrollments_on_user_id"})
   -> 0.0024s
-- add_index("enrollments", ["uuid"], {:name=>"index_enrollments_on_uuid"})
   -> 0.0030s
-- add_index("enrollments", ["workflow_state"], {:name=>"index_enrollments_on_workflow_state"})
   -> 0.0038s
-- create_table("eportfolio_categories", {:force=>true})
   -> 0.0046s
-- add_index("eportfolio_categories", ["eportfolio_id"], {:name=>"index_eportfolio_categories_on_eportfolio_id"})
   -> 0.0019s
-- create_table("eportfolio_entries", {:force=>true})
   -> 0.0049s
-- add_index("eportfolio_entries", ["eportfolio_category_id"], {:name=>"index_eportfolio_entries_on_eportfolio_category_id"})
   -> 0.0017s
-- add_index("eportfolio_entries", ["eportfolio_id"], {:name=>"index_eportfolio_entries_on_eportfolio_id"})
   -> 0.0026s
-- create_table("eportfolios", {:force=>true})
   -> 0.0094s
-- add_index("eportfolios", ["user_id"], {:name=>"index_eportfolios_on_user_id"})
   -> 0.0020s
-- create_table("error_reports", {:force=>true})
   -> 0.0058s
-- add_index("error_reports", ["created_at"], {:name=>"error_reports_created_at"})
   -> 0.0018s
-- add_index("error_reports", ["zendesk_ticket_id"], {:name=>"index_error_reports_on_zendesk_ticket_id"})
   -> 0.0021s
-- create_table("external_feed_entries", {:force=>true})
   -> 0.0060s
-- add_index("external_feed_entries", ["asset_id", "asset_type"], {:name=>"index_external_feed_entries_on_asset_id_and_asset_type"})
   -> 0.0021s
-- add_index("external_feed_entries", ["external_feed_id", "uuid"], {:name=>"external_feed_id_uuid"})
   -> 0.0021s
-- add_index("external_feed_entries", ["user_id"], {:name=>"index_external_feed_entries_on_user_id"})
   -> 0.0028s
-- create_table("external_feeds", {:force=>true})
   -> 0.0058s
-- add_index("external_feeds", ["context_id", "context_type"], {:name=>"index_external_feeds_on_context_id_and_context_type"})
   -> 0.0020s
-- add_index("external_feeds", ["user_id"], {:name=>"index_external_feeds_on_user_id"})
   -> 0.0020s
-- create_table("folders", {:force=>true})
   -> 0.0050s
-- add_index("folders", ["cloned_item_id"], {:name=>"index_folders_on_cloned_item_id"})
   -> 0.0017s
-- add_index("folders", ["context_id", "context_type"], {:name=>"index_folders_on_context_id_and_context_type"})
   -> 0.0031s
-- add_index("folders", ["parent_folder_id"], {:name=>"index_folders_on_parent_folder_id"})
   -> 0.0028s
-- create_table("gradebook_uploads", {:force=>true})
   -> 0.0051s
-- add_index("gradebook_uploads", ["context_id", "context_type"], {:name=>"index_gradebook_uploads_on_context_id_and_context_type"})
   -> 0.0027s
-- create_table("grading_standards", {:force=>true})
   -> 0.0054s
-- add_index("grading_standards", ["context_code"], {:name=>"index_grading_standards_on_context_code"})
   -> 0.0029s
-- add_index("grading_standards", ["context_id", "context_type"], {:name=>"index_grading_standards_on_context_id_and_context_type"})
   -> 0.0022s
-- add_index("grading_standards", ["user_id"], {:name=>"index_grading_standards_on_user_id"})
   -> 0.0019s
-- create_table("group_memberships", {:force=>true})
   -> 0.0039s
-- add_index("group_memberships", ["group_id"], {:name=>"index_group_memberships_on_group_id"})
   -> 0.0016s
-- add_index("group_memberships", ["user_id"], {:name=>"index_group_memberships_on_user_id"})
   -> 0.0016s
-- add_index("group_memberships", ["workflow_state"], {:name=>"index_group_memberships_on_workflow_state"})
   -> 0.0018s
-- create_table("groups", {:force=>true})
   -> 0.0060s
-- add_index("groups", ["account_id"], {:name=>"index_groups_on_account_id"})
   -> 0.0017s
-- add_index("groups", ["context_id", "context_type"], {:name=>"index_groups_on_context_id_and_context_type"})
   -> 0.0017s
-- add_index("groups", ["id", "type"], {:name=>"index_groups_on_id_and_type"})
   -> 0.0019s
-- add_index("groups", ["wiki_id"], {:name=>"index_groups_on_wiki_id"})
   -> 0.0022s
-- add_index("groups", ["workflow_state"], {:name=>"index_groups_on_workflow_state"})
   -> 0.0023s
-- create_table("hashtags", {:force=>true})
   -> 0.0036s
-- create_table("inbox_items", {:force=>true})
   -> 0.0042s
-- add_index("inbox_items", ["sender"], {:name=>"index_inbox_items_on_sender"})
   -> 0.0014s
-- add_index("inbox_items", ["sender_id"], {:name=>"index_inbox_items_on_sender_id"})
   -> 0.0016s
-- add_index("inbox_items", ["user_id"], {:name=>"index_inbox_items_on_user_id"})
   -> 0.0019s
-- add_index("inbox_items", ["workflow_state"], {:name=>"index_inbox_items_on_workflow_state"})
   -> 0.0020s
-- create_table("learning_outcome_groups", {:force=>true})
   -> 0.0039s
-- create_table("learning_outcome_results", {:force=>true})
   -> 0.0062s
-- add_index("learning_outcome_results", ["user_id", "content_tag_id"], {:name=>"index_learning_outcome_results_on_user_id_and_content_tag_id", :unique=>true})
   -> 0.0018s
-- create_table("learning_outcomes", {:force=>true})
   -> 0.0046s
-- create_table("mailboxes", {:force=>true})
   -> 0.0047s
-- add_index("mailboxes", ["handle"], {:name=>"index_mailboxes_on_handle"})
   -> 0.0015s
-- add_index("mailboxes", ["mailboxable_entity_id", "mailboxable_entity_type"], {:name=>"me_id_and_me_type"})
   -> 0.0017s
-- create_table("mailboxes_pseudonyms", {:force=>true})
   -> 0.0034s
-- create_table("media_objects", {:force=>true})
   -> 0.0048s
-- add_index("media_objects", ["attachment_id"], {:name=>"index_media_objects_on_attachment_id"})
   -> 0.0019s
-- add_index("media_objects", ["context_id", "context_type"], {:name=>"index_media_objects_on_context_id_and_context_type"})
   -> 0.0022s
-- add_index("media_objects", ["media_id"], {:name=>"index_media_objects_on_media_id"})
   -> 0.0020s
-- create_table("messages", {:force=>true})
   -> 0.0059s
-- add_index("messages", ["asset_context_id", "asset_context_type"], {:name=>"index_messages_on_asset_context_id_and_asset_context_type"})
   -> 0.0016s
-- add_index("messages", ["communication_channel_id"], {:name=>"index_messages_on_communication_channel_id"})
   -> 0.0018s
-- add_index("messages", ["context_id", "context_type", "notification_name", "to", "user_id"], {:name=>"existing_undispatched_message"})
   -> 0.0022s
-- add_index("messages", ["notification_id"], {:name=>"index_messages_on_notification_id"})
   -> 0.0021s
-- add_index("messages", ["notification_name", "workflow_state", "created_at"], {:name=>"index_messages_on_notification_name_workflow_state_created_at"})
   -> 0.0024s
-- add_index("messages", ["sent_at", "to_email", "user_id", "notification_category"], {:name=>"index_messages_on_sa_ui_te_nc"})
   -> 0.0029s
-- add_index("messages", ["user_id", "to_email", "dispatch_at"], {:name=>"index_messages_user_id_dispatch_at_to_email"})
   -> 0.0030s
-- add_index("messages", ["workflow_state", "dispatch_at"], {:name=>"index_messages_on_workflow_state_and_dispatch_at"})
   -> 0.0031s
-- create_table("notification_policies", {:force=>true})
   -> 0.0150s
-- add_index("notification_policies", ["communication_channel_id"], {:name=>"index_notification_policies_on_communication_channel_id"})
   -> 0.0018s
-- add_index("notification_policies", ["notification_id"], {:name=>"index_notification_policies_on_notification_id"})
   -> 0.0015s
-- add_index("notification_policies", ["user_id"], {:name=>"index_notification_policies_on_user_id"})
   -> 0.0033s
-- create_table("notifications", {:force=>true})
   -> 0.0049s
-- create_table("oauth_requests", {:force=>true})
   -> 0.0043s
-- add_index("oauth_requests", ["user_id"], {:name=>"index_oauth_requests_on_user_id"})
   -> 0.0015s
-- create_table("page_comments", {:force=>true})
   -> 0.0041s
-- add_index("page_comments", ["page_id", "page_type"], {:name=>"index_page_comments_on_page_id_and_page_type"})
   -> 0.0021s
-- add_index("page_comments", ["user_id"], {:name=>"index_page_comments_on_user_id"})
   -> 0.0021s
-- create_table("page_view_ranges", {:force=>true})
   -> 0.0047s
-- add_index("page_view_ranges", ["context_id", "context_type", "start_at", "end_at"], {:name=>"by_context_range"})
   -> 0.0017s
-- add_index("page_view_ranges", ["workflow_state", "updated_at"], {:name=>"index_page_view_ranges_on_workflow_state_and_updated_at"})
   -> 0.0017s
-- create_table("page_views", {:id=>false, :force=>true})
   -> 0.0035s
-- execute("ALTER TABLE page_views ADD PRIMARY KEY (request_id)")
   -> 0.0006s
-- add_index("page_views", ["account_id"], {:name=>"index_page_views_on_account_id"})
   -> 0.0015s
-- add_index("page_views", ["asset_user_access_id"], {:name=>"index_page_views_asset_user_access_id"})
   -> 0.0016s
-- add_index("page_views", ["context_type", "context_id"], {:name=>"index_page_views_on_context_type_and_context_id"})
   -> 0.0020s
-- add_index("page_views", ["summarized", "created_at"], {:name=>"index_page_views_summarized_created_at"})
   -> 0.0021s
-- add_index("page_views", ["user_id", "created_at"], {:name=>"index_page_views_on_user_id_and_created_at"})
   -> 0.0025s
-- create_table("plugin_settings", {:force=>true})
   -> 0.0039s
-- add_index("plugin_settings", ["name"], {:name=>"index_plugin_settings_on_name"})
   -> 0.0019s
-- create_table("pseudonyms", {:force=>true})
   -> 0.0071s
-- add_index("pseudonyms", ["account_id", "sis_source_id"], {:name=>"index_pseudonyms_on_account_id_and_sis_source_id"})
   -> 0.0015s
-- add_index("pseudonyms", ["communication_channel_id"], {:name=>"index_pseudonyms_on_communication_channel_id"})
   -> 0.0016s
-- add_index("pseudonyms", ["persistence_token"], {:name=>"index_pseudonyms_on_persistence_token"})
   -> 0.0019s
-- add_index("pseudonyms", ["single_access_token"], {:name=>"index_pseudonyms_on_single_access_token"})
   -> 0.1711s
-- add_index("pseudonyms", ["unique_id"], {:name=>"index_pseudonyms_on_unique_id"})
   -> 0.0026s
-- add_index("pseudonyms", ["user_id"], {:name=>"index_pseudonyms_on_user_id"})
   -> 0.0024s
-- create_table("quiz_groups", {:force=>true})
   -> 0.0049s
-- add_index("quiz_groups", ["quiz_id"], {:name=>"index_quiz_groups_on_quiz_id"})
   -> 0.0021s
-- create_table("quiz_questions", {:force=>true})
   -> 0.0052s
-- add_index("quiz_questions", ["assessment_question_id"], {:name=>"index_quiz_questions_on_assessment_question_id"})
   -> 0.0015s
-- add_index("quiz_questions", ["quiz_group_id"], {:name=>"quiz_questions_quiz_group_id"})
   -> 0.0016s
-- add_index("quiz_questions", ["quiz_id"], {:name=>"index_quiz_questions_on_quiz_id"})
   -> 0.0027s
-- create_table("quiz_submission_snapshots", {:force=>true})
   -> 0.0041s
-- add_index("quiz_submission_snapshots", ["quiz_submission_id"], {:name=>"index_quiz_submission_snapshots_on_quiz_submission_id"})
   -> 0.0018s
-- create_table("quiz_submissions", {:force=>true})
   -> 0.0060s
-- add_index("quiz_submissions", ["quiz_id", "user_id"], {:name=>"index_quiz_submissions_on_quiz_id_and_user_id", :unique=>true})
   -> 0.0016s
-- add_index("quiz_submissions", ["submission_id"], {:name=>"index_quiz_submissions_on_submission_id"})
   -> 0.0016s
-- add_index("quiz_submissions", ["temporary_user_code"], {:name=>"index_quiz_submissions_on_temporary_user_code"})
   -> 0.0030s
-- add_index("quiz_submissions", ["user_id"], {:name=>"index_quiz_submissions_on_user_id"})
   -> 0.0046s
-- create_table("quizzes", {:force=>true})
   -> 0.0068s
-- add_index("quizzes", ["assignment_id"], {:name=>"index_quizzes_on_assignment_id", :unique=>true})
   -> 0.0015s
-- add_index("quizzes", ["cloned_item_id"], {:name=>"index_quizzes_on_cloned_item_id"})
   -> 0.0018s
-- add_index("quizzes", ["context_id", "context_type"], {:name=>"index_quizzes_on_context_id_and_context_type"})
   -> 0.0019s
-- create_table("report_snapshots", {:force=>true})
   -> 0.0037s
-- create_table("role_overrides", {:force=>true})
   -> 0.0040s
-- add_index("role_overrides", ["context_id", "context_type"], {:name=>"index_role_overrides_on_context_id_and_context_type"})
   -> 0.0015s
-- create_table("rubric_assessments", {:force=>true})
   -> 0.0046s
-- add_index("rubric_assessments", ["artifact_id", "artifact_type"], {:name=>"index_rubric_assessments_on_artifact_id_and_artifact_type"})
   -> 0.0015s
-- add_index("rubric_assessments", ["assessor_id"], {:name=>"index_rubric_assessments_on_assessor_id"})
   -> 0.0016s
-- add_index("rubric_assessments", ["rubric_association_id"], {:name=>"index_rubric_assessments_on_rubric_association_id"})
   -> 0.0020s
-- add_index("rubric_assessments", ["rubric_id"], {:name=>"index_rubric_assessments_on_rubric_id"})
   -> 0.0021s
-- add_index("rubric_assessments", ["user_id"], {:name=>"index_rubric_assessments_on_user_id"})
   -> 0.0022s
-- create_table("rubric_associations", {:force=>true})
   -> 0.0051s
-- add_index("rubric_associations", ["association_id", "association_type"], {:name=>"index_rubric_associations_on_aid_and_atype"})
   -> 0.0015s
-- add_index("rubric_associations", ["context_code"], {:name=>"index_rubric_associations_on_context_code"})
   -> 0.0029s
-- add_index("rubric_associations", ["context_id", "context_type"], {:name=>"index_rubric_associations_on_context_id_and_context_type"})
   -> 0.0038s
-- add_index("rubric_associations", ["rubric_id"], {:name=>"index_rubric_associations_on_rubric_id"})
   -> 0.0025s
-- create_table("rubrics", {:force=>true})
   -> 0.0099s
-- add_index("rubrics", ["context_code"], {:name=>"index_rubrics_on_context_code"})
   -> 0.0022s
-- add_index("rubrics", ["context_id", "context_type"], {:name=>"index_rubrics_on_context_id_and_context_type"})
   -> 0.0021s
-- add_index("rubrics", ["rubric_id"], {:name=>"index_rubrics_on_rubric_id"})
   -> 0.0020s
-- add_index("rubrics", ["user_id"], {:name=>"index_rubrics_on_user_id"})
   -> 0.0027s
-- create_table("scribd_accounts", {:force=>true})
   -> 0.0043s
-- add_index("scribd_accounts", ["scribdable_id", "scribdable_type"], {:name=>"index_scribd_accounts_on_scribdable_id_and_scribdable_type"})
   -> 0.0017s
-- create_table("scribd_mime_types", {:force=>true})
   -> 0.0036s
-- add_index("scribd_mime_types", ["extension"], {:name=>"index_scribd_mime_types_on_extension"})
   -> 0.0014s
-- create_table("sessions", {:force=>true})
   -> 0.0039s
-- add_index("sessions", ["session_id"], {:name=>"index_sessions_on_session_id"})
   -> 0.0015s
-- add_index("sessions", ["updated_at"], {:name=>"index_sessions_on_updated_at"})
   -> 0.0016s
-- create_table("settings", {:force=>true})
   -> 0.0045s
-- create_table("short_message_associations", {:force=>true})
   -> 0.0066s
-- add_index("short_message_associations", ["context_id", "context_type"], {:name=>"index_short_message_associations_on_context_id_and_context_type"})
   -> 0.0040s
-- add_index("short_message_associations", ["short_message_id"], {:name=>"index_short_message_associations_on_short_message_id"})
   -> 0.0023s
-- create_table("short_messages", {:force=>true})
   -> 0.0045s
-- add_index("short_messages", ["user_id"], {:name=>"index_short_messages_on_user_id"})
   -> 0.0015s
-- create_table("sis_batch_log_entries", {:force=>true})
   -> 0.0038s
-- create_table("sis_batches", {:force=>true})
   -> 0.0043s
-- create_table("sis_cross_listed_sections", {:force=>true})
   -> 0.0040s
-- add_index("sis_cross_listed_sections", ["root_account_id", "sis_source_id"], {:name=>"cross_listed_sis_entries"})
   -> 0.0015s
-- create_table("stream_item_instances", {:force=>true})
   -> 0.0032s
-- create_table("stream_items", {:force=>true})
   -> 0.0044s
-- add_index("stream_items", ["item_asset_string", "created_at"], {:name=>"index_stream_items_on_item_asset_string_and_created_at"})
   -> 0.0017s
-- add_index("stream_items", ["user_id", "context_code", "created_at"], {:name=>"uid_cc_ca"})
   -> 0.0028s
-- add_index("stream_items", ["user_id", "created_at"], {:name=>"index_stream_items_on_user_id_created_at"})
   -> 0.0033s
-- create_table("submission_comment_participants", {:force=>true})
   -> 0.0042s
-- add_index("submission_comment_participants", ["submission_comment_id"], {:name=>"index_submission_comment_participants_on_submission_comment_id"})
   -> 0.0018s
-- add_index("submission_comment_participants", ["user_id"], {:name=>"index_submission_comment_participants_on_user_id"})
   -> 0.0021s
-- create_table("submission_comments", {:force=>true})
   -> 0.0083s
-- add_index("submission_comments", ["assessment_request_id"], {:name=>"index_submission_comments_on_assessment_request_id"})
   -> 0.0020s
-- add_index("submission_comments", ["author_id"], {:name=>"index_submission_comments_on_author_id"})
   -> 0.0017s
-- add_index("submission_comments", ["context_id", "context_type"], {:name=>"index_submission_comments_on_context_id_and_context_type"})
   -> 0.0025s
-- add_index("submission_comments", ["recipient_id"], {:name=>"index_submission_comments_on_recipient_id"})
   -> 0.0026s
-- add_index("submission_comments", ["submission_id"], {:name=>"index_submission_comments_on_submission_id"})
   -> 0.0032s
-- create_table("submissions", {:force=>true})
   -> 0.0065s
-- add_index("submissions", ["assignment_id", "submission_type"], {:name=>"index_submissions_on_assignment_id_and_submission_type"})
   -> 0.0019s
-- add_index("submissions", ["attachment_id", "submission_type", "process_attempts"], {:name=>"aid_submission_type_process_attempts"})
   -> 0.0056s
-- add_index("submissions", ["grader_id"], {:name=>"index_submissions_on_grader_id"})
   -> 0.0026s
-- add_index("submissions", ["group_id"], {:name=>"index_submissions_on_group_id"})
   -> 0.0022s
-- add_index("submissions", ["user_id", "assignment_id"], {:name=>"index_submissions_on_user_id_and_assignment_id", :unique=>true})
   -> 0.0024s
-- add_index("submissions", ["user_id"], {:name=>"index_submissions_on_user_id"})
   -> 0.0026s
-- create_table("thumbnails", {:force=>true})
   -> 0.0049s
-- add_index("thumbnails", ["parent_id"], {:name=>"index_thumbnails_on_parent_id"})
   -> 0.0015s
-- create_table("user_account_associations", {:force=>true})
   -> 0.0034s
-- add_index("user_account_associations", ["account_id"], {:name=>"index_user_account_associations_on_account_id"})
   -> 0.0015s
-- add_index("user_account_associations", ["user_id"], {:name=>"index_user_account_associations_on_user_id"})
   -> 0.0016s
-- create_table("user_notes", {:force=>true})
   -> 0.0043s
-- add_index("user_notes", ["user_id", "workflow_state"], {:name=>"index_user_notes_on_user_id_and_workflow_state"})
   -> 0.0016s
-- create_table("user_services", {:force=>true})
   -> 0.0046s
-- add_index("user_services", ["id", "type"], {:name=>"index_user_services_on_id_and_type"})
   -> 0.0016s
-- add_index("user_services", ["user_id"], {:name=>"index_user_services_on_user_id"})
   -> 0.0017s
-- create_table("users", {:force=>true})
   -> 0.0080s
-- add_index("users", ["avatar_state", "avatar_image_updated_at"], {:name=>"index_users_on_avatar_state_and_avatar_image_updated_at"})
   -> 0.0016s
-- add_index("users", ["creation_unique_id", "creation_sis_batch_id"], {:name=>"users_sis_creation"})
   -> 0.0018s
-- add_index("users", ["id", "type"], {:name=>"index_users_on_id_and_type"})
   -> 0.0020s
-- add_index("users", ["moved_in_account_structure"], {:name=>"index_users_on_moved_in_account_structure"})
   -> 0.0024s
-- add_index("users", ["sortable_name"], {:name=>"index_users_on_sortable_name"})
   -> 0.0024s
-- add_index("users", ["uuid"], {:name=>"index_users_on_uuid"})
   -> 0.0026s
-- create_table("versions", {:force=>true})
   -> 0.0041s
-- add_index("versions", ["versionable_id", "versionable_type"], {:name=>"index_versions_on_versionable_id_and_versionable_type"})
   -> 0.0015s
-- create_table("web_conference_participants", {:force=>true})
   -> 0.0040s
-- add_index("web_conference_participants", ["user_id"], {:name=>"index_web_conference_participants_on_user_id"})
   -> 0.0015s
-- add_index("web_conference_participants", ["web_conference_id"], {:name=>"index_web_conference_participants_on_web_conference_id"})
   -> 0.0017s
-- create_table("web_conferences", {:force=>true})
   -> 0.0047s
-- add_index("web_conferences", ["context_id", "context_type"], {:name=>"index_web_conferences_on_context_id_and_context_type"})
   -> 0.0028s
-- add_index("web_conferences", ["user_id"], {:name=>"index_web_conferences_on_user_id"})
   -> 0.0020s
-- create_table("wiki_namespaces", {:force=>true})
   -> 0.0052s
-- add_index("wiki_namespaces", ["context_id", "context_type"], {:name=>"index_wiki_namespaces_on_context_id_and_context_type"})
   -> 0.0025s
-- add_index("wiki_namespaces", ["wiki_id"], {:name=>"index_wiki_namespaces_on_wiki_id"})
   -> 0.0023s
-- create_table("wiki_page_comments", {:force=>true})
   -> 0.0050s
-- add_index("wiki_page_comments", ["wiki_page_id", "workflow_state"], {:name=>"index_wiki_page_comments_on_wiki_page_id_and_workflow_state"})
   -> 0.0017s
-- create_table("wiki_pages", {:force=>true})
   -> 0.0065s
-- add_index("wiki_pages", ["cloned_item_id"], {:name=>"index_wiki_pages_on_cloned_item_id"})
   -> 0.0015s
-- add_index("wiki_pages", ["user_id"], {:name=>"index_wiki_pages_on_user_id"})
   -> 0.0020s
-- add_index("wiki_pages", ["wiki_id"], {:name=>"index_wiki_pages_on_wiki_id"})
   -> 0.0028s
-- create_table("wikis", {:force=>true})
   -> 0.0037s
==  InitCanvasDb: migrated (1.6760s) ==========================================

==  CreateDelayedJobs: migrating ==============================================
-- create_table(:delayed_jobs)
   -> 0.0061s
-- add_index(:delayed_jobs, [:priority, :run_at], {:name=>"delayed_jobs_priority"})
   -> 0.0027s
-- add_index(:delayed_jobs, [:queue], {:name=>"delayed_jobs_queue"})
   -> 0.0025s
==  CreateDelayedJobs: migrated (0.0116s) =====================================

==  AddExtraTimeToQuizSubmissions: migrating ==================================
-- add_column(:quiz_submissions, :extra_time, :integer)
   -> 0.0007s
-- add_column(:quiz_submissions, :manually_unlocked, :boolean)
   -> 0.0004s
==  AddExtraTimeToQuizSubmissions: migrated (0.0013s) =========================

==  AddIpFilterToQuizzes: migrating ===========================================
-- add_column(:quizzes, :ip_filter, :string)
   -> 0.0006s
==  AddIpFilterToQuizzes: migrated (0.0007s) ==================================

==  AddAttachmentToContentMigration: migrating ================================
-- add_column(:content_migrations, :exported_attachment_id, :integer, {:limit=>8})
   -> 0.0010s
==  AddAttachmentToContentMigration: migrated (0.0012s) =======================

==  AddDelayedJobsTag: migrating ==============================================
-- add_column(:delayed_jobs, :tag, :string)
   -> 0.0009s
-- add_index(:delayed_jobs, [:tag])
   -> 0.0027s
==  AddDelayedJobsTag: migrated (0.0038s) =====================================

==  CreateAccountNotifications: migrating =====================================
-- create_table(:account_notifications)
   -> 0.0038s
-- add_index(:account_notifications, [:account_id, :start_at])
   -> 0.0016s
==  CreateAccountNotifications: migrated (0.0056s) ============================

==  AddPodcastOptionsToDiscussionTopics: migrating ============================
-- add_column(:discussion_topics, :podcast_enabled, :boolean)
   -> 0.0006s
-- add_column(:discussion_topics, :podcast_has_student_posts, :boolean)
   -> 0.0003s
==  AddPodcastOptionsToDiscussionTopics: migrated (0.0011s) ===================

==  AddRequireInitialPostToDiscussionTopics: migrating ========================
-- add_column(:discussion_topics, :require_initial_post, :boolean)
   -> 0.0006s
==  AddRequireInitialPostToDiscussionTopics: migrated (0.0007s) ===============

==  AddRestrictionOptionsToCoursesAndSections: migrating ======================
-- add_column(:courses, :restrict_enrollments_to_course_dates, :boolean)
   -> 0.0008s
-- add_column(:course_sections, :restrict_enrollments_to_section_dates, :boolean)
   -> 0.0004s
-- add_column(:enrollment_terms, :ignore_term_date_restrictions, :boolean)
   -> 0.0005s
==  AddRestrictionOptionsToCoursesAndSections: migrated (0.0019s) =============

==  ChangeFudgePointsToFloat: migrating =======================================
-- change_column(:quiz_submissions, :fudge_points, :float)
   -> 0.0050s
==  ChangeFudgePointsToFloat: migrated (0.0051s) ==============================

==  AddCrossListingInfo: migrating ============================================
-- add_column(:course_sections, :account_id, :integer, {:limit=>8})
   -> 0.0007s
==  AddCrossListingInfo: migrated (0.0008s) ===================================

==  AddUngradedCountToAssignments: migrating ==================================
-- add_column(:assignments, :needs_grading_count, :integer, {:default=>0})
   -> 0.0014s
-- execute("      UPDATE assignments SET needs_grading_count = COALESCE((\n        SELECT COUNT(*)\n        FROM submissions s\n        INNER JOIN enrollments e ON e.user_id = s.user_id AND e.workflow_state = 'active'\n        WHERE s.assignment_id = assignments.id\n          AND e.course_id = assignments.context_id\n          AND (s.score IS NULL\n            OR NOT grade_matches_current_submission\n            OR s.workflow_state = 'submitted'\n            OR s.workflow_state = 'pending_review'\n          )\n          AND s.submission_type IS NOT NULL\n      ), 0)\n")
   -> 0.0034s
==  AddUngradedCountToAssignments: migrated (0.0051s) =========================

==  CreateContextExternalTools: migrating =====================================
-- create_table(:context_external_tools)
   -> 0.0038s
==  CreateContextExternalTools: migrated (0.0040s) ============================

==  AddAssociatedAssetToLearningOutcomeResults: migrating =====================
-- add_column(:learning_outcome_results, :associated_asset_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_column(:learning_outcome_results, :associated_asset_type, :string)
   -> 0.0004s
-- remove_index(:learning_outcome_results, [:user_id, :content_tag_id])
   -> 0.0017s
-- add_index(:learning_outcome_results, [:user_id, :content_tag_id, :associated_asset_id, :associated_asset_type], {:unique=>true, :name=>"index_learning_outcome_results_association"})
   -> 0.0016s
==  AddAssociatedAssetToLearningOutcomeResults: migrated (0.0046s) ============

==  ChangeContextMessageViewedUserIdsSize: migrating ==========================
-- change_column(:context_messages, :viewed_user_ids, :text)
   -> 0.0006s
==  ChangeContextMessageViewedUserIdsSize: migrated (0.0007s) =================

==  AddStreamItemInstancesIndex: migrating ====================================
-- add_index("stream_item_instances", ["stream_item_id"])
   -> 0.0026s
==  AddStreamItemInstancesIndex: migrated (0.0027s) ===========================

==  AddCreatedAtToPageViewsIndex: migrating ===================================
-- remove_index(:page_views, {:column=>:account_id})
   -> 0.0032s
-- add_index(:page_views, [:account_id, :created_at])
   -> 0.0029s
==  AddCreatedAtToPageViewsIndex: migrated (0.0064s) ==========================

==  UngradedCountTriggers: migrating ==========================================
-- create_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", {:generated=>true})
   -> 0.0002s
-- create_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", {:generated=>true})
   -> 0.0002s
-- create_trigger("submissions_after_update_row_tr", {:generated=>true})
   -> 0.0002s
==  UngradedCountTriggers: migrated (0.1148s) =================================

==  AddQuizRequireLockdownBrowser: migrating ==================================
-- add_column(:quizzes, :require_lockdown_browser, :boolean)
   -> 0.0008s
==  AddQuizRequireLockdownBrowser: migrated (0.0008s) =========================

==  UngradedCountTriggers2: migrating =========================================
-- drop_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", "enrollments", {:generated=>true})
   -> 0.0009s
-- drop_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", "enrollments", {:generated=>true})
   -> 0.0005s
-- drop_trigger("submissions_after_update_row_tr", "submissions", {:generated=>true})
   -> 0.0015s
-- drop_trigger("submissions_after_update_row_when_old_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0006s
-- create_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("submissions_after_update_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
==  UngradedCountTriggers2: migrated (0.0088s) ================================

==  AddPositionToCommunicationChannelIndexes: migrating =======================
-- remove_index(:communication_channels, {:column=>["user_id"]})
   -> 0.0024s
-- add_index(:communication_channels, ["user_id", "position"])
   -> 0.0024s
-- remove_index(:communication_channels, {:column=>["pseudonym_id"]})
   -> 0.0021s
-- add_index(:communication_channels, ["pseudonym_id", "position"])
   -> 0.0019s
==  AddPositionToCommunicationChannelIndexes: migrated (0.0092s) ==============

==  StringColumnsToText: migrating ============================================
-- change_column(:error_reports, :url, :text)
   -> 0.0007s
-- change_column(:error_reports, :message, :text)
   -> 0.0004s
-- change_column(:content_tags, :url, :text)
   -> 0.0004s
-- change_column(:page_views, :user_agent, :text)
   -> 0.0004s
==  StringColumnsToText: migrated (0.0021s) ===================================

==  PostgresCompatFixes: migrating ============================================
-- change_column(:attachments, :size, :bigint)
   -> 0.0060s
-- change_column(:error_reports, :user_agent, :text)
   -> 0.0005s
==  PostgresCompatFixes: migrated (0.0067s) ===================================

==  AddOldMediaIdToMediaComments: migrating ===================================
-- add_column(:media_objects, :old_media_id, :string)
   -> 0.0007s
-- add_index(:media_objects, [:old_media_id])
   -> 0.0024s
==  AddOldMediaIdToMediaComments: migrated (0.0033s) ==========================

==  AllowLongCertificateFingerprint: migrating ================================
-- change_column(:account_authorization_configs, :certificate_fingerprint, :text)
   -> 0.0007s
==  AllowLongCertificateFingerprint: migrated (0.0009s) =======================

==  VarcharsToText: migrating =================================================
-- change_column(:assessment_question_banks, :title, :text)
   -> 0.0007s
-- change_column(:assessment_questions, :name, :text)
   -> 0.0005s
-- change_column(:asset_user_accesses, :display_name, :text)
   -> 0.0005s
-- change_column(:attachments, :display_name, :text)
   -> 0.0005s
-- change_column(:attachments, :filename, :text)
   -> 0.0004s
-- change_column(:content_tags, :title, :text)
   -> 0.0007s
-- change_column(:context_modules, :name, :text)
   -> 0.0006s
-- change_column(:delayed_messages, :name_of_topic, :text)
   -> 0.0005s
-- change_column(:messages, :from_name, :text)
   -> 0.0005s
-- change_column(:messages, :subject, :text)
   -> 0.0003s
-- change_column(:notifications, :sms_body, :text)
   -> 0.0004s
-- change_column(:page_views, :url, :text)
   -> 0.0004s
-- change_column(:users, :features_used, :text)
   -> 0.0005s
-- change_column(:wiki_pages, :url, :text)
   -> 0.0004s
==  VarcharsToText: migrated (0.0077s) ========================================

==  AddContentExport: migrating ===============================================
-- create_table(:content_exports)
   -> 0.0044s
-- add_index(:content_exports, [:course_id])
   -> 0.0018s
-- add_index(:content_exports, [:user_id])
   -> 0.0017s
==  AddContentExport: migrated (0.0082s) ======================================

==  WebConferenceSettings: migrating ==========================================
-- add_column(:web_conferences, :settings, :text)
   -> 0.0008s
==  WebConferenceSettings: migrated (0.0009s) =================================

==  AddWorkflowStateToGradingStandards: migrating =============================
-- add_column(:grading_standards, :workflow_state, :string)
   -> 0.0008s
==  AddWorkflowStateToGradingStandards: migrated (0.0295s) ====================

==  AddMigrationIdsForCcImporting: migrating ==================================
-- add_column(:context_external_tools, :migration_id, :string)
   -> 0.0007s
-- add_column(:external_feeds, :migration_id, :string)
   -> 0.0005s
-- add_column(:grading_standards, :migration_id, :string)
   -> 0.0004s
-- add_column(:learning_outcome_groups, :migration_id, :string)
   -> 0.0004s
==  AddMigrationIdsForCcImporting: migrated (0.0022s) =========================

==  AddGradePublishingStatusToEnrollments: migrating ==========================
-- add_column(:enrollments, :grade_publishing_status, :string, {:default=>"unpublished"})
   -> 0.0011s
-- add_column(:enrollments, :last_publish_attempt_at, :datetime)
   -> 0.0004s
==  AddGradePublishingStatusToEnrollments: migrated (0.0017s) =================

==  AddMediaCommentToContextMessage: migrating ================================
-- add_column(:context_messages, :media_comment_id, :string)
   -> 0.0007s
-- add_column(:context_messages, :media_comment_type, :string)
   -> 0.0004s
==  AddMediaCommentToContextMessage: migrated (0.0012s) =======================

==  AddLastCourseToCourseSection: migrating ===================================
-- add_column(:course_sections, :last_course_id, :integer, {:limit=>8})
   -> 0.0006s
==  AddLastCourseToCourseSection: migrated (0.0007s) ==========================

==  AddQuizRequireLockdownBrowserForResults: migrating ========================
-- add_column(:quizzes, :require_lockdown_browser_for_results, :boolean)
   -> 0.0007s
==  AddQuizRequireLockdownBrowserForResults: migrated (0.0008s) ===============

==  RenameLastCourseToNonxlistCourseInCourseSection: migrating ================
-- rename_column(:course_sections, :last_course_id, :nonxlist_course_id)
   -> 0.0005s
==  RenameLastCourseToNonxlistCourseInCourseSection: migrated (0.0006s) =======

==  AddDelayedJobsMaxAttempts: migrating ======================================
-- add_column(:delayed_jobs, :max_attempts, :integer)
   -> 0.0021s
==  AddDelayedJobsMaxAttempts: migrated (0.0022s) =============================

==  ExpandContentMigrationMigrationSettings: migrating ========================
-- change_column(:content_migrations, :migration_settings, :text, {:limit=>512000})
   -> 0.0038s
==  ExpandContentMigrationMigrationSettings: migrated (0.0039s) ===============

==  AddDisabledToPluginSettings: migrating ====================================
-- add_column(:plugin_settings, :disabled, :boolean)
   -> 0.0009s
==  AddDisabledToPluginSettings: migrated (0.0011s) ===========================

==  AddThumbnailUuid: migrating ===============================================
-- add_column(:thumbnails, :uuid, :string)
   -> 0.0009s
-- add_index(:thumbnails, [:id, :uuid])
   -> 0.0041s
==  AddThumbnailUuid: migrated (0.0076s) ======================================

==  AddErrorReportsDataHash: migrating ========================================
-- add_column(:error_reports, :data, :text)
   -> 0.0008s
==  AddErrorReportsDataHash: migrated (0.0009s) ===============================

==  AddSisCommunicationChannelToPseudonyms: migrating =========================
-- add_column(:pseudonyms, :sis_communication_channel_id, :integer, {:limit=>8})
   -> 0.0007s
==  AddSisCommunicationChannelToPseudonyms: migrated (0.0008s) ================

==  AddErrorReportCategory: migrating =========================================
-- add_column(:error_reports, :category, :string)
   -> 0.0023s
-- add_index(:error_reports, :category)
   -> 0.0028s
==  AddErrorReportCategory: migrated (0.0052s) ================================

==  AddStreamItemInstanceHidden: migrating ====================================
-- add_column(:stream_item_instances, :hidden, :boolean, {:default=>false, :null=>false})
   -> 0.0018s
-- add_index(:stream_item_instances, ["user_id", "hidden", "id", "stream_item_id"], {:name=>"index_stream_item_instances_global"})
   -> 0.0023s
-- add_index(:stream_item_instances, ["user_id", "context_code", "hidden", "id", "stream_item_id"], {:name=>"index_stream_item_instances_context"})
   -> 0.0064s
==  AddStreamItemInstanceHidden: migrated (0.0107s) ===========================

==  AddTemplateCourseIdToCourses: migrating ===================================
-- add_column(:courses, :template_course_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_index(:courses, [:template_course_id])
   -> 0.0033s
==  AddTemplateCourseIdToCourses: migrated (0.0041s) ==========================

==  CreateDelayedJobsTestStory: migrating =====================================
-- create_table(:stories)
   -> 0.0029s
==  CreateDelayedJobsTestStory: migrated (0.0030s) ============================

==  AddDelayedJobsStrand: migrating ===========================================
-- add_column(:delayed_jobs, :strand, :string)
   -> 0.0009s
-- add_index(:delayed_jobs, :strand)
   -> 0.0034s
==  AddDelayedJobsStrand: migrated (0.0045s) ==================================

==  Conversations: migrating ==================================================
-- create_table("conversations")
   -> 0.0025s
-- add_index("conversations", ["private_hash"], {:unique=>true})
   -> 0.0018s
-- create_table("conversation_participants")
   -> 0.0028s
-- add_index("conversation_participants", ["conversation_id"])
   -> 0.0016s
-- add_index("conversation_participants", ["user_id", "last_message_at"])
   -> 0.0018s
-- create_table("conversation_messages")
   -> 0.0029s
-- add_index("conversation_messages", ["conversation_id", "created_at"])
   -> 0.0016s
-- create_table("conversation_message_participants")
   -> 0.0023s
==  Conversations: migrated (0.0177s) =========================================

==  AddSisBatchBatchMode: migrating ===========================================
-- add_column(:sis_batches, :batch_mode, :boolean)
   -> 0.0007s
-- add_column(:sis_batches, :batch_mode_term_id, :integer, {:limit=>8})
   -> 0.0004s
==  AddSisBatchBatchMode: migrated (0.0012s) ==================================

==  CreateAccessTokens: migrating =============================================
-- create_table(:access_tokens)
   -> 0.0045s
-- add_index(:access_tokens, [:token], {:unique=>true})
   -> 0.0020s
-- add_column(:developer_keys, :user_id_int, :integer, {:limit=>8})
   -> 0.0006s
-- execute("        UPDATE developer_keys SET user_id_int = CAST(user_id AS INTEGER) WHERE user_id IS NOT NULL\n")
   -> 0.0006s
-- remove_column(:developer_keys, :user_id)
   -> 0.0004s
-- rename_column(:developer_keys, :user_id_int, :user_id)
   -> 0.0003s
-- add_column(:developer_keys, :name, :string)
   -> 0.0005s
==  CreateAccessTokens: migrated (0.0094s) ====================================

==  AddParametersToAccountReports: migrating ==================================
-- add_column(:account_reports, :parameters, :text)
   -> 0.0007s
==  AddParametersToAccountReports: migrated (0.0007s) =========================

==  RemoveQuizDataIds: migrating ==============================================
==  RemoveQuizDataIds: migrated (0.0019s) =====================================

==  CreateTriggerSubmissionsInsert: migrating =================================
-- create_trigger("submissions_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
==  CreateTriggerSubmissionsInsert: migrated (0.0025s) ========================

==  CleanupDelayedJobsIndexes: migrating ======================================
-- remove_index(:delayed_jobs, {:name=>"delayed_jobs_queue"})
   -> 0.0030s
-- remove_index(:delayed_jobs, {:name=>"delayed_jobs_priority"})
   -> 0.0027s
==  CleanupDelayedJobsIndexes: migrated (0.0072s) =============================

==  ConversationTweaks: migrating =============================================
-- add_column(:conversation_participants, :last_authored_at, :datetime)
   -> 0.0028s
==  ConversationTweaks: migrated (0.0030s) ====================================

==  AddGroupRootAccount: migrating ============================================
-- add_column(:groups, :root_account_id, :integer, {:limit=>8})
   -> 0.0009s
==  AddGroupRootAccount: migrated (0.0029s) ===================================

==  AddGroupSisColumns: migrating =============================================
-- add_column(:groups, :sis_source_id, :string)
   -> 0.0008s
-- add_column(:groups, :sis_name, :string)
   -> 0.0007s
-- add_column(:groups, :sis_batch_id, :string)
   -> 0.0004s
-- add_column(:group_memberships, :sis_batch_id, :string)
   -> 0.0004s
==  AddGroupSisColumns: migrated (0.0026s) ====================================

==  RefactorAbstractCourses: migrating ========================================
-- remove_column(:course_sections, :abstract_course_id)
   -> 0.0008s
-- remove_index(:abstract_courses, :department_id)
   -> 0.0039s
-- remove_column(:abstract_courses, :college_id)
   -> 0.0009s
-- rename_column(:abstract_courses, :department_id, :account_id)
   -> 0.0004s
-- rename_column(:abstract_courses, :course_code, :short_name)
   -> 0.0003s
-- add_column(:abstract_courses, :enrollment_term_id, :integer, {:limit=>8})
   -> 0.0004s
-- add_column(:abstract_courses, :sis_course_code, :string)
   -> 0.0004s
-- add_column(:abstract_courses, :sis_name, :string)
   -> 0.0004s
-- add_column(:abstract_courses, :workflow_state, :string)
   -> 0.0004s
-- add_index(:abstract_courses, :account_id)
   -> 0.0021s
-- add_index(:abstract_courses, :enrollment_term_id)
   -> 0.0020s
==  RefactorAbstractCourses: migrated (0.0517s) ===============================

==  MessageAttachmentsAndMediaObjects: migrating ==============================
-- add_column(:conversations, :has_attachments, :boolean)
   -> 0.0007s
-- add_column(:conversations, :has_media_objects, :boolean)
   -> 0.0006s
-- add_column(:conversation_participants, :has_attachments, :boolean)
   -> 0.0005s
-- add_column(:conversation_participants, :has_media_objects, :boolean)
   -> 0.0017s
==  MessageAttachmentsAndMediaObjects: migrated (0.0039s) =====================

==  AddStickyXlisting: migrating ==============================================
-- add_column(:course_sections, :sticky_xlist, :boolean)
   -> 0.0008s
==  AddStickyXlisting: migrated (0.0009s) =====================================

==  OptimizeDelayedJobs: migrating ============================================
-- create_table(:failed_jobs)
   -> 0.0063s
-- remove_index(:delayed_jobs, {:name=>"get_delayed_jobs_index"})
   -> 0.0024s
-- remove_index(:delayed_jobs, [:strand])
   -> 0.0016s
-- add_index(:delayed_jobs, ["run_at", "queue", "locked_at", "strand", "priority"], {:name=>"index_delayed_jobs_for_get_next"})
   -> 0.0022s
-- add_index(:delayed_jobs, ["strand", "id"], {:name=>"index_delayed_jobs_on_strand"})
   -> 0.0020s
==  OptimizeDelayedJobs: migrated (0.0165s) ===================================

==  ConvertStorageQuotasToBytes: migrating ====================================
-- change_column("users", :storage_quota, :integer, {:limit=>8})
   -> 0.0048s
-- change_column("accounts", :storage_quota, :integer, {:limit=>8})
   -> 0.0046s
-- change_column("accounts", :default_storage_quota, :integer, {:limit=>8})
   -> 0.0041s
-- change_column("courses", :storage_quota, :integer, {:limit=>8})
   -> 0.0059s
-- change_column("groups", :storage_quota, :integer, {:limit=>8})
   -> 0.0053s
==  ConvertStorageQuotasToBytes: migrated (0.0294s) ===========================

==  DropOldStreamItemIndexes: migrating =======================================
-- remove_index("stream_item_instances", {:name=>"index_stream_item_instances_with_context_code"})
   -> 0.0020s
==  DropOldStreamItemIndexes: migrated (0.0021s) ==============================

==  AddRealUserIdToPageViews: migrating =======================================
-- add_column(:page_views, :real_user_id, :integer, {:limit=>8})
   -> 0.0008s
==  AddRealUserIdToPageViews: migrated (0.0009s) ==============================

==  LocalePrefs: migrating ====================================================
-- add_column(:users, :locale, :string)
   -> 0.0008s
-- add_column(:users, :browser_locale, :string)
   -> 0.0005s
-- add_column(:courses, :locale, :string)
   -> 0.0006s
-- add_column(:accounts, :default_locale, :string)
   -> 0.0006s
==  LocalePrefs: migrated (0.0027s) ===========================================

==  CreateAlerts: migrating ===================================================
-- create_table(:alerts)
   -> 0.0041s
-- create_table(:alert_criteria)
   -> 0.0031s
==  CreateAlerts: migrated (0.0073s) ==========================================

==  MessageCounts: migrating ==================================================
-- add_column(:conversation_participants, :message_count, :int, {:default=>0})
   -> 0.0012s
-- execute("    UPDATE conversation_participants\n    SET message_count = (\n      SELECT COUNT(*)\n      FROM conversation_messages, conversation_message_participants\n      WHERE conversation_messages.conversation_id = conversation_participants.conversation_id\n        AND NOT conversation_messages.generated\n        AND conversation_messages.id = conversation_message_participants.conversation_message_id\n        AND conversation_participant_id = conversation_participants.id\n    )\n")
   -> 0.0020s
==  MessageCounts: migrated (0.0034s) =========================================

==  MessageForwards: migrating ================================================
-- add_column(:conversation_messages, :forwarded_message_ids, :text)
   -> 0.0007s
==  MessageForwards: migrated (0.0008s) =======================================

==  UnreadCounts: migrating ===================================================
-- add_column(:users, :unread_conversations_count, :int, {:default=>0})
   -> 0.0010s
-- execute("    UPDATE users\n    SET unread_conversations_count = (\n      SELECT COUNT(*)\n      FROM conversation_participants\n      WHERE workflow_state = 'unread'\n        AND last_message_at IS NOT NULL\n        AND user_id = users.id\n    )\n")
   -> 0.0009s
==  UnreadCounts: migrated (0.0022s) ==========================================

==  LabelConversations: migrating =============================================
-- add_column(:conversation_participants, :label, :string)
   -> 0.0016s
==  LabelConversations: migrated (0.0018s) ====================================

==  AddDeveloperKeyRedirectUri: migrating =====================================
-- add_column(:developer_keys, :redirect_uri, :string)
   -> 0.0008s
==  AddDeveloperKeyRedirectUri: migrated (0.0009s) ============================

==  FixDuplicateDiscussions: migrating ========================================
==  FixDuplicateDiscussions: migrated (0.0035s) ===============================

==  AddSettingsToCourses: migrating ===========================================
-- add_column(:courses, :settings, :text)
   -> 0.0037s
==  AddSettingsToCourses: migrated (0.0038s) ==================================

==  ConversationsHasAttachmentsNotNull: migrating =============================
-- change_column_null(:conversations, :has_attachments, false, false)
   -> 0.0015s
-- change_column_default(:conversations, :has_attachments, false)
   -> 0.0005s
-- change_column_null(:conversations, :has_media_objects, false, false)
   -> 0.0006s
-- change_column_default(:conversations, :has_media_objects, false)
   -> 0.0005s
-- change_column_null(:conversation_participants, :has_attachments, false, false)
   -> 0.0007s
-- change_column_default(:conversation_participants, :has_attachments, false)
   -> 0.0004s
-- change_column_null(:conversation_participants, :has_media_objects, false, false)
   -> 0.0006s
-- change_column_default(:conversation_participants, :has_media_objects, false)
   -> 0.0007s
==  ConversationsHasAttachmentsNotNull: migrated (0.0061s) ====================

==  NewInboxMediaComments: migrating ==========================================
-- add_column(:conversation_messages, :media_comment_id, :string)
   -> 0.0029s
-- add_column(:conversation_messages, :media_comment_type, :string)
   -> 0.0006s
==  NewInboxMediaComments: migrated (0.0037s) =================================

==  MessageMigration: migrating ===============================================
-- add_index(:conversation_message_participants, [:conversation_participant_id, :conversation_message_id], {:name=>:index_cmp_on_cpi_and_cmi})
   -> 0.0024s
-- add_index(:inbox_items, [:asset_type, :asset_id])
   -> 0.0030s
-- add_column(:conversation_messages, :context_message_id, :integer, {:limit=>8})
   -> 0.0022s
==  MessageMigration: migrated (0.0081s) ======================================

==  SubmissionHasAdminComment: migrating ======================================
-- add_column(:submissions, :has_admin_comment, :boolean, {:default=>false, :null=>false})
   -> 0.0021s
-- execute("      UPDATE submissions SET has_admin_comment=EXISTS(\n        SELECT 1 FROM submission_comments AS sc, assignments AS a, courses AS c, enrollments AS e\n        WHERE sc.submission_id=submissions.id AND a.id = submissions.assignment_id\n          AND c.id = a.context_id AND a.context_type = 'Course' AND e.course_id = c.id\n          AND e.user_id = sc.author_id AND e.workflow_state = 'active'\n          AND e.type IN ('TeacherEnrollment', 'TaEnrollment'))\n")
   -> 0.0043s
==  SubmissionHasAdminComment: migrated (0.0067s) =============================

==  IncreaseFolderNameSize: migrating =========================================
-- change_column(:folders, :full_name, :text)
   -> 0.0008s
==  IncreaseFolderNameSize: migrated (0.0009s) ================================

==  CreateTriggersSubmissionCommentsInsertAndSubmissionCommentsDelete: migrating 
-- create_trigger("submission_comments_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0003s
-- create_trigger("submission_comments_after_delete_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
==  CreateTriggersSubmissionCommentsInsertAndSubmissionCommentsDelete: migrated (0.0038s) 

==  ContextToConversationNotificationPreferences: migrating ===================
==  ContextToConversationNotificationPreferences: migrated (0.1138s) ==========

==  AddExternalToolFlags: migrating ===========================================
-- add_column(:context_external_tools, :has_user_navigation, :boolean)
   -> 0.0010s
-- add_column(:context_external_tools, :has_course_navigation, :boolean)
   -> 0.0006s
-- add_column(:context_external_tools, :has_account_navigation, :boolean)
   -> 0.0004s
-- add_column(:context_external_tools, :has_resource_selection, :boolean)
   -> 0.0004s
-- add_column(:context_external_tools, :has_editor_button, :boolean)
   -> 0.0004s
-- add_index(:context_external_tools, [:context_id, :context_type, :has_user_navigation], {:name=>"external_tools_user_navigation"})
   -> 0.0022s
-- add_index(:context_external_tools, [:context_id, :context_type, :has_course_navigation], {:name=>"external_tools_course_navigation"})
   -> 0.0023s
-- add_index(:context_external_tools, [:context_id, :context_type, :has_account_navigation], {:name=>"external_tools_account_navigation"})
   -> 0.0027s
-- add_index(:context_external_tools, [:context_id, :context_type, :has_resource_selection], {:name=>"external_tools_resource_selection"})
   -> 0.0027s
-- add_index(:context_external_tools, [:context_id, :context_type, :has_editor_button], {:name=>"external_tools_editor_button"})
   -> 0.1659s
==  AddExternalToolFlags: migrated (0.1794s) ==================================

==  RemoveInactiveEnrollmentState: migrating ==================================
==  RemoveInactiveEnrollmentState: migrated (0.0022s) =========================

==  ConversationMessageContext: migrating =====================================
-- add_column(:conversation_messages, :context_id, :integer, {:limit=>8})
   -> 0.0008s
-- add_column(:conversation_messages, :context_type, :string)
   -> 0.0006s
==  ConversationMessageContext: migrated (0.0016s) ============================

==  AddUsefulIndexes: migrating ===============================================
-- add_index(:courses, :uuid)
   -> 0.0044s
-- add_index(:content_tags, [:associated_asset_id, :associated_asset_type], {:name=>"index_content_tags_on_associated_asset"})
   -> 0.0031s
-- add_index(:discussion_entries, :parent_id)
   -> 0.0026s
-- add_index(:learning_outcomes, [:context_id, :context_type])
   -> 0.0021s
-- add_index(:role_overrides, :context_code)
   -> 0.0023s
==  AddUsefulIndexes: migrated (0.0150s) ======================================

==  QuestionDataLength: migrating =============================================
==  QuestionDataLength: migrated (0.0000s) ====================================

==  AddGradingStandardsVersion: migrating =====================================
-- add_column(:grading_standards, :version, :integer)
   -> 0.0009s
==  AddGradingStandardsVersion: migrated (0.0011s) ============================

==  ConversationsCountFix: migrating ==========================================
-- execute("UPDATE conversation_participants SET workflow_state = 'read' WHERE workflow_state = 'unread' AND last_message_at IS NULL")
   -> 0.0007s
-- execute("    UPDATE users\n    SET unread_conversations_count = (\n      SELECT COUNT(*)\n      FROM conversation_participants\n      WHERE workflow_state = 'unread'\n        AND last_message_at IS NOT NULL\n        AND user_id = users.id\n    )\n")
   -> 0.0008s
==  ConversationsCountFix: migrated (0.0017s) =================================

==  AddReplacementCourseIdToCourses: migrating ================================
-- add_column(:courses, :replacement_course_id, :integer, {:limit=>8})
   -> 0.0008s
==  AddReplacementCourseIdToCourses: migrated (0.0010s) =======================

==  ClearSisWhitespace: migrating =============================================
-- execute("UPDATE pseudonyms SET  unique_id = TRIM(unique_id), sis_source_id = TRIM(sis_source_id), sis_user_id = TRIM(sis_user_id)")
   -> 0.0013s
-- execute("UPDATE users SET  name = TRIM(name), sis_name = TRIM(sis_name)")
   -> 0.0005s
-- execute("UPDATE enrollment_terms SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id)")
   -> 0.0006s
-- execute("UPDATE course_sections SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id)")
   -> 0.0008s
-- execute("UPDATE groups SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id)")
   -> 0.0007s
-- execute("UPDATE courses SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id), course_code = TRIM(course_code), sis_course_code = TRIM(sis_course_code)")
   -> 0.0007s
-- execute("UPDATE abstract_courses SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id), short_name = TRIM(short_name), sis_course_code = TRIM(sis_course_code)")
   -> 0.0006s
-- execute("UPDATE course_sections SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id)")
   -> 0.0003s
-- execute("UPDATE enrollments SET  sis_source_id = TRIM(sis_source_id)")
   -> 0.0003s
-- execute("UPDATE accounts SET  name = TRIM(name), sis_name = TRIM(sis_name), sis_source_id = TRIM(sis_source_id)")
   -> 0.0008s
==  ClearSisWhitespace: migrated (0.0073s) ====================================

==  AddDelayedJobsNextInStrand: migrating =====================================
-- remove_index(:delayed_jobs, {:name=>"index_delayed_jobs_for_get_next"})
   -> 0.0030s
-- add_column(:delayed_jobs, :next_in_strand, :boolean, {:default=>true, :null=>false})
   -> 0.0017s
-- execute("      CREATE FUNCTION delayed_jobs_before_insert_row_tr_fn () RETURNS trigger AS $$\n      BEGIN\n        LOCK delayed_jobs IN SHARE ROW EXCLUSIVE MODE;\n        IF (SELECT 1 FROM delayed_jobs WHERE strand = NEW.strand LIMIT 1) = 1 THEN\n          NEW.next_in_strand := 'f';\n        END IF;\n        RETURN NEW;\n      END;\n      $$ LANGUAGE plpgsql;\n")
   -> 0.0006s
-- execute("CREATE TRIGGER delayed_jobs_before_insert_row_tr BEFORE INSERT ON delayed_jobs FOR EACH ROW WHEN (NEW.strand IS NOT NULL) EXECUTE PROCEDURE delayed_jobs_before_insert_row_tr_fn()")
   -> 0.0005s
-- execute("      CREATE FUNCTION delayed_jobs_after_delete_row_tr_fn () RETURNS trigger AS $$\n      BEGIN\n        UPDATE delayed_jobs SET next_in_strand = 't' WHERE id = (SELECT id FROM delayed_jobs j2 WHERE j2.strand = OLD.strand ORDER BY j2.strand, j2.id ASC LIMIT 1);\n        RETURN OLD;\n      END;\n      $$ LANGUAGE plpgsql;\n")
   -> 0.0005s
-- execute("CREATE TRIGGER delayed_jobs_after_delete_row_tr AFTER DELETE ON delayed_jobs FOR EACH ROW WHEN (OLD.strand IS NOT NULL AND OLD.next_in_strand = 't') EXECUTE PROCEDURE delayed_jobs_after_delete_row_tr_fn()")
   -> 0.0006s
-- execute("UPDATE delayed_jobs SET next_in_strand = 'f' WHERE strand IS NOT NULL AND id <> (SELECT id FROM delayed_jobs j2 WHERE j2.strand = delayed_jobs.strand ORDER BY j2.strand, j2.id ASC LIMIT 1)")
   -> 0.0008s
==  AddDelayedJobsNextInStrand: migrated (0.0094s) ============================

==  DropMailboxes: migrating ==================================================
-- drop_table(:mailboxes)
   -> 0.0024s
-- drop_table(:mailboxes_pseudonyms)
   -> 0.0013s
==  DropMailboxes: migrated (0.0039s) =========================================

==  DropContextCodeFromRoleOverride: migrating ================================
-- remove_index(:role_overrides, :context_code)
   -> 0.0027s
-- remove_column(:role_overrides, :context_code)
   -> 0.0006s
==  DropContextCodeFromRoleOverride: migrated (0.0035s) =======================

==  DropMovedInAccountStructure: migrating ====================================
-- remove_index(:users, :moved_in_account_structure)
   -> 0.0037s
-- remove_column(:users, :moved_in_account_structure)
   -> 0.0008s
-- remove_index(:courses, [:moved_in_account_structure, :updated_at])
   -> 0.0042s
-- remove_column(:courses, :moved_in_account_structure)
   -> 0.0008s
-- remove_column(:accounts, :moved_in_account_structure)
   -> 0.0007s
==  DropMovedInAccountStructure: migrated (0.0105s) ===========================

==  DropTypeFromUsers: migrating ==============================================
-- remove_index(:users, :type)
   -> 0.0030s
-- remove_column(:users, :type)
   -> 0.0009s
==  DropTypeFromUsers: migrated (0.0042s) =====================================

==  AddParametersToCourseImports: migrating ===================================
-- add_column(:course_imports, :parameters, :text)
   -> 0.0008s
==  AddParametersToCourseImports: migrated (0.0010s) ==========================

==  TurnitinSettings: migrating ===============================================
-- add_column(:assignments, :turnitin_settings, :text)
   -> 0.0007s
==  TurnitinSettings: migrated (0.0009s) ======================================

==  RemoveSectionAndHiddenTabsFromCourses: migrating ==========================
-- remove_column(:courses, :section)
   -> 0.0008s
-- remove_column(:courses, :hidden_tabs)
   -> 0.0005s
==  RemoveSectionAndHiddenTabsFromCourses: migrated (0.0015s) =================

==  AddMutedToAssignments: migrating ==========================================
-- add_column(:assignments, :muted, :boolean, {:default=>false})
   -> 0.0013s
==  AddMutedToAssignments: migrated (0.0026s) =================================

==  GenericSisStickinessRefactorColumns: migrating ============================
-- add_column(:abstract_courses, :stuck_sis_fields, :text)
   -> 0.0006s
-- add_column(:accounts, :stuck_sis_fields, :text)
   -> 0.0005s
-- add_column(:courses, :stuck_sis_fields, :text)
   -> 0.0005s
-- add_column(:groups, :stuck_sis_fields, :text)
   -> 0.0004s
-- add_column(:course_sections, :stuck_sis_fields, :text)
   -> 0.0004s
-- add_column(:enrollment_terms, :stuck_sis_fields, :text)
   -> 0.0004s
-- add_column(:users, :stuck_sis_fields, :text)
   -> 0.0005s
==  GenericSisStickinessRefactorColumns: migrated (0.0037s) ===================

==  GenericSisStickinessRefactorData: migrating ===============================
-- execute("      UPDATE abstract_courses SET stuck_sis_fields =\n          (CASE WHEN sis_name <> name THEN\n            (CASE WHEN sis_course_code <> short_name THEN\n              'name,short_name'\n            ELSE\n              'name'\n            END)\n          WHEN sis_course_code <> short_name THEN\n            'short_name'\n          ELSE\n            NULL\n          END);\n")
   -> 0.0006s
-- execute("      UPDATE courses SET stuck_sis_fields =\n          (CASE WHEN sis_name <> name THEN\n            (CASE WHEN sis_course_code <> course_code THEN\n              'name,course_code'\n            ELSE\n              'name'\n            END)\n          WHEN sis_course_code <> course_code THEN\n            'course_code'\n          ELSE\n            NULL\n          END);\n")
   -> 0.0005s
-- execute("      UPDATE course_sections SET stuck_sis_fields =\n          (CASE WHEN sis_name <> name THEN\n            (CASE WHEN sticky_xlist THEN\n              'course_id,name'\n            ELSE\n              'name'\n            END)\n          WHEN sticky_xlist THEN\n            'course_id'\n          ELSE\n            NULL\n          END);\n")
   -> 0.0004s
-- execute("UPDATE accounts SET stuck_sis_fields = 'name' WHERE sis_name <> name;")
   -> 0.0004s
-- execute("UPDATE groups SET stuck_sis_fields = 'name' WHERE sis_name <> name;")
   -> 0.0004s
-- execute("UPDATE enrollment_terms SET stuck_sis_fields = 'name' WHERE sis_name <> name;")
   -> 0.0003s
-- execute("UPDATE users SET stuck_sis_fields = 'name' WHERE sis_name <> name;")
   -> 0.0005s
==  GenericSisStickinessRefactorData: migrated (0.0037s) ======================

==  AddHiddenToSubmissionComments: migrating ==================================
-- add_column(:submission_comments, :hidden, :boolean, {:default=>false})
   -> 0.0012s
==  AddHiddenToSubmissionComments: migrated (0.0174s) =========================

==  RemoveUnusedSisDataFields: migrating ======================================
-- remove_column(:pseudonyms, :sis_update_data)
   -> 0.0007s
-- remove_column(:enrollment_terms, :sis_data)
   -> 0.0004s
==  RemoveUnusedSisDataFields: migrated (0.0013s) =============================

==  AddEnrollmentSisStickiness: migrating =====================================
-- add_column(:enrollments, :stuck_sis_fields, :text)
   -> 0.0006s
==  AddEnrollmentSisStickiness: migrated (0.0007s) ============================

==  AddIndexDiscussionTopicsAssignmentId: migrating ===========================
-- add_index(:discussion_topics, [:assignment_id])
   -> 0.0041s
==  AddIndexDiscussionTopicsAssignmentId: migrated (0.0042s) ==================

==  AddNewTabToContentTags: migrating =========================================
-- add_column(:content_tags, :new_tab, :boolean)
   -> 0.0006s
==  AddNewTabToContentTags: migrated (0.0007s) ================================

==  AddEnrollmentGradePublishingMessage: migrating ============================
-- add_column(:enrollments, :grade_publishing_message, :text)
   -> 0.0007s
==  AddEnrollmentGradePublishingMessage: migrated (0.0008s) ===================

==  UnscribdTextHtmlAttachments: migrating ====================================
==  UnscribdTextHtmlAttachments: migrated (0.0028s) ===========================

==  CreateFavorites: migrating ================================================
-- create_table(:favorites)
   -> 0.0035s
==  CreateFavorites: migrated (0.0037s) =======================================

==  GroupCategoriesMigration: migrating =======================================
-- create_table(:group_categories)
   -> 0.0039s
-- add_column(:groups, :group_category_id, :integer, {:limit=>8})
   -> 0.0005s
-- add_column(:assignments, :group_category_id, :integer, {:limit=>8})
   -> 0.0004s
==  GroupCategoriesMigration: migrated (0.0051s) ==============================

==  GroupCategoriesDataMigration: migrating ===================================
==  GroupCategoriesDataMigration: migrated (0.0042s) ==========================

==  AddGroupCategoriesSelfSignupMigration: migrating ==========================
-- add_column(:group_categories, :self_signup, :string)
   -> 0.0007s
==  AddGroupCategoriesSelfSignupMigration: migrated (0.0008s) =================

==  AddSisOptions: migrating ==================================================
-- add_column(:sis_batches, :options, :text)
   -> 0.0008s
==  AddSisOptions: migrated (0.0009s) =========================================

==  UpdateTwitterUrlsForHttps: migrating ======================================
==  UpdateTwitterUrlsForHttps: migrated (0.0015s) =============================

==  DropDeletedUniqueIdFromPseudonyms: migrating ==============================
-- remove_column(:pseudonyms, :deleted_unique_id)
   -> 0.0005s
==  DropDeletedUniqueIdFromPseudonyms: migrated (0.0017s) =====================

==  AddPseudonymSisStickiness: migrating ======================================
-- add_column(:pseudonyms, :stuck_sis_fields, :text)
   -> 0.0009s
-- execute("UPDATE pseudonyms SET stuck_sis_fields='unique_id' WHERE sis_source_id<>unique_id")
   -> 0.0005s
==  AddPseudonymSisStickiness: migrated (0.0015s) =============================

==  DropSisSourceIdFromPseudonyms: migrating ==================================
-- remove_column(:pseudonyms, :sis_source_id)
   -> 0.0008s
==  DropSisSourceIdFromPseudonyms: migrated (0.0009s) =========================

==  GroupCategoriesCleanupMigration: migrating ================================
==  GroupCategoriesCleanupMigration: migrated (0.0014s) =======================

==  TurnitinFix: migrating ====================================================
==  TurnitinFix: migrated (0.0025s) ===========================================

==  DropInvitationEmailFromEnrollments: migrating =============================
-- remove_column(:enrollments, :invitation_email)
   -> 0.0009s
==  DropInvitationEmailFromEnrollments: migrated (0.0011s) ====================

==  UpdateSubmittedAtForDiscussionTopics: migrating ===========================
==  UpdateSubmittedAtForDiscussionTopics: migrated (0.0025s) ==================

==  TranslateLinksOnAssessmentQuestions: migrating ============================
==  TranslateLinksOnAssessmentQuestions: migrated (0.0032s) ===================

==  DropEnrollmentIdFromAttachments: migrating ================================
-- remove_index(:attachments, [:enrollment_id])
   -> 0.0043s
-- remove_column(:attachments, :enrollment_id)
   -> 0.0005s
==  DropEnrollmentIdFromAttachments: migrated (0.0050s) =======================

==  AddEncodingToAttachments: migrating =======================================
-- add_column(:attachments, :encoding, :string)
   -> 0.0017s
==  AddEncodingToAttachments: migrated (0.0019s) ==============================

==  DetectAttachmentEncoding: migrating =======================================
==  DetectAttachmentEncoding: migrated (0.0177s) ==============================

==  DeleteSubEntriesOfDeletedDiscussionEntries: migrating =====================
==  DeleteSubEntriesOfDeletedDiscussionEntries: migrated (0.0028s) ============

==  DropNameDetailsFromUsers: migrating =======================================
==  DropNameDetailsFromUsers: migrated (0.0030s) ==============================

==  IndexUserSortableNameCaseInsensitively: migrating =========================
-- remove_index(:users, :sortable_name)
   -> 0.0030s
==  IndexUserSortableNameCaseInsensitively: migrated (0.0041s) ================

==  RestoreUsersSortableName: migrating =======================================
==  RestoreUsersSortableName: migrated (0.0024s) ==============================

==  GrandfatherOpenRegistration: migrating ====================================
==  GrandfatherOpenRegistration: migrated (0.0024s) ===========================

==  EnsureSubmissionsForDiscussions: migrating ================================
==  EnsureSubmissionsForDiscussions: migrated (0.0041s) =======================

==  FixUngradedCounts: migrating ==============================================
-- execute("      UPDATE assignments SET needs_grading_count = COALESCE((\n        SELECT COUNT(DISTINCT s.id)\n        FROM submissions s\n        INNER JOIN enrollments e ON e.user_id = s.user_id AND e.workflow_state = 'active'\n        WHERE s.assignment_id = assignments.id\n          AND e.course_id = assignments.context_id\n          AND s.submission_type IS NOT NULL\n          AND (s.score IS NULL\n            OR NOT grade_matches_current_submission\n            OR s.workflow_state IN ('submitted', 'pending_review')\n          )\n      ), 0)\n")
   -> 0.0015s
==  FixUngradedCounts: migrated (0.0017s) =====================================

==  CleanupQuizQuestionLinks: migrating =======================================
==  CleanupQuizQuestionLinks: migrated (0.0054s) ==============================

==  AddExternalToolCloneId: migrating =========================================
-- add_column(:context_external_tools, :cloned_item_id, :integer, {:limit=>8})
   -> 0.0016s
==  AddExternalToolCloneId: migrated (0.0018s) ================================

==  FavoritesUserIndex: migrating =============================================
-- add_index(:favorites, [:user_id])
   -> 0.0026s
==  FavoritesUserIndex: migrated (0.0027s) ====================================

==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdate: migrating ============
-- drop_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", "enrollments")
   -> 0.0009s
-- drop_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", "enrollments")
   -> 0.0006s
-- create_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdate: migrated (0.0054s) ===

==  AddPersistenceTokenTable: migrating =======================================
-- create_table(:session_persistence_tokens)
   -> 0.0042s
-- add_index(:session_persistence_tokens, :pseudonym_id)
   -> 0.0019s
==  AddPersistenceTokenTable: migrated (0.0064s) ==============================

==  DisableOpenRegistrationForDelegatedAuth: migrating ========================
==  DisableOpenRegistrationForDelegatedAuth: migrated (0.4079s) ===============

==  SubmissionPointsPossibleFixColumn: migrating ==============================
-- change_column(:quiz_submissions, :quiz_points_possible, :float)
   -> 0.0040s
==  SubmissionPointsPossibleFixColumn: migrated (0.0041s) =====================

==  SubmissionPointsPossibleFixData: migrating ================================
-- execute("          UPDATE quiz_submissions\n          SET quiz_points_possible = points_possible\n          FROM quizzes\n          WHERE quiz_id = quizzes.id AND quiz_points_possible <> points_possible AND (points_possible < 2147483647 AND quiz_points_possible = CAST(points_possible AS INTEGER) OR points_possible >= 2147483647 AND quiz_points_possible = 2147483647)\n")
   -> 0.0018s
==  SubmissionPointsPossibleFixData: migrated (0.0019s) =======================

==  CreateTriggerQuizSubmissionsUpdate: migrating =============================
-- create_trigger("quiz_submissions_after_update_row_when_new_submission_id_is__tr", {:generated=>true, :compatibility=>1})
   -> 0.0005s
==  CreateTriggerQuizSubmissionsUpdate: migrated (0.0027s) ====================

==  FixEnrollmentRootAccountId: migrating =====================================
-- adapter_name()
   -> 0.0000s
-- execute("UPDATE enrollments SET root_account_id = c.root_account_id FROM courses As c WHERE course_id = c.id AND enrollments.root_account_id != c.root_account_id")
   -> 0.0009s
==  FixEnrollmentRootAccountId: migrated (0.0011s) ============================

==  AddMissingTooLongIndexes: migrating =======================================
-- index_exists?("custom_fields", "custom_field_lookup", false)
   -> 0.0015s
-- add_index(:custom_fields, ["scoper_type", "scoper_id", "target_type", "name"], {:name=>"custom_field_lookup"})
   -> 0.0024s
-- index_exists?("learning_outcome_results", "index_learning_outcome_results_association", false)
   -> 0.0019s
-- index_exists?("context_external_tools", "external_tools_user_navigation", false)
   -> 0.0026s
-- index_exists?("context_external_tools", "external_tools_course_navigation", false)
   -> 0.0027s
-- index_exists?("context_external_tools", "external_tools_account_navigation", false)
   -> 0.0027s
-- index_exists?("context_external_tools", "external_tools_resource_selection", false)
   -> 0.0029s
-- index_exists?("context_external_tools", "external_tools_editor_button", false)
   -> 0.0025s
-- index_exists?("stream_item_instances", "index_stream_item_instances_on_user_id_and_id_and_stream_item_id", false)
   -> 0.0018s
-- index_exists?("stream_item_instances", "index_stream_item_instances_with_context_code", false)
   -> 0.0020s
==  AddMissingTooLongIndexes: migrated (0.0240s) ==============================

==  DropSisCrossListedSection: migrating ======================================
-- remove_column(:course_sections, :sis_cross_listed_section_id)
   -> 0.0008s
-- remove_column(:course_sections, :sis_cross_listed_section_sis_batch_id)
   -> 0.0004s
-- drop_table(:sis_cross_listed_sections)
   -> 0.0014s
==  DropSisCrossListedSection: migrated (0.0028s) =============================

==  DropStickyXlistFromCourseSections: migrating ==============================
-- remove_column(:course_sections, :sticky_xlist)
   -> 0.0009s
==  DropStickyXlistFromCourseSections: migrated (0.0010s) =====================

==  FixSpellingOfPrivilegesColumnOnEnrollments: migrating =====================
-- add_column(:enrollments, :limit_privileges_to_course_section, :boolean)
   -> 0.0022s
==  FixSpellingOfPrivilegesColumnOnEnrollments: migrated (0.0024s) ============

==  AddZipFileImports: migrating ==============================================
-- create_table(:zip_file_imports)
   -> 0.0046s
==  AddZipFileImports: migrated (0.0047s) =====================================

==  RecalculateMutedAssignments: migrating ====================================
==  RecalculateMutedAssignments: migrated (0.0019s) ===========================

==  AppointmentGroups: migrating ==============================================
-- create_table(:appointment_groups)
   -> 0.0085s
-- add_index(:appointment_groups, [:context_id])
   -> 0.0019s
-- add_index(:appointment_groups, [:context_code])
   -> 0.0018s
-- add_column(:calendar_events, :parent_calendar_event_id, :integer, {:limit=>8})
   -> 0.0005s
-- add_index(:calendar_events, [:parent_calendar_event_id])
   -> 0.0042s
-- add_column(:calendar_events, :effective_context_code, :string)
   -> 0.0004s
==  AppointmentGroups: migrated (0.0177s) =====================================

==  AppointmentParticipantVisibility: migrating ===============================
-- add_column(:appointment_groups, :participant_visibility, :string)
   -> 0.0007s
==  AppointmentParticipantVisibility: migrated (0.0008s) ======================

==  IndexCalendarEventsEffectiveContextCode: migrating ========================
==  IndexCalendarEventsEffectiveContextCode: migrated (0.0007s) ===============

==  AddIndexesToPseudonyms: migrating =========================================
-- remove_index(:pseudonyms, :unique_id)
   -> 0.0025s
-- add_index(:pseudonyms, :sis_user_id)
   -> 0.0027s
==  AddIndexesToPseudonyms: migrated (0.0092s) ================================

==  AddCommunicationChannelsIndex: migrating ==================================
-- remove_index(:communication_channels, [:path, :path_type])
   -> 0.0027s
==  AddCommunicationChannelsIndex: migrated (0.0036s) =========================

==  FixAssessmentQuestionsMissingData: migrating ==============================
==  FixAssessmentQuestionsMissingData: migrated (0.0091s) =====================

==  ChangeRubricPointsPossibleToFloat: migrating ==============================
-- change_column(:rubrics, :points_possible, :float)
   -> 0.0060s
==  ChangeRubricPointsPossibleToFloat: migrated (0.0061s) =====================

==  RemoveAttachmentsWithNoScopeFromList: migrating ===========================
==  RemoveAttachmentsWithNoScopeFromList: migrated (0.0048s) ==================

==  FixSisCommunicationChannels: migrating ====================================
==  FixSisCommunicationChannels: migrated (1.1789s) ===========================

==  DropUserCreationColumns: migrating ========================================
-- remove_index(:users, "users_sis_creation")
   -> 0.0027s
-- remove_column(:users, :creation_unique_id)
   -> 0.0009s
-- remove_column(:users, :creation_sis_batch_id)
   -> 0.0005s
-- remove_column(:users, :creation_email)
   -> 0.0004s
==  DropUserCreationColumns: migrated (0.0049s) ===============================

==  DropAccountType: migrating ================================================
-- remove_index(:accounts, [:id, :type])
   -> 0.0032s
-- remove_index(:accounts, :type)
   -> 0.0025s
-- remove_column(:accounts, :type)
   -> 0.0009s
==  DropAccountType: migrated (0.0068s) =======================================

==  DropOldSisStickyColumns: migrating ========================================
-- remove_column(:abstract_courses, :sis_name)
   -> 0.0006s
-- remove_column(:abstract_courses, :sis_course_code)
   -> 0.0004s
-- remove_column(:accounts, :sis_name)
   -> 0.0004s
-- remove_column(:course_sections, :sis_name)
   -> 0.0004s
-- remove_column(:courses, :sis_name)
   -> 0.0004s
-- remove_column(:courses, :sis_course_code)
   -> 0.0004s
-- remove_column(:enrollment_terms, :sis_name)
   -> 0.0005s
-- remove_column(:groups, :sis_name)
   -> 0.0005s
-- remove_column(:users, :sis_name)
   -> 0.0005s
==  DropOldSisStickyColumns: migrated (0.0046s) ===============================

==  ChangeSisBatchIdToInteger: migrating ======================================
-- execute("ALTER TABLE abstract_courses ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0037s
-- execute("ALTER TABLE accounts ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0040s
-- execute("ALTER TABLE accounts ALTER current_sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0040s
-- execute("ALTER TABLE accounts ALTER last_successful_sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0036s
-- execute("ALTER TABLE course_sections ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0034s
-- execute("ALTER TABLE courses ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0049s
-- execute("ALTER TABLE enrollment_terms ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0030s
-- execute("ALTER TABLE enrollments ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0041s
-- execute("ALTER TABLE group_memberships ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0032s
-- execute("ALTER TABLE groups ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0047s
-- execute("ALTER TABLE pseudonyms ALTER sis_batch_id TYPE bigint USING CAST(sis_batch_id AS bigint)")
   -> 0.0041s
==  ChangeSisBatchIdToInteger: migrated (0.0433s) =============================

==  SetSamlEntityId: migrating ================================================
==  SetSamlEntityId: migrated (0.0042s) =======================================

==  SubmissionCommentsInConversations: migrating ==============================
-- add_column(:conversation_messages, :asset_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_column(:conversation_messages, :asset_type, :string)
   -> 0.0004s
-- adapter_name()
   -> 0.0000s
-- execute("CREATE INDEX index_conversation_messages_on_asset_id_and_asset_type ON conversation_messages (asset_id, asset_type) WHERE asset_id IS NOT NULL")
   -> 0.0006s
==  SubmissionCommentsInConversations: migrated (0.0019s) =====================

==  RemoveUserIdFromNotificationPolicy: migrating =============================
-- remove_column(:notification_policies, :user_id)
   -> 0.0007s
==  RemoveUserIdFromNotificationPolicy: migrated (0.0008s) ====================

==  DestroyExistingAnonymousFolderDownloads: migrating ========================
==  DestroyExistingAnonymousFolderDownloads: migrated (0.0014s) ===============

==  DropTriggersSubmissionCommentsAndSubmissionComments: migrating ============
-- drop_trigger("submission_comments_after_insert_row_tr", "submission_comments", {:generated=>true})
   -> 0.0007s
-- drop_trigger("submission_comments_after_delete_row_tr", "submission_comments", {:generated=>true})
   -> 0.0004s
==  DropTriggersSubmissionCommentsAndSubmissionComments: migrated (0.0013s) ===

==  ConversationParticipantTags: migrating ====================================
-- add_column(:conversations, :tags, :text)
   -> 0.0013s
-- add_column(:conversation_participants, :tags, :text)
   -> 0.0004s
-- add_column(:conversation_message_participants, :tags, :text)
   -> 0.0009s
==  ConversationParticipantTags: migrated (0.0027s) ===========================

==  IndexCleanupPt1: migrating ================================================
-- execute("create index index_attachments_on_root_attachment_id_not_null on attachments (root_attachment_id) where root_attachment_id is not null")
   -> 0.0008s
-- remove_index("attachments", {:name=>"index_attachments_on_root_attachment_id"})
   -> 0.0037s
-- remove_index("attachments", {:name=>"index_attachments_on_scribd_account_id"})
   -> 0.0033s
-- remove_index("enrollments", {:name=>"index_enrollments_on_sis_source_id"})
   -> 0.0031s
-- remove_index("courses", {:name=>"index_courses_on_grading_standard_id"})
   -> 0.0027s
-- remove_index("courses", {:name=>"index_courses_on_wiki_id"})
   -> 0.0025s
-- remove_index("messages", {:name=>"index_messages_on_asset_context_id_and_asset_context_type"})
   -> 0.0031s
-- remove_index("messages", {:name=>"index_messages_on_notification_name_workflow_state_created_at"})
   -> 0.0026s
-- remove_index("messages", {:name=>"index_messages_on_sa_ui_te_nc"})
   -> 0.0025s
-- remove_index("messages", {:name=>"index_messages_on_workflow_state_and_dispatch_at"})
   -> 0.0024s
-- remove_index("pseudonyms", {:name=>"index_pseudonyms_on_communication_channel_id"})
   -> 0.0023s
-- remove_index("assignment_groups", {:name=>"index_assignment_groups_on_context_code"})
   -> 0.0017s
-- remove_index("assessment_questions", {:name=>"index_assessment_questions_on_context_id_and_context_type"})
   -> 0.0016s
-- remove_index("assignments", {:name=>"index_assignments_on_workflow_state"})
   -> 0.0071s
-- remove_index("submissions", {:name=>"aid_submission_type_process_attempts"})
   -> 0.0024s
-- remove_index("submissions", {:name=>"index_submissions_on_grader_id"})
   -> 0.0025s
-- remove_index("submissions", {:name=>"index_submissions_on_group_id"})
   -> 0.0021s
==  IndexCleanupPt1: migrated (0.0471s) =======================================

==  DropStreamItemsUserId: migrating ==========================================
-- remove_column(:stream_items, :user_id)
   -> 0.0014s
==  DropStreamItemsUserId: migrated (0.0015s) =================================

==  DropCachedS3Url: migrating ================================================
-- remove_column(:attachments, :cached_s3_url)
   -> 0.0006s
-- remove_column(:attachments, :s3_url_cached_at)
   -> 0.0004s
==  DropCachedS3Url: migrated (0.0011s) =======================================

==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdateAndSubmissionsUpdateAndSubmissionsInsert: migrating 
-- drop_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", "enrollments", {:generated=>true})
   -> 0.0008s
-- drop_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", "enrollments", {:generated=>true})
   -> 0.0006s
-- drop_trigger("submissions_after_update_row_tr", "submissions", {:generated=>true})
   -> 0.0004s
-- drop_trigger("submissions_after_update_row_when_old_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0005s
-- drop_trigger("submissions_after_insert_row_tr", "submissions", {:generated=>true})
   -> 0.0004s
-- drop_trigger("submissions_after_insert_row_when_new_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0005s
-- create_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("submissions_after_update_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("submissions_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdateAndSubmissionsUpdateAndSubmissionsInsert: migrated (0.0113s) 

==  ConversationDataUpdate: migrating =========================================
==  ConversationDataUpdate: migrated (0.2269s) ================================

==  LabelsToStars: migrating ==================================================
==  LabelsToStars: migrated (0.0388s) =========================================

==  AddSamlRequestedAuthnContext: migrating ===================================
-- add_column(:account_authorization_configs, :requested_authn_context, :string)
   -> 0.0008s
==  AddSamlRequestedAuthnContext: migrated (0.0020s) ==========================

==  ConversationParticipantVisibleLastAuthoredAt: migrating ===================
-- add_column(:conversation_participants, :visible_last_authored_at, :datetime)
   -> 0.0007s
==  ConversationParticipantVisibleLastAuthoredAt: migrated (0.0008s) ==========

==  PopulateVisibleLastAuthoredAt: migrating ==================================
-- execute("      UPDATE conversation_participants\n      SET visible_last_authored_at = (\n        SELECT MAX(created_at)\n        FROM conversation_messages, conversation_message_participants\n        WHERE conversation_messages.conversation_id = conversation_participants.conversation_id\n          AND conversation_messages.author_id = conversation_participants.user_id\n          AND conversation_message_participants.conversation_message_id = conversation_messages.id\n          AND conversation_message_participants.conversation_participant_id = conversation_participants.id\n          AND NOT generated\n      )\n")
   -> 0.0014s
==  PopulateVisibleLastAuthoredAt: migrated (0.0016s) =========================

==  PurgeDuplicateDeletedSisEnrollments: migrating ============================
==  PurgeDuplicateDeletedSisEnrollments: migrated (0.0016s) ===================

==  RemoveDuplicateEnrollmentsFromSections: migrating =========================
-- Deleted 0 duplicate enrollments
==  RemoveDuplicateEnrollmentsFromSections: migrated (0.0026s) ================

==  AddEmptyTags: migrating ===================================================
-- execute("UPDATE conversations SET tags = '' WHERE tags IS NULL")
   -> 0.0003s
-- execute("UPDATE conversation_participants SET tags = '' WHERE tags IS NULL")
   -> 0.0002s
==  AddEmptyTags: migrated (0.0007s) ==========================================

==  SubmissionCommentConversationFix: migrating ===============================
==  SubmissionCommentConversationFix: migrated (0.0013s) ======================

==  CreateDiscussionEntryParticipants: migrating ==============================
-- create_table("discussion_entry_participants")
   -> 0.0033s
-- create_table("discussion_topic_participants")
   -> 0.0030s
-- add_index("discussion_entry_participants", ["discussion_entry_id", "user_id"], {:name=>"index_entry_participant_on_entry_id_and_user_id", :unique=>true})
   -> 0.0018s
-- add_index("discussion_topic_participants", ["discussion_topic_id", "user_id"], {:name=>"index_topic_participant_on_topic_id_and_user_id", :unique=>true})
   -> 0.0016s
==  CreateDiscussionEntryParticipants: migrated (0.0100s) =====================

==  RemoveDuplicateSubmissionMessages: migrating ==============================
==  RemoveDuplicateSubmissionMessages: migrated (0.0226s) =====================

==  RemoveExtraneousConversationTags: migrating ===============================
-- execute("UPDATE conversation_participants SET tags = '' WHERE last_message_at IS NULL AND message_count = 0 AND tags <> ''")
   -> 0.0008s
==  RemoveExtraneousConversationTags: migrated (0.0154s) ======================

==  FixZeroPointPassFailScores: migrating =====================================
==  FixZeroPointPassFailScores: migrated (0.0026s) ============================

==  RemoveIrrelevantSubmissionMessages: migrating =============================
==  RemoveIrrelevantSubmissionMessages: migrated (0.0021s) ====================

==  CreateAppointmentGroupSubContexts: migrating ==============================
-- create_table(:appointment_group_sub_contexts)
   -> 0.0036s
-- add_index(:appointment_group_sub_contexts, :id)
   -> 0.0017s
==  CreateAppointmentGroupSubContexts: migrated (0.0530s) =====================

==  AcceptPendingGroupMemberships: migrating ==================================
==  AcceptPendingGroupMemberships: migrated (0.0183s) =========================

==  FixUserMergeConversations: migrating ======================================
==  FixUserMergeConversations: migrated (0.0014s) =============================

==  SetBlankSisUserIdsToNull: migrating =======================================
==  SetBlankSisUserIdsToNull: migrated (0.0017s) ==============================

==  RemoveDeletedUserAccountAssociations: migrating ===========================
==  RemoveDeletedUserAccountAssociations: migrated (0.0074s) ==================

==  AddAssetContextToDelayedNotification: migrating ===========================
-- add_column(:delayed_notifications, :asset_context_type, :string)
   -> 0.0007s
-- add_column(:delayed_notifications, :asset_context_id, :integer, {:limit=>8})
   -> 0.0003s
==  AddAssetContextToDelayedNotification: migrated (0.0012s) ==================

==  EscapeAttachmentFilenamesForS3: migrating =================================
==  EscapeAttachmentFilenamesForS3: migrated (0.0114s) ========================

==  UseAssetUserAccessLastAccess: migrating ===================================
==  UseAssetUserAccessLastAccess: migrated (0.2332s) ==========================

==  RemoveUnusedNotificationPolicies: migrating ===============================
==  RemoveUnusedNotificationPolicies: migrated (0.0307s) ======================

==  RemoveUnusedNotifications: migrating ======================================
==  RemoveUnusedNotifications: migrated (0.0015s) =============================

==  ConversationMessageAttachmentIds: migrating ===============================
-- add_column(:conversation_messages, :attachment_ids, :text)
   -> 0.0006s
==  ConversationMessageAttachmentIds: migrated (0.0007s) ======================

==  ReassociateConversationAttachments: migrating =============================
==  ReassociateConversationAttachments: migrated (0.1244s) ====================

==  AddManuallySetScoreOnQuizSubmission: migrating ============================
-- add_column(:quiz_submissions, :manually_scored, :boolean)
   -> 0.0009s
==  AddManuallySetScoreOnQuizSubmission: migrated (0.0010s) ===================

==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdateAndSubmissionsUpdateAndSubmissionsInsert1: migrating 
-- drop_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", "enrollments", {:generated=>true})
   -> 0.0009s
-- drop_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", "enrollments", {:generated=>true})
   -> 0.0008s
-- drop_trigger("submissions_after_update_row_tr", "submissions", {:generated=>true})
   -> 0.0004s
-- drop_trigger("submissions_after_update_row_when_old_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0007s
-- drop_trigger("submissions_after_insert_row_tr", "submissions", {:generated=>true})
   -> 0.0004s
-- drop_trigger("submissions_after_insert_row_when_new_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0008s
-- create_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", {:generated=>true, :compatibility=>1})
   -> 0.0003s
-- create_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("submissions_after_update_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("submissions_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdateAndSubmissionsUpdateAndSubmissionsInsert1: migrated (0.0148s) 

==  AddAccountAuthorizationConfigLastFailure: migrating =======================
-- add_column(:account_authorization_configs, :last_timeout_failure, :datetime)
   -> 0.0007s
==  AddAccountAuthorizationConfigLastFailure: migrated (0.0008s) ==============

==  AddDiscussionEntryThreading: migrating ====================================
-- add_column(:discussion_entries, :root_entry_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_column(:discussion_entries, :depth, :integer)
   -> 0.0005s
-- add_index(:discussion_entries, [:root_entry_id, :workflow_state, :created_at], {:name=>"index_discussion_entries_root_entry"})
   -> 0.0026s
==  AddDiscussionEntryThreading: migrated (0.0039s) ===========================

==  SetDiscussionEntryRootIds: migrating ======================================
==  SetDiscussionEntryRootIds: migrated (0.0009s) =============================

==  FixUngradedCountsIncludeQuizEssays: migrating =============================
==  FixUngradedCountsIncludeQuizEssays: migrated (0.0393s) ====================

==  DropReallyOldUnusedColumns: migrating =====================================
==  DropReallyOldUnusedColumns: migrated (0.0184s) ============================

==  RemoveDuplicateNotificationPolicies: migrating ============================
==  RemoveDuplicateNotificationPolicies: migrated (0.1809s) ===================

==  AddMaterializedDiscussions: migrating =====================================
-- create_table(:discussion_topic_materialized_views, {:id=>false})
   -> 0.0024s
-- add_index(:discussion_topic_materialized_views, :discussion_topic_id, {:unique=>true, :name=>"index_discussion_topic_materialized_views"})
   -> 0.0021s
==  AddMaterializedDiscussions: migrated (0.0047s) ============================

==  CreateAppointmentGroupContexts: migrating =================================
-- create_table(:appointment_group_contexts)
   -> 0.0042s
==  CreateAppointmentGroupContexts: migrated (0.0043s) ========================

==  DropPageViewRanges: migrating =============================================
-- drop_table(:page_view_ranges)
   -> 0.0019s
==  DropPageViewRanges: migrated (0.0021s) ====================================

==  ExcludeDeletedEntriesFromUnreadCount: migrating ===========================
==  ExcludeDeletedEntriesFromUnreadCount: migrated (0.0963s) ==================

==  ReintroduceDeletedEntriesToUnreadCount: migrating =========================
==  ReintroduceDeletedEntriesToUnreadCount: migrated (0.0164s) ================

==  AddDiscussionTopicsThreadedFlag: migrating ================================
-- add_column(:discussion_topics, :threaded, :boolean)
   -> 0.0007s
==  AddDiscussionTopicsThreadedFlag: migrated (0.0008s) =======================

==  AddAccountIdToReportSnapshots: migrating ==================================
-- add_column(:report_snapshots, :account_id, :integer, {:limit=>8})
   -> 0.0009s
==  AddAccountIdToReportSnapshots: migrated (0.0010s) =========================

==  BreakDownDetailedReportSnapshots: migrating ===============================
==  BreakDownDetailedReportSnapshots: migrated (0.0096s) ======================

==  AddParticipantsPerAppointmentToCalendarEvents: migrating ==================
-- change_table(:calendar_events)
   -> 0.0015s
==  AddParticipantsPerAppointmentToCalendarEvents: migrated (0.0016s) =========

==  AddSourceCourseToContentMigration: migrating ==============================
-- add_column(:content_migrations, :source_course_id, :integer, {:limit=>8})
   -> 0.0007s
==  AddSourceCourseToContentMigration: migrated (0.0008s) =====================

==  AddContentMigrationToContentExport: migrating =============================
-- add_column(:content_exports, :content_migration_id, :integer, {:limit=>8})
   -> 0.0007s
==  AddContentMigrationToContentExport: migrated (0.0009s) ====================

==  AddDiscussionTopicType: migrating =========================================
-- remove_column(:discussion_topics, :threaded)
   -> 0.0007s
-- add_column(:discussion_topics, :discussion_type, :string)
   -> 0.0007s
==  AddDiscussionTopicType: migrated (0.0016s) ================================

==  AddUpdatedAtToEntryIndex: migrating =======================================
-- add_column(:discussion_topic_materialized_views, :generation_started_at, :timestamp)
   -> 0.0007s
-- add_index(:discussion_entries, [:discussion_topic_id, :updated_at, :created_at], {:name=>"index_discussion_entries_for_topic"})
   -> 0.0032s
-- remove_index(:discussion_entries, {:name=>"index_discussion_entries_on_discussion_topic_id"})
   -> 0.0025s
==  AddUpdatedAtToEntryIndex: migrated (0.0066s) ==============================

==  AddPublicDescriptionToCourses: migrating ==================================
-- add_column(:courses, :public_description, :text)
   -> 0.0007s
==  AddPublicDescriptionToCourses: migrated (0.0008s) =========================

==  AddConversationRootAccountIds: migrating ==================================
-- add_column(:conversations, :root_account_ids, :text)
   -> 0.0009s
==  AddConversationRootAccountIds: migrated (0.0010s) =========================

==  PopulateConversationRootAccountIds: migrating =============================
==  PopulateConversationRootAccountIds: migrated (0.0180s) ====================

==  AddPseudonymToStudentViewStudents: migrating ==============================
==  AddPseudonymToStudentViewStudents: migrated (0.0091s) =====================

==  FixUserMergeConversations2: migrating =====================================
==  FixUserMergeConversations2: migrated (0.0013s) ============================

==  AddAssignmentLock: migrating ==============================================
-- add_column(:assignments, :freeze_on_copy, :boolean)
   -> 0.0007s
-- add_column(:assignments, :copied, :boolean)
   -> 0.0004s
==  AddAssignmentLock: migrated (0.0013s) =====================================

==  AddAccountAuthorizationConfigLoginAttribute: migrating ====================
-- add_column(:account_authorization_configs, :login_attribute, :text)
   -> 0.0009s
==  AddAccountAuthorizationConfigLoginAttribute: migrated (0.0010s) ===========

==  DropReallyOldUnusedColumns2: migrating ====================================
==  DropReallyOldUnusedColumns2: migrated (0.0065s) ===========================

==  AddCollections: migrating =================================================
-- create_table(:collections)
   -> 0.0041s
-- add_index(:collections, [:context_id, :context_type, :workflow_state, :visibility], {:name=>"index_collections_for_finding"})
   -> 0.0020s
-- create_table(:collection_items)
   -> 0.0034s
-- add_index(:collection_items, [:collection_id, :workflow_state])
   -> 0.0017s
-- add_index(:collection_items, [:collection_item_data_id, :workflow_state], {:name=>"index_collection_items_on_data_id"})
   -> 0.0018s
-- create_table(:collection_item_datas)
   -> 0.0045s
-- create_table(:collection_item_upvotes)
   -> 0.0023s
-- add_index(:collection_item_upvotes, [:collection_item_data_id, :user_id], {:unique=>true, :name=>"index_collection_item_upvotes_join"})
   -> 0.0017s
==  AddCollections: migrated (0.0222s) ========================================

==  RemoveExtraneousConversationTags2: migrating ==============================
==  RemoveExtraneousConversationTags2: migrated (0.0021s) =====================

==  MoveMigrationNotificationsToSeparateCategory: migrating ===================
==  MoveMigrationNotificationsToSeparateCategory: migrated (0.0012s) ==========

==  MigrateAppointmentGroupContexts: migrating ================================
==  MigrateAppointmentGroupContexts: migrated (0.0220s) =======================

==  FixNeedsGradingCountTriggers: migrating ===================================
-- drop_trigger("enrollments_after_insert_row_when_new_workflow_state_active__tr", "enrollments", {:generated=>true})
   -> 0.0008s
-- drop_trigger("enrollments_after_update_row_when_new_workflow_state_old_wor_tr", "enrollments", {:generated=>true})
   -> 0.0010s
-- drop_trigger("submissions_after_insert_row_tr", "submissions", {:generated=>true})
   -> 0.0005s
-- drop_trigger("submissions_after_insert_row_when_new_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0006s
-- drop_trigger("submissions_after_update_row_tr", "submissions", {:generated=>true})
   -> 0.0003s
-- drop_trigger("submissions_after_update_row_when_old_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0005s
-- create_trigger("enrollments_after_insert_row_when_new_type_in_studentenrollm_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("enrollments_after_update_row_when_new_type_in_studentenrollm_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("submissions_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("submissions_after_update_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
==  FixNeedsGradingCountTriggers: migrated (0.0124s) ==========================

==  ResetUngradedCounts: migrating ============================================
==  ResetUngradedCounts: migrated (0.0164s) ===================================

==  AddConversationBatches: migrating =========================================
-- create_table(:conversation_batches)
   -> 0.0042s
-- add_index(:conversation_batches, [:user_id, :workflow_state])
   -> 0.0020s
==  AddConversationBatches: migrated (0.0064s) ================================

==  SwitchToIcuSortableName: migrating ========================================
-- execute("CREATE EXTENSION IF NOT EXISTS pg_collkey")
-- remove_index(:users, :sortable_name)
   -> 0.0035s
-- execute("CREATE INDEX CONCURRENTLY index_users_on_sortable_name ON users (CAST(LOWER(sortable_name) AS bytea))")
   -> 0.0014s
==  SwitchToIcuSortableName: migrated (0.0472s) ===============================

==  FixUserConversationsCountsForAll: migrating ===============================
==  FixUserConversationsCountsForAll: migrated (0.0174s) ======================

==  AddToolIdToExternalTools: migrating =======================================
-- add_column(:context_external_tools, :tool_id, :string)
   -> 0.0008s
-- add_index(:context_external_tools, [:tool_id])
   -> 0.0083s
-- add_column(:developer_keys, :tool_id, :string)
   -> 0.0008s
-- add_index(:developer_keys, [:tool_id], {:unique=>true})
   -> 0.0019s
==  AddToolIdToExternalTools: migrated (0.0121s) ==============================

==  DelayedJobsDeleteTriggerLockForUpdate: migrating ==========================
-- execute("      CREATE OR REPLACE FUNCTION delayed_jobs_after_delete_row_tr_fn () RETURNS trigger AS $$\n      BEGIN\n        UPDATE delayed_jobs SET next_in_strand = 't' WHERE id = (SELECT id FROM delayed_jobs j2 WHERE j2.strand = OLD.strand ORDER BY j2.strand, j2.id ASC LIMIT 1 FOR UPDATE);\n        RETURN OLD;\n      END;\n      $$ LANGUAGE plpgsql;\n")
   -> 0.0006s
==  DelayedJobsDeleteTriggerLockForUpdate: migrated (0.0007s) =================

==  UpdateCollectionItemImageColumns: migrating ===============================
-- add_column(:collection_item_datas, :image_pending, :boolean)
   -> 0.0007s
-- add_column(:collection_item_datas, :image_attachment_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_column(:collection_item_datas, :image_url, :text)
   -> 0.0004s
-- add_column(:collection_items, :user_id, :integer, {:limit=>8})
   -> 0.0005s
-- remove_column(:collection_items, :image_attachment_id)
   -> 0.0004s
-- remove_column(:collection_items, :image_url)
   -> 0.0004s
-- add_foreign_key(:collection_items, :users)
   -> 0.0548s
-- add_foreign_key(:collection_items, :collections)
   -> 0.0022s
==  UpdateCollectionItemImageColumns: migrated (0.0605s) ======================

==  AddBioToUser: migrating ===================================================
-- add_column(:users, :bio, :text)
   -> 0.0008s
==  AddBioToUser: migrated (0.0009s) ==========================================

==  AddIconUrlToDeveloperKeys: migrating ======================================
-- add_column(:developer_keys, :icon_url, :string)
   -> 0.0007s
==  AddIconUrlToDeveloperKeys: migrated (0.0008s) =============================

==  AddUserObservers: migrating ===============================================
-- create_table(:user_observers)
   -> 0.0037s
-- add_index(:user_observers, [:user_id, :observer_id], {:unique=>true})
   -> 0.0054s
-- add_index(:user_observers, :observer_id)
   -> 0.0024s
-- add_index(:enrollments, [:associated_user_id], {:algorithm=>:concurrently, :where=>"associated_user_id IS NOT NULL"})
   -> 0.0045s
==  AddUserObservers: migrated (0.0164s) ======================================

==  AddModeratorFlagToGroupMemberships: migrating =============================
-- add_column(:group_memberships, :moderator, :boolean)
   -> 0.0007s
==  AddModeratorFlagToGroupMemberships: migrated (0.0008s) ====================

==  AddCourseSelfEnrollmentCode: migrating ====================================
-- add_column(:courses, :self_enrollment_code, :string)
   -> 0.0011s
-- add_index(:courses, [:self_enrollment_code], {:unique=>true, :algorithm=>:concurrently, :where=>"self_enrollment_code IS NOT NULL"})
   -> 0.0044s
==  AddCourseSelfEnrollmentCode: migrated (0.0057s) ===========================

==  AddCollectionItemHtmlPreview: migrating ===================================
-- add_column(:collection_item_datas, :html_preview, :text)
   -> 0.0008s
==  AddCollectionItemHtmlPreview: migrated (0.0009s) ==========================

==  AddUniqueIndexOnThumbnails: migrating =====================================
-- add_index(:thumbnails, [:parent_id, :thumbnail], {:unique=>true, :name=>"index_thumbnails_size"})
   -> 0.0033s
==  AddUniqueIndexOnThumbnails: migrated (0.0034s) ============================

==  DropReallyOldUnusedColumns3: migrating ====================================
==  DropReallyOldUnusedColumns3: migrated (0.0036s) ===========================

==  AddPublicColumnToUser: migrating ==========================================
-- add_column(:users, :public, :boolean)
   -> 0.0009s
==  AddPublicColumnToUser: migrated (0.0011s) =================================

==  LengthenExternalFeedEntriesUrl: migrating =================================
-- change_column(:external_feed_entries, :url, :string, {:limit=>4096})
   -> 0.0051s
==  LengthenExternalFeedEntriesUrl: migrated (0.0053s) ========================

==  AddUserBirthdate: migrating ===============================================
-- add_column(:users, :birthdate, :datetime)
   -> 0.0010s
==  AddUserBirthdate: migrated (0.0011s) ======================================

==  LengthenContextExternalToolsUrl: migrating ================================
-- change_column(:context_external_tools, :url, :string, {:limit=>4096})
   -> 0.0056s
==  LengthenContextExternalToolsUrl: migrated (0.0058s) =======================

==  AddUserFollowsTable: migrating ============================================
-- create_table(:user_follows)
   -> 0.0037s
-- add_index(:user_follows, [:following_user_id, :followed_item_type, :followed_item_id], {:unique=>true, :name=>"index_user_follows_unique"})
   -> 0.0025s
-- add_index(:user_follows, [:followed_item_id, :followed_item_type], {:name=>"index_user_follows_inverse"})
   -> 0.0024s
==  AddUserFollowsTable: migrated (0.0090s) ===================================

==  AddCoursesSisSourceIdIndex: migrating =====================================
-- add_index(:courses, :sis_source_id, {:algorithm=>:concurrently})
   -> 0.0052s
==  AddCoursesSisSourceIdIndex: migrated (0.0053s) ============================

==  DropCollectionItemUserFk: migrating =======================================
-- remove_foreign_key(:collection_items, :users)
   -> 0.0016s
==  DropCollectionItemUserFk: migrated (0.0017s) ==============================

==  AddDescriptionToGroups: migrating =========================================
-- add_column(:groups, :description, :text)
   -> 0.0007s
==  AddDescriptionToGroups: migrated (0.0008s) ================================

==  DropPsqlJobsPopFn: migrating ==============================================
==  DropPsqlJobsPopFn: migrated (0.0003s) =====================================

==  UpdateCollectionItemColumns: migrating ====================================
-- rename_column(:collection_items, :description, :user_comment)
   -> 0.0007s
-- add_column(:collection_item_datas, :title, :string)
   -> 0.0007s
-- add_column(:collection_item_datas, :description, :text)
   -> 0.0005s
==  UpdateCollectionItemColumns: migrated (0.0021s) ===========================

==  AddAvatarImageToGroups: migrating =========================================
-- add_column(:groups, :avatar_attachment_id, :integer, {:limit=>8})
   -> 0.0008s
==  AddAvatarImageToGroups: migrated (0.0009s) ================================

==  DropTriggersForCollections: migrating =====================================
-- drop_trigger("collection_items_after_insert_row_tr", "collection_items", {:generated=>true})
   -> 0.0008s
-- drop_trigger("collection_items_after_insert_row_when_new_workflow_state_ac_tr", "collection_items", {:generated=>true})
   -> 0.0005s
-- drop_trigger("collection_items_after_update_row_tr", "collection_items", {:generated=>true})
   -> 0.0003s
-- drop_trigger("collection_items_after_update_row_when_new_workflow_state_ol_tr", "collection_items", {:generated=>true})
   -> 0.0003s
-- drop_trigger("collection_items_after_delete_row_tr", "collection_items", {:generated=>true})
   -> 0.0003s
-- drop_trigger("collection_items_after_delete_row_when_old_workflow_state_ac_tr", "collection_items", {:generated=>true})
   -> 0.0003s
-- drop_trigger("collection_item_upvotes_after_insert_row_tr", "collection_item_upvotes", {:generated=>true})
   -> 0.0003s
-- drop_trigger("collection_item_upvotes_after_delete_row_tr", "collection_item_upvotes", {:generated=>true})
   -> 0.0004s
==  DropTriggersForCollections: migrated (0.0037s) ============================

==  MoveContentExportNotificationsToMigrationCategory: migrating ==============
==  MoveContentExportNotificationsToMigrationCategory: migrated (0.0092s) =====

==  RemoveUnusedGroupsColumns: migrating ======================================
-- remove_column(:groups, :type)
   -> 0.0010s
-- remove_column(:groups, :groupable_id)
   -> 0.0004s
-- remove_column(:groups, :groupable_type)
   -> 0.0004s
==  RemoveUnusedGroupsColumns: migrated (0.0020s) =============================

==  DelayedJobsUseAdvisoryLocks: migrating ====================================
-- execute("      CREATE FUNCTION half_md5_as_bigint(strand varchar) RETURNS bigint AS $$\n      DECLARE\n        strand_md5 bytea;\n      BEGIN\n        strand_md5 := decode(md5(strand), 'hex');\n        RETURN (CAST(get_byte(strand_md5, 0) AS bigint) << 56) +\n                                  (CAST(get_byte(strand_md5, 1) AS bigint) << 48) +\n                                  (CAST(get_byte(strand_md5, 2) AS bigint) << 40) +\n                                  (CAST(get_byte(strand_md5, 3) AS bigint) << 32) +\n                                  (CAST(get_byte(strand_md5, 4) AS bigint) << 24) +\n                                  (get_byte(strand_md5, 5) << 16) +\n                                  (get_byte(strand_md5, 6) << 8) +\n                                   get_byte(strand_md5, 7);\n      END;\n      $$ LANGUAGE plpgsql;\n")
   -> 0.0054s
-- execute("      CREATE OR REPLACE FUNCTION delayed_jobs_before_insert_row_tr_fn () RETURNS trigger AS $$\n      BEGIN\n        PERFORM pg_advisory_xact_lock(half_md5_as_bigint(NEW.strand));\n        IF (SELECT 1 FROM delayed_jobs WHERE strand = NEW.strand LIMIT 1) = 1 THEN\n          NEW.next_in_strand := 'f';\n        END IF;\n        RETURN NEW;\n      END;\n      $$ LANGUAGE plpgsql;\n")
   -> 0.0006s
-- execute("      CREATE OR REPLACE FUNCTION delayed_jobs_after_delete_row_tr_fn () RETURNS trigger AS $$\n      BEGIN\n        PERFORM pg_advisory_xact_lock(half_md5_as_bigint(OLD.strand));\n        UPDATE delayed_jobs SET next_in_strand = 't' WHERE id = (SELECT id FROM delayed_jobs j2 WHERE j2.strand = OLD.strand ORDER BY j2.strand, j2.id ASC LIMIT 1 FOR UPDATE);\n        RETURN OLD;\n      END;\n      $$ LANGUAGE plpgsql;\n")
   -> 0.0004s
==  DelayedJobsUseAdvisoryLocks: migrated (0.0067s) ===========================

==  IndexJobsOnLockedBy: migrating ============================================
-- add_index(:delayed_jobs, :locked_by, {:algorithm=>:concurrently, :where=>"locked_by IS NOT NULL"})
   -> 0.0040s
==  IndexJobsOnLockedBy: migrated (0.0041s) ===================================

==  AddAggregateCountsToCollections: migrating ================================
-- add_column(:collections, :followers_count, :integer, {:default=>0})
   -> 0.0013s
-- add_column(:collections, :items_count, :integer, {:default=>0})
   -> 0.0013s
==  AddAggregateCountsToCollections: migrated (0.0027s) =======================

==  CreateCollectionItemsCountAndFollowersCountTriggers: migrating ============
-- create_trigger("collection_items_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("collection_items_after_update_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("collection_items_after_delete_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("user_follows_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("user_follows_after_delete_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
==  CreateCollectionItemsCountAndFollowersCountTriggers: migrated (0.0096s) ===

==  CountExistingCollectionItemsAndFollowers: migrating =======================
==  CountExistingCollectionItemsAndFollowers: migrated (0.1467s) ==============

==  AddJobsRunAtIndex: migrating ==============================================
-- add_index(:delayed_jobs, ["run_at", "tag"], {:algorithm=>:concurrently})
   -> 0.0041s
==  AddJobsRunAtIndex: migrated (0.0043s) =====================================

==  DropSisBatchLogEntries: migrating =========================================
-- drop_table(:sis_batch_log_entries)
   -> 0.0019s
==  DropSisBatchLogEntries: migrated (0.0020s) ================================

==  DropSectionOrganizationNameAndLongSectionCodeFromCourseSections: migrating 
-- remove_column(:course_sections, :section_organization_name)
   -> 0.0006s
-- remove_column(:course_sections, :long_section_code)
   -> 0.0003s
==  DropSectionOrganizationNameAndLongSectionCodeFromCourseSections: migrated (0.0011s) 

==  RemoveDuplicateGroupDiscussions: migrating ================================
==  RemoveDuplicateGroupDiscussions: migrated (0.0328s) =======================

==  AddUniqueIndexToDiscussionTopics: migrating ===============================
-- add_index(:discussion_topics, [:context_id, :context_type, :root_topic_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_discussion_topics_unique_subtopic_per_context"})
   -> 0.0051s
-- remove_index(:discussion_topics, {:name=>"index_discussion_topics_on_context_id_and_context_type"})
   -> 0.0044s
==  AddUniqueIndexToDiscussionTopics: migrated (0.0097s) ======================

==  AddSisBatchesIndex: migrating =============================================
-- remove_index(:sis_batches, {:name=>"index_sis_batches_for_accounts"})
   -> 0.0017s
-- add_index(:sis_batches, [:account_id, :created_at], {:algorithm=>:concurrently, :where=>"workflow_state='created'", :name=>"index_sis_batches_pending_for_accounts"})
   -> 0.0027s
-- add_index(:sis_batches, [:account_id, :created_at], {:algorithm=>:concurrently, :name=>"index_sis_batches_account_id_created_at"})
   -> 0.0028s
==  AddSisBatchesIndex: migrated (0.0075s) ====================================

==  MigrateToLimitPrivilegesToCourseSection: migrating ========================
==  MigrateToLimitPrivilegesToCourseSection: migrated (0.0025s) ===============

==  DropLimitPrivelegesToCourseSectionFromEnrollments: migrating ==============
-- remove_column(:enrollments, :limit_priveleges_to_course_section)
   -> 0.0009s
==  DropLimitPrivelegesToCourseSectionFromEnrollments: migrated (0.0011s) =====

==  FixDefaultLimitPrivilegesToCourseSection: migrating =======================
==  FixDefaultLimitPrivilegesToCourseSection: migrated (0.0024s) ==============

==  AddBasicIndicesToGroupCategories: migrating ===============================
-- add_index(:group_categories, [:context_id, :context_type], {:name=>"index_group_categories_on_context"})
   -> 0.0026s
-- add_index(:group_categories, :role, {:name=>"index_group_categories_on_role"})
   -> 0.0021s
==  AddBasicIndicesToGroupCategories: migrated (0.0048s) ======================

==  ConstrainAssignmentGroupCategoryIds: migrating ============================
-- add_foreign_key(:assignments, :group_categories)
   -> 0.0029s
==  ConstrainAssignmentGroupCategoryIds: migrated (0.0045s) ===================

==  AddConversationMessageProperties: migrating ===============================
-- add_column(:conversation_messages, :has_attachments, :boolean)
   -> 0.0007s
-- add_column(:conversation_messages, :has_media_objects, :boolean)
   -> 0.0005s
==  AddConversationMessageProperties: migrated (0.0015s) ======================

==  AddHomeworkSubmissionForExternalTools: migrating ==========================
-- add_column(:context_external_tools, :has_homework_submission, :boolean)
   -> 0.0010s
==  AddHomeworkSubmissionForExternalTools: migrated (0.0011s) =================

==  AddDefaultUserStorageQuota: migrating =====================================
-- add_column(:accounts, :default_user_storage_quota, :bigint)
   -> 0.0008s
==  AddDefaultUserStorageQuota: migrated (0.0009s) ============================

==  PopulateConversationMessageProperties: migrating ==========================
==  PopulateConversationMessageProperties: migrated (0.0140s) =================

==  AddUniqueIndexOnFavorites: migrating ======================================
-- add_index(:favorites, [:user_id, :context_id, :context_type], {:unique=>true, :name=>"index_favorites_unique_user_object"})
   -> 0.0022s
==  AddUniqueIndexOnFavorites: migrated (0.1496s) =============================

==  AddAttachmentIndexesForSorting: migrating =================================
-- execute("CREATE INDEX CONCURRENTLY index_attachments_on_folder_id_and_file_state_and_display_name ON attachments (folder_id, file_state, CAST(LOWER(replace(display_name, '\\', '\\\\')) AS bytea)) WHERE folder_id IS NOT NULL")
   -> 0.0014s
-- add_index(:attachments, [:folder_id, :file_state, :position], {:algorithm=>:concurrently})
   -> 0.0050s
-- remove_index(:attachments, :folder_id)
   -> 0.0043s
==  AddAttachmentIndexesForSorting: migrated (0.0117s) ========================

==  UpdateSortableNameIndex: migrating ========================================
-- remove_index(:users, :sortable_name)
   -> 0.0029s
-- execute("CREATE INDEX CONCURRENTLY index_users_on_sortable_name ON users (CAST(LOWER(replace(sortable_name, '\\', '\\\\')) AS bytea))")
   -> 0.0015s
==  UpdateSortableNameIndex: migrated (0.0054s) ===============================

==  DropUserBio: migrating ====================================================
-- remove_column(:users, :bio)
   -> 0.0009s
==  DropUserBio: migrated (0.0010s) ===========================================

==  CreateUserProfilesTable: migrating ========================================
-- create_table(:user_profiles)
   -> 0.0033s
==  CreateUserProfilesTable: migrated (0.0034s) ===============================

==  AddVisibilityToUserServices: migrating ====================================
-- add_column(:user_services, :visible, :boolean)
   -> 0.0009s
==  AddVisibilityToUserServices: migrated (0.0010s) ===========================

==  AddFileNotifications: migrating ===========================================
==  AddFileNotifications: migrated (0.3922s) ==================================

==  AddNeedNotifyColumnToAttachments: migrating ===============================
-- add_column(:attachments, :need_notify, :boolean)
   -> 0.0010s
==  AddNeedNotifyColumnToAttachments: migrated (0.0012s) ======================

==  IndexCourseSectionsNonxlistCourse: migrating ==============================
-- add_index(:course_sections, [:nonxlist_course_id], {:name=>"index_course_sections_on_nonxlist_course", :algorithm=>:concurrently, :where=>"nonxlist_course_id IS NOT NULL"})
   -> 0.0038s
==  IndexCourseSectionsNonxlistCourse: migrated (0.0040s) =====================

==  CreateUserProfileLinksTable: migrating ====================================
-- create_table(:user_profile_links)
   -> 0.0041s
==  CreateUserProfileLinksTable: migrated (0.0042s) ===========================

==  RemoveContextModuleAssociationIdFromContentTags: migrating ================
-- remove_column(:content_tags, :context_module_association_id)
   -> 0.0007s
==  RemoveContextModuleAssociationIdFromContentTags: migrated (0.0008s) =======

==  UniquifyWikis: migrating ==================================================
==  UniquifyWikis: migrated (0.0009s) =========================================

==  DropWikiNamespaces: migrating =============================================
-- drop_table(:wiki_namespaces)
   -> 0.0048s
==  DropWikiNamespaces: migrated (0.0049s) ====================================

==  FixNeedNotifyIndexCondition: migrating ====================================
-- execute("DROP INDEX IF EXISTS index_attachments_on_need_notify")
   -> 0.0007s
-- add_index(:attachments, :need_notify, {:algorithm=>:concurrently, :where=>"need_notify"})
   -> 0.0054s
==  FixNeedNotifyIndexCondition: migrated (0.0063s) ===========================

==  AddUniqueIndexOnNotifications: migrating ==================================
-- add_index(:notifications, [:name], {:unique=>true, :name=>"index_notifications_unique_on_name"})
   -> 0.0019s
==  AddUniqueIndexOnNotifications: migrated (0.0031s) =========================

==  AddOtpToUsers: migrating ==================================================
-- add_column(:users, :otp_secret_key_enc, :string)
   -> 0.0007s
-- add_column(:users, :otp_secret_key_salt, :string)
   -> 0.0004s
-- add_column(:users, :otp_communication_channel_id, :integer, {:limit=>8})
   -> 0.0004s
==  AddOtpToUsers: migrated (0.0018s) =========================================

==  AddCrocodoc: migrating ====================================================
-- create_table(:crocodoc_documents)
   -> 0.0039s
-- add_index(:crocodoc_documents, :uuid)
   -> 0.0020s
-- add_index(:crocodoc_documents, :attachment_id)
   -> 0.0020s
-- add_index(:crocodoc_documents, :process_state)
   -> 0.0021s
==  AddCrocodoc: migrated (0.0103s) ===========================================

==  AddInitialEnrollmentType: migrating =======================================
-- add_column(:users, :initial_enrollment_type, :string)
   -> 0.0012s
==  AddInitialEnrollmentType: migrated (0.0014s) ==============================

==  AddUploadErrorCodeToAttachments: migrating ================================
-- add_column(:attachments, :upload_error_message, :string)
   -> 0.0008s
==  AddUploadErrorCodeToAttachments: migrated (0.0009s) =======================

==  ChangeAuthOverTlsToString: migrating ======================================
-- change_column(:account_authorization_configs, :auth_over_tls, :string)
   -> 0.0043s
==  ChangeAuthOverTlsToString: migrated (0.0044s) =============================

==  FixProfilePictures: migrating =============================================
==  FixProfilePictures: migrated (0.0334s) ====================================

==  AddOutcomeStandardsColumns: migrating =====================================
-- add_column(:learning_outcomes, :vendor_guid, :string)
   -> 0.0008s
-- add_column(:learning_outcomes, :low_grade, :string)
   -> 0.0004s
-- add_column(:learning_outcomes, :high_grade, :string)
   -> 0.0004s
-- add_index(:learning_outcomes, :vendor_guid, {:name=>"index_learning_outcomes_on_vendor_guid"})
   -> 0.0022s
-- add_column(:learning_outcome_groups, :vendor_guid, :string)
   -> 0.0005s
-- add_column(:learning_outcome_groups, :low_grade, :string)
   -> 0.0004s
-- add_column(:learning_outcome_groups, :high_grade, :string)
   -> 0.0004s
-- add_index(:learning_outcome_groups, :vendor_guid, {:name=>"index_learning_outcome_groups_on_vendor_guid"})
   -> 0.0018s
==  AddOutcomeStandardsColumns: migrated (0.0075s) ============================

==  AddCrocodocIdToUsers: migrating ===========================================
-- add_column(:users, :crocodoc_id, :int)
   -> 0.0007s
==  AddCrocodocIdToUsers: migrated (0.0077s) ==================================

==  LengthenOauthReturnUrl: migrating =========================================
-- change_column(:oauth_requests, :return_url, :string, {:limit=>4096})
   -> 0.0042s
==  LengthenOauthReturnUrl: migrated (0.0044s) ================================

==  RemoveBogusEnrollmentAssociatedUserIds: migrating =========================
==  RemoveBogusEnrollmentAssociatedUserIds: migrated (0.0060s) ================

==  DropHashtags: migrating ===================================================
-- drop_table(:short_message_associations)
   -> 0.0020s
-- drop_table(:short_messages)
   -> 0.0018s
-- drop_table(:hashtags)
   -> 0.0016s
-- remove_column(:courses, :hashtag)
   -> 0.0005s
==  DropHashtags: migrated (0.0063s) ==========================================

==  AddSamlProperties: migrating ==============================================
-- add_column(:account_authorization_configs, :idp_entity_id, :string)
   -> 0.0009s
-- add_column(:account_authorization_configs, :position, :integer)
   -> 0.0007s
-- execute("        UPDATE account_authorization_configs aac\n        SET position =\n          CASE WHEN (SELECT count(*) FROM account_authorization_configs WHERE account_id = aac.account_id) > 1\n            THEN aac.id\n            ELSE 1\n          END;\n")
   -> 0.0007s
==  AddSamlProperties: migrated (0.0025s) =====================================

==  CreateContentParticipationCounts: migrating ===============================
-- create_table("content_participation_counts")
   -> 0.0049s
-- add_index("content_participation_counts", ["context_id", "context_type", "user_id", "content_type"], {:name=>"index_content_participation_counts_uniquely", :unique=>true})
   -> 0.0023s
==  CreateContentParticipationCounts: migrated (0.0074s) ======================

==  CreateMediaTracks: migrating ==============================================
-- create_table(:media_tracks)
   -> 0.0039s
-- add_index(:media_tracks, [:media_object_id, :locale], {:name=>"media_object_id_locale"})
   -> 0.0022s
==  CreateMediaTracks: migrated (0.0063s) =====================================

==  CreateContentParticipations: migrating ====================================
-- create_table("content_participations")
   -> 0.0036s
-- add_index("content_participations", ["content_id", "content_type", "user_id"], {:name=>"index_content_participations_uniquely", :unique=>true})
   -> 0.0018s
==  CreateContentParticipations: migrated (0.0055s) ===========================

==  LengthenProfileLinksUrl: migrating ========================================
-- change_column(:user_profile_links, :url, :string, {:limit=>4096})
   -> 0.0029s
==  LengthenProfileLinksUrl: migrated (0.0030s) ===============================

==  ChangeDelayedJobsHandlerToText: migrating =================================
-- change_column(:delayed_jobs, :handler, :text)
   -> 0.0008s
==  ChangeDelayedJobsHandlerToText: migrated (0.0009s) ========================

==  AssignmentOverrideMigration: migrating ====================================
-- create_table(:assignment_overrides)
   -> 0.0056s
-- add_index(:assignment_overrides, [:assignment_id, :set_type, :set_id], {:name=>"index_assignment_overrides_on_assignment_and_set", :unique=>true, :where=>"workflow_state='active' and set_id is not null"})
   -> 0.0025s
-- add_foreign_key(:assignment_overrides, :assignments)
   -> 0.0028s
-- create_table(:assignment_override_students)
   -> 0.0031s
-- add_index(:assignment_override_students, [:assignment_id, :user_id], {:unique=>true})
   -> 0.0018s
-- add_index(:assignment_override_students, :assignment_override_id)
   -> 0.0022s
-- add_foreign_key(:assignment_override_students, :assignments)
   -> 0.0024s
-- add_foreign_key(:assignment_override_students, :assignment_overrides)
   -> 0.0019s
-- add_foreign_key(:assignment_override_students, :users)
   -> 0.0023s
==  AssignmentOverrideMigration: migrated (0.0254s) ===========================

==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdateAndSubmissionsInsertAndSubmissionsUpdate1: migrating 
-- drop_trigger("enrollments_after_insert_row_when_new_type_in_studentenrollm_tr", "enrollments", {:generated=>true})
   -> 0.0009s
-- drop_trigger("enrollments_after_update_row_when_new_type_in_studentenrollm_tr", "enrollments", {:generated=>true})
   -> 0.0007s
-- drop_trigger("submissions_after_insert_row_tr", "submissions", {:generated=>true})
   -> 0.0004s
-- drop_trigger("submissions_after_insert_row_when_new_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0007s
-- drop_trigger("submissions_after_update_row_tr", "submissions", {:generated=>true})
   -> 0.0003s
-- drop_trigger("submissions_after_update_row_when_new_submission_type_is_not_tr", "submissions", {:generated=>true})
   -> 0.0006s
-- create_trigger("enrollments_after_insert_row_when_new_type_in_studentenrollm_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("enrollments_after_update_row_when_new_type_in_studentenrollm_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("submissions_after_insert_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
-- create_trigger("submissions_after_update_row_tr", {:generated=>true, :compatibility=>1})
   -> 0.0002s
==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdateAndSubmissionsInsertAndSubmissionsUpdate1: migrated (0.0138s) 

==  FixBulkMessageAttachments: migrating ======================================
==  FixBulkMessageAttachments: migrated (0.2182s) =============================

==  AssignmentOverrideIndexesMigration: migrating =============================
-- add_index(:assignment_overrides, [:set_type, :set_id])
   -> 0.0027s
-- add_index(:assignment_override_students, :user_id)
   -> 0.0025s
==  AssignmentOverrideIndexesMigration: migrated (0.0054s) ====================

==  AddAccessTokenCryptedToken: migrating =====================================
-- add_column(:access_tokens, :crypted_token, :string)
   -> 0.0007s
-- add_column(:access_tokens, :token_hint, :string)
   -> 0.0005s
-- add_index(:access_tokens, [:crypted_token], {:unique=>true})
   -> 0.0023s
==  AddAccessTokenCryptedToken: migrated (0.0037s) ============================

==  HashAccessTokens: migrating ===============================================
==  HashAccessTokens: migrated (0.0085s) ======================================

==  AddWorkflowStateToStreamItemInstances: migrating ==========================
-- add_column(:stream_item_instances, :workflow_state, :string)
   -> 0.0017s
==  AddWorkflowStateToStreamItemInstances: migrated (0.0018s) =================

==  RemoveAssignmentReminders: migrating ======================================
-- drop_table(:assignment_reminders)
   -> 0.0018s
-- remove_column(:assignments, :reminders_created_for_due_at)
   -> 0.0006s
-- remove_column(:assignments, :publishing_reminder_sent)
   -> 0.0013s
==  RemoveAssignmentReminders: migrated (0.0039s) =============================

==  AddAssignmentDueDateOverrideNotifications: migrating ======================
==  AddAssignmentDueDateOverrideNotifications: migrated (0.0039s) =============

==  FixRootOutcomeGroupTitles: migrating ======================================
==  FixRootOutcomeGroupTitles: migrated (0.0047s) =============================

==  AddOneQuestionAtATimeToQuiz: migrating ====================================
-- add_column(:quizzes, :one_question_at_a_time, :boolean)
   -> 0.0012s
==  AddOneQuestionAtATimeToQuiz: migrated (0.0014s) ===========================

==  AddCantGoBackToQuiz: migrating ============================================
-- add_column(:quizzes, :cant_go_back, :boolean)
   -> 0.0007s
==  AddCantGoBackToQuiz: migrated (0.0009s) ===================================

==  AddActualAssociationColumnsToStreamItems: migrating =======================
-- add_column(:stream_items, :context_type, :string)
   -> 0.0013s
-- add_column(:stream_items, :context_id, :integer, {:limit=>8})
   -> 0.0007s
-- add_column(:stream_items, :asset_type, :string)
   -> 0.0005s
-- add_column(:stream_items, :asset_id, :integer, {:limit=>8})
   -> 0.0004s
-- add_column(:stream_item_instances, :context_type, :string)
   -> 0.0005s
-- add_column(:stream_item_instances, :context_id, :integer, {:limit=>8})
   -> 0.0007s
-- add_index(:stream_items, [:asset_type, :asset_id], {:unique=>true, :algorithm=>:concurrently})
   -> 0.0029s
-- add_index(:stream_item_instances, [:context_type, :context_id], {:algorithm=>:concurrently})
   -> 0.0034s
==  AddActualAssociationColumnsToStreamItems: migrated (0.0111s) ==============

==  PopulateStreamItemAssociations: migrating =================================
==  PopulateStreamItemAssociations: migrated (0.2163s) ========================

==  AddHttpMethodToPageViews: migrating =======================================
-- add_column(:page_views, :http_method, :string)
   -> 0.0008s
==  AddHttpMethodToPageViews: migrated (0.0009s) ==============================

==  DropStreamItemAssetStringColumns: migrating ===============================
-- remove_columns(:stream_items, :context_code, :item_asset_string)
   -> 0.0013s
-- remove_column(:stream_item_instances, :context_code)
   -> 0.0007s
==  DropStreamItemAssetStringColumns: migrated (0.0022s) ======================

==  CreateRoles: migrating ====================================================
-- add_column(:enrollments, :role_name, :string)
   -> 0.0010s
-- create_table(:roles)
   -> 0.0039s
-- add_foreign_key(:roles, :accounts)
   -> 0.0025s
-- add_index(:roles, [:name], {:name=>"index_roles_on_name"})
   -> 0.0020s
-- add_index(:roles, [:account_id], {:name=>"index_roles_on_account_id"})
   -> 0.0019s
==  CreateRoles: migrated (0.0117s) ===========================================

==  DropAccessTokensPlaintextToken: migrating =================================
-- remove_column(:access_tokens, :token)
   -> 0.0007s
==  DropAccessTokensPlaintextToken: migrated (0.0008s) ========================

==  AddRoleRootAccountId: migrating ===========================================
-- add_column(:roles, :root_account_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_index(:roles, [:root_account_id], {:name=>"index_roles_on_root_account_id"})
   -> 0.0021s
==  AddRoleRootAccountId: migrated (0.0029s) ==================================

==  GrandfatherDefaultAccountInvitationPreviews: migrating ====================
==  GrandfatherDefaultAccountInvitationPreviews: migrated (0.2285s) ===========

==  MoveAccountMembershipTypes: migrating =====================================
==  MoveAccountMembershipTypes: migrated (0.0210s) ============================

==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdate2: migrating ===========
-- drop_trigger("enrollments_after_insert_row_when_new_type_in_studentenrollm_tr", "enrollments", {:generated=>true})
   -> 0.0008s
-- drop_trigger("enrollments_after_update_row_when_new_type_in_studentenrollm_tr", "enrollments", {:generated=>true})
   -> 0.0005s
-- create_trigger("enrollments_after_insert_row_when_new_type_in_studentenrollm_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
-- create_trigger("enrollments_after_update_row_when_new_type_in_studentenrollm_tr", {:generated=>true, :compatibility=>1})
   -> 0.0001s
==  CreateTriggersEnrollmentsInsertAndEnrollmentsUpdate2: migrated (0.0052s) ==

==  AddUniqueIndexOnRoleName: migrating =======================================
-- add_index(:roles, [:account_id, :name], {:unique=>true, :name=>"index_roles_unique_account_name"})
   -> 0.0025s
==  AddUniqueIndexOnRoleName: migrated (0.0121s) ==============================

==  AddLateColumnToSubmissions: migrating =====================================
-- add_column(:submissions, :late, :boolean)
   -> 0.0007s
==  AddLateColumnToSubmissions: migrated (0.0008s) ============================

==  AddAppliesToToRoleOverrides: migrating ====================================
-- add_column(:role_overrides, :applies_to_self, :boolean, {:default=>true, :null=>false})
   -> 0.0015s
-- add_column(:role_overrides, :applies_to_descendants, :boolean, {:default=>true, :null=>false})
   -> 0.0011s
==  AddAppliesToToRoleOverrides: migrated (0.0028s) ===========================

==  AddQuizIdToAssignmentOverrides: migrating =================================
-- add_column(:assignment_overrides, :quiz_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_column(:assignment_overrides, :quiz_version, :integer)
   -> 0.0005s
-- add_index(:assignment_overrides, :quiz_id)
   -> 0.0021s
-- change_column(:assignment_overrides, :assignment_id, :integer, {:limit=>8, :null=>true})
   -> 0.0039s
-- change_column(:assignment_overrides, :assignment_version, :integer, {:null=>true})
   -> 0.0008s
==  AddQuizIdToAssignmentOverrides: migrated (0.0083s) ========================

==  AddQuizIdToAssignmentOverrideStudents: migrating ==========================
-- add_column(:assignment_override_students, :quiz_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_index(:assignment_override_students, :quiz_id)
   -> 0.0023s
-- change_column(:assignment_override_students, :assignment_id, :integer, {:limit=>8, :null=>true})
   -> 0.0032s
==  AddQuizIdToAssignmentOverrideStudents: migrated (0.0063s) =================

==  AddSelfEnrollmentLimit: migrating =========================================
-- add_column(:courses, :self_enrollment_limit, :integer)
   -> 0.0009s
==  AddSelfEnrollmentLimit: migrated (0.0010s) ================================

==  AddGroupIdToCollaborators: migrating ======================================
-- add_column(:collaborators, :group_id, :integer, {:limit=>8})
   -> 0.0006s
-- add_index(:collaborators, [:group_id], {:name=>"index_collaborators_on_group_id"})
   -> 0.0020s
==  AddGroupIdToCollaborators: migrated (0.0027s) =============================

==  AddGistIndexForUserSearch: migrating ======================================
-- execute("create extension if not exists pg_trgm;")
   -> 0.0320s
-- execute("create index CONCURRENTLY index_trgm_users_name on users USING gist(lower(name) gist_trgm_ops);")
   -> 0.0028s
-- execute("create index CONCURRENTLY index_trgm_pseudonyms_sis_user_id on pseudonyms USING gist(lower(sis_user_id) gist_trgm_ops);")
   -> 0.0011s
-- execute("create index CONCURRENTLY index_trgm_communication_channels_path on communication_channels USING gist(lower(path) gist_trgm_ops);")
   -> 0.0011s
==  AddGistIndexForUserSearch: migrated (0.2058s) =============================

==  AddUserIdToConversationMessageParticipants: migrating =====================
-- add_column(:conversation_message_participants, :user_id, :integer, {:limit=>8})
   -> 0.0010s
-- add_index(:conversation_message_participants, [:user_id, :conversation_message_id], {:name=>"index_conversation_message_participants_on_uid_and_message_id", :unique=>true, :algorithm=>:concurrently})
   -> 0.0029s
==  AddUserIdToConversationMessageParticipants: migrated (0.0041s) ============

==  GrandfatherDefaultAccountSelfRegistration: migrating ======================
==  GrandfatherDefaultAccountSelfRegistration: migrated (0.0002s) =============

==  PopulateConversationMessageParticipantUserIds: migrating ==================
==  PopulateConversationMessageParticipantUserIds: migrated (0.0107s) =========

==  AddRootAccountIdsToConversationParticipant: migrating =====================
-- add_column(:conversation_participants, :root_account_ids, :text)
   -> 0.0006s
==  AddRootAccountIdsToConversationParticipant: migrated (0.0007s) ============

==  PopulateConversationParticipantRootAccountIds: migrating ==================
==  PopulateConversationParticipantRootAccountIds: migrated (0.0058s) =========

==  CreateProgresses: migrating ===============================================
-- create_table(:progresses)
   -> 0.0039s
-- add_index(:progresses, [:context_id, :context_type], {:name=>"index_progresses_on_context_id_and_context_type"})
   -> 0.0020s
-- add_index(:progresses, [:user_id], {:name=>"index_progresses_on_user_id"})
   -> 0.0018s
==  CreateProgresses: migrated (0.0079s) ======================================

==  AddProfiles: migrating ====================================================
-- create_table(:profiles)
   -> 0.0043s
-- add_foreign_key(:profiles, :accounts, {:column=>"root_account_id"})
   -> 0.0018s
-- add_index(:profiles, [:root_account_id, :path], {:unique=>true})
   -> 0.0018s
-- add_index(:profiles, [:context_type, :context_id], {:unique=>true})
   -> 0.0021s
==  AddProfiles: migrated (0.0103s) ===========================================

==  MakeConversationParticipantsIndexUnique: migrating ========================
-- add_index(:conversation_participants, [:conversation_id, :user_id], {:unique=>true, :algorithm=>:concurrently})
   -> 0.0032s
-- remove_index(:conversation_participants, [:conversation_id])
   -> 0.0027s
==  MakeConversationParticipantsIndexUnique: migrated (0.0062s) ===============

==  AddPrivateHashToConversationParticipants: migrating =======================
-- add_column(:conversation_participants, :private_hash, :string)
   -> 0.0010s
-- add_index(:conversation_participants, [:private_hash, :user_id], {:where=>"private_hash IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0034s
==  AddPrivateHashToConversationParticipants: migrated (0.0047s) ==============

==  PopulateConversationParticipantPrivateHash: migrating =====================
==  PopulateConversationParticipantPrivateHash: migrated (0.0058s) ============

==  RemoveMultipleRootFolders: migrating ======================================
-- add_index(:folders, [:context_id, :context_type], {:unique=>true, :name=>"index_folders_on_context_id_and_context_type_for_root_folders", :algorithm=>:concurrently, :where=>"parent_folder_id IS NULL AND workflow_state<>'deleted'"})
   -> 0.0036s
==  RemoveMultipleRootFolders: migrated (0.0092s) =============================

==  DropAllowStudentAssignmentEditsFromCourses: migrating =====================
-- remove_column(:courses, :allow_student_assignment_edits)
   -> 0.0012s
==  DropAllowStudentAssignmentEditsFromCourses: migrated (0.0013s) ============

==  CleanUpUserAccountAssociations: migrating =================================
-- add_index(:user_account_associations, [:user_id, :account_id], {:unique=>true, :algorithm=>:concurrently})
   -> 0.0030s
-- remove_index(:user_account_associations, :user_id)
   -> 0.0028s
==  CleanUpUserAccountAssociations: migrated (0.0089s) ========================

==  AddIndexOnConversationMessagesAuthorId: migrating =========================
-- add_index(:conversation_messages, :author_id, {:algorithm=>:concurrently})
   -> 0.0037s
==  AddIndexOnConversationMessagesAuthorId: migrated (0.0038s) ================

==  DropContextMessages: migrating ============================================
-- remove_column(:conversation_messages, :context_message_id)
   -> 0.0006s
-- drop_table(:context_messages)
   -> 0.0020s
==  DropContextMessages: migrated (0.0029s) ===================================

==  DropAccountIdFromCourseSections: migrating ================================
-- remove_column(:course_sections, :account_id)
   -> 0.0016s
==  DropAccountIdFromCourseSections: migrated (0.0017s) =======================

==  AddUniqueIndexOnCourseAccountAssociations: migrating ======================
-- add_index(:course_account_associations, [:course_id, :course_section_id, :account_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_caa_on_course_id_and_section_id_and_account_id"})
   -> 0.0036s
-- remove_index(:course_account_associations, :course_id)
   -> 0.0031s
==  AddUniqueIndexOnCourseAccountAssociations: migrated (0.0151s) =============

==  RecalculateCourseAccountAssociations: migrating ===========================
==  RecalculateCourseAccountAssociations: migrated (0.0058s) ==================

==  AddIgnores: migrating =====================================================
-- create_table(:ignores)
   -> 0.0052s
-- add_index(:ignores, [:asset_id, :asset_type, :user_id, :purpose], {:unique=>true, :name=>"index_ignores_on_asset_and_user_id_and_purpose"})
   -> 0.0028s
-- add_foreign_key(:ignores, :users)
   -> 0.0027s
==  AddIgnores: migrated (0.0110s) ============================================

==  PreMigrateIgnores: migrating ==============================================
==  PreMigrateIgnores: migrated (0.0050s) =====================================

==  PostMigrateIgnores: migrating =============================================
==  PostMigrateIgnores: migrated (0.0018s) ====================================

==  AddManageRubricsPermission: migrating =====================================
==  AddManageRubricsPermission: migrated (0.0050s) ============================

==  DropBodyAndSmsBodyColumns: migrating ======================================
-- remove_column(:notifications, :body)
   -> 0.0006s
-- remove_column(:notifications, :sms_body)
   -> 0.0005s
==  DropBodyAndSmsBodyColumns: migrated (0.0016s) =============================

==  AddMessagesHtmlBody: migrating ============================================
-- add_column(:messages, :html_body, :text)
   -> 0.0015s
==  AddMessagesHtmlBody: migrated (0.0017s) ===================================

==  AddScopesToAccessToken: migrating =========================================
-- add_column(:access_tokens, :scopes, :text)
   -> 0.0006s
-- add_column(:access_tokens, :remember_access, :boolean)
   -> 0.0004s
==  AddScopesToAccessToken: migrated (0.0011s) ================================

==  AddEnrollmentLastActivityAt: migrating ====================================
-- add_column(:enrollments, :last_activity_at, :datetime)
   -> 0.0009s
==  AddEnrollmentLastActivityAt: migrated (0.0011s) ===========================

==  AddIndexToContentTagsLearningOutcomeId: migrating =========================
-- add_index(:content_tags, :learning_outcome_id, {:algorithm=>:concurrently, :where=>"learning_outcome_id IS NOT NULL"})
   -> 0.0043s
==  AddIndexToContentTagsLearningOutcomeId: migrated (0.0045s) ================

==  AddLtiAccountGuid: migrating ==============================================
-- add_column(:accounts, :lti_guid, :string)
   -> 0.0008s
==  AddLtiAccountGuid: migrated (0.0009s) =====================================

==  GenerateOldAccountOpaqueIDs: migrating ====================================
==  GenerateOldAccountOpaqueIDs: migrated (0.1902s) ===========================

==  FixMediaRecordingSubmissionTypes: migrating ===============================
==  FixMediaRecordingSubmissionTypes: migrated (0.0052s) ======================

==  AddMessageAccountId: migrating ============================================
-- add_column(:messages, :root_account_id, :integer, {:limit=>8})
   -> 0.0008s
-- add_column(:delayed_messages, :root_account_id, :integer, {:limit=>8})
   -> 0.0004s
-- add_index(:messages, :root_account_id, {:algorithm=>:concurrently})
   -> 0.0028s
-- add_index(:delayed_messages, [:communication_channel_id, :root_account_id, :workflow_state, :send_at], {:algorithm=>:concurrently, :name=>"ccid_raid_ws_sa"})
   -> 0.0027s
-- remove_index(:delayed_messages, {:name=>"ccid_ws_sa"})
   -> 0.0027s
==  AddMessageAccountId: migrated (0.0098s) ===================================

==  CreateMigrationIssues: migrating ==========================================
-- create_table(:migration_issues)
   -> 0.0035s
-- add_index(:migration_issues, :content_migration_id)
   -> 0.0015s
==  CreateMigrationIssues: migrated (0.0052s) =================================

==  DropCustomFieldTables: migrating ==========================================
-- table_exists?("custom_fields")
   -> 0.0020s
-- drop_table("custom_fields")
   -> 0.0017s
-- table_exists?("custom_field_values")
   -> 0.0012s
-- drop_table("custom_field_values")
   -> 0.0012s
==  DropCustomFieldTables: migrated (0.0063s) =================================

==  AddSubmissionCachedDueDate: migrating =====================================
-- add_column(:submissions, :cached_due_date, :datetime)
   -> 0.0006s
==  AddSubmissionCachedDueDate: migrated (0.0007s) ============================

==  AddTypeToContentMigration: migrating ======================================
-- add_column(:content_migrations, :migration_type, :string)
   -> 0.0006s
==  AddTypeToContentMigration: migrated (0.0007s) =============================

==  CreateQuizStatisticsTable: migrating ======================================
-- create_table(:quiz_statistics)
   -> 0.0027s
-- add_index(:quiz_statistics, :quiz_id)
   -> 0.0016s
==  CreateQuizStatisticsTable: migrated (0.0045s) =============================

==  AddManageStorageQuotasPermission: migrating ===============================
==  AddManageStorageQuotasPermission: migrated (0.0016s) ======================

==  AddIndexOnAppointmentGroupSubContextsAppointmentGroupId: migrating ========
-- add_index(:appointment_group_sub_contexts, :appointment_group_id, {:algorithm=>:concurrently})
   -> 0.0031s
==  AddIndexOnAppointmentGroupSubContextsAppointmentGroupId: migrated (0.0033s) 

==  AddIndexOnAppointmentGroupContextsAppointmentGroupId: migrating ===========
-- add_index(:appointment_group_contexts, :appointment_group_id, {:algorithm=>:concurrently})
   -> 0.0029s
==  AddIndexOnAppointmentGroupContextsAppointmentGroupId: migrated (0.0030s) ==

==  FixBrokenFileLinksInAssignments: migrating ================================
==  FixBrokenFileLinksInAssignments: migrated (0.0051s) =======================

==  AddTableSubmissionVersions: migrating =====================================
-- create_table(:submission_versions)
   -> 0.0034s
-- add_index(:submission_versions, [:context_id, :version_id, :user_id, :assignment_id], {:name=>"index_submission_versions", :where=>{:context_type=>"Course"}, :unique=>true})
   -> 0.0028s
==  AddTableSubmissionVersions: migrated (0.0065s) ============================

==  DropCalendarEventsExternalFeedId: migrating ===============================
-- remove_column(:calendar_events, :external_feed_id)
   -> 0.0006s
==  DropCalendarEventsExternalFeedId: migrated (0.0007s) ======================

==  AddValidationTokenToQuizSubmissions: migrating ============================
-- add_column(:quiz_submissions, :validation_token, :string)
   -> 0.0008s
==  AddValidationTokenToQuizSubmissions: migrated (0.0009s) ===================

==  FixDissociatedDiscussionTopics: migrating =================================
==  FixDissociatedDiscussionTopics: migrated (0.2002s) ========================

==  AddReportTypeToQuizStatistics: migrating ==================================
-- add_column(:quiz_statistics, :report_type, :string)
   -> 0.0009s
-- add_index(:quiz_statistics, [:quiz_id, :report_type])
   -> 0.0027s
-- remove_index(:quiz_statistics, {:column=>:quiz_id})
   -> 0.0030s
==  AddReportTypeToQuizStatistics: migrated (0.0069s) =========================

==  AddIndicesToLearningOutcomeGroups: migrating ==============================
-- add_index(:learning_outcome_groups, [:context_id, :context_type], {:algorithm=>:concurrently, :where=>{:learning_outcome_group_id=>nil}})
   -> 0.0040s
-- add_index(:learning_outcome_groups, :learning_outcome_group_id, {:algorithm=>:concurrently, :where=>"learning_outcome_group_id IS NOT NULL"})
   -> 0.0030s
==  AddIndicesToLearningOutcomeGroups: migrated (0.0073s) =====================

==  AddTableEventStreamFailures: migrating ====================================
-- create_table(:event_stream_failures)
   -> 0.0047s
==  AddTableEventStreamFailures: migrated (0.0049s) ===========================

==  ChangeMigrationIssueStringsToText: migrating ==============================
-- change_column(:migration_issues, :description, :text)
   -> 0.0009s
-- change_column(:migration_issues, :error_message, :text)
   -> 0.0006s
==  ChangeMigrationIssueStringsToText: migrated (0.0016s) =====================

==  AddLastLoggedOutToUsers: migrating ========================================
-- add_column(:users, :last_logged_out, :timestamp)
   -> 0.0009s
==  AddLastLoggedOutToUsers: migrated (0.0010s) ===============================

==  DropUnusedIndices: migrating ==============================================
-- remove_index(:abstract_courses, :workflow_state)
   -> 0.0027s
-- remove_index(:abstract_courses, :enrollment_term_id)
   -> 0.0027s
-- remove_index(:abstract_courses, :account_id)
   -> 0.0025s
-- remove_index(:appointment_group_sub_contexts, :id)
   -> 0.0022s
-- remove_index(:appointment_groups, :context_code)
   -> 0.0020s
-- remove_index(:assignment_groups, :cloned_item_id)
   -> 0.0023s
-- remove_index(:assignments, :cloned_item_id)
   -> 0.0036s
-- remove_index(:calendar_events, :cloned_item_id)
   -> 0.0034s
-- remove_index(:cloned_items, {:name=>"cloned_items_original_item_id_and_type"})
   -> 0.0016s
-- remove_index(:content_exports, :user_id)
   -> 0.0017s
-- remove_index(:content_tags, :workflow_state)
   -> 0.0030s
-- remove_index(:course_sections, :enrollment_term_id)
   -> 0.0028s
-- remove_index(:courses, :abstract_course_id)
   -> 0.0027s
-- remove_index(:delayed_notifications, [:workflow_state, :created_at])
   -> 0.0014s
-- remove_index(:discussion_entries, :attachment_id)
   -> 0.0022s
-- remove_index(:discussion_topics, :cloned_item_id)
   -> 0.0032s
-- remove_index(:discussion_topics, :attachment_id)
   -> 0.0031s
-- remove_index(:discussion_topics, :context_code)
   -> 0.0028s
-- remove_index(:external_feed_entries, :user_id)
   -> 0.0018s
-- remove_index(:external_feeds, :user_id)
   -> 0.0018s
-- remove_index(:grading_standards, :user_id)
   -> 0.0018s
-- remove_index(:groups, :workflow_state)
   -> 0.0019s
-- remove_index(:oauth_requests, :user_id)
   -> 0.0013s
-- remove_index(:quizzes, :cloned_item_id)
   -> 0.0019s
-- remove_index(:rubrics, :context_code)
   -> 0.0020s
-- remove_index(:rubrics, :rubric_id)
   -> 0.0017s
-- remove_index(:scribd_mime_types, :extension)
   -> 0.0013s
-- remove_index(:submission_comments, :assessment_request_id)
   -> 0.0022s
-- remove_index(:thumbnails, [:id, :uuid])
   -> 0.0020s
-- remove_index(:wiki_page_comments, [:wiki_page_id, :workflow_state])
   -> 0.0014s
-- remove_index(:wiki_pages, :cloned_item_id)
   -> 0.0017s
==  DropUnusedIndices: migrated (0.0710s) =====================================

==  AddSomeIndices: migrating =================================================
-- add_index(:conversation_message_participants, :conversation_message_id, {:name=>"index_conversation_message_participants_on_message_id", :algorithm=>:concurrently})
   -> 0.0030s
-- add_index(:pseudonyms, :sis_communication_channel_id, {:algorithm=>:concurrently})
   -> 0.0032s
==  AddSomeIndices: migrated (0.0064s) ========================================

==  AddGroupLimitToGroupCategory: migrating ===================================
-- add_column(:group_categories, :group_limit, :integer)
   -> 0.0009s
==  AddGroupLimitToGroupCategory: migrated (0.0010s) ==========================

==  AddLockAtToDiscussionTopics: migrating ====================================
-- add_column(:discussion_topics, :lock_at, :datetime)
   -> 0.0006s
==  AddLockAtToDiscussionTopics: migrated (0.0007s) ===========================

==  AddForcedReadStateToDiscussionEntryParticipants: migrating ================
-- add_column(:discussion_entry_participants, :forced_read_state, :boolean)
   -> 0.0008s
==  AddForcedReadStateToDiscussionEntryParticipants: migrated (0.0009s) =======

==  AddQuizStatisticsForeignKey: migrating ====================================
-- add_foreign_key(:quiz_statistics, :quizzes)
   -> 0.0023s
==  AddQuizStatisticsForeignKey: migrated (0.0025s) ===========================

==  LengthenSubmissionAttachmentIds: migrating ================================
-- change_column(:submissions, :attachment_ids, :text)
   -> 0.0007s
==  LengthenSubmissionAttachmentIds: migrated (0.0009s) =======================

==  ChangeLearningOutcomeGroupIndex: migrating ================================
-- remove_index(:learning_outcome_groups, [:context_id, :context_type])
   -> 0.0037s
-- add_index(:learning_outcome_groups, [:context_id, :context_type], {:algorithm=>:concurrently})
   -> 0.0030s
==  ChangeLearningOutcomeGroupIndex: migrated (0.0069s) =======================

==  AddFrontPageAttributesToWikis: migrating ==================================
-- add_column(:wikis, :front_page_url, :text)
   -> 0.0016s
-- add_column(:wikis, :has_no_front_page, :boolean)
   -> 0.0004s
==  AddFrontPageAttributesToWikis: migrated (0.0022s) =========================

==  FixHiddenWikiFrontPages: migrating ========================================
==  FixHiddenWikiFrontPages: migrated (0.0020s) ===============================

==  AddDiscussionTopicMaterializedViewPk: migrating ===========================
-- execute("ALTER TABLE discussion_topic_materialized_views ALTER discussion_topic_id SET NOT NULL")
   -> 0.0003s
-- execute("ALTER TABLE discussion_topic_materialized_views ADD CONSTRAINT discussion_topic_materialized_views_pkey PRIMARY KEY USING INDEX index_discussion_topic_materialized_views")
   -> 0.0069s
==  AddDiscussionTopicMaterializedViewPk: migrated (0.0081s) ==================

==  DropOldAssignmentPublishingFields: migrating ==============================
-- remove_column(:courses, :publish_grades_immediately)
   -> 0.0007s
-- remove_column(:assignments, :previously_published)
   -> 0.0005s
-- remove_column(:submissions, :changed_since_publish)
   -> 0.0005s
==  DropOldAssignmentPublishingFields: migrated (0.0020s) =====================

==  DropRedundantSubmissionsIndex: migrating ==================================
-- remove_index(:submissions, [:user_id])
   -> 0.0025s
==  DropRedundantSubmissionsIndex: migrated (0.0026s) =========================

==  AddUniqueIndexToSettings: migrating =======================================
-- add_index(:settings, :name, {:unique=>true})
   -> 0.0022s
==  AddUniqueIndexToSettings: migrated (0.0024s) ==============================

==  AddSchemaMigrationsPrimaryKey: migrating ==================================
-- execute("ALTER TABLE schema_migrations ADD CONSTRAINT schema_migrations_pkey PRIMARY KEY USING INDEX unique_schema_migrations")
   -> 0.0007s
==  AddSchemaMigrationsPrimaryKey: migrated (0.0008s) =========================

==  AddLastInlineViewToAttachments: migrating =================================
-- add_column(:attachments, :last_inline_view, :datetime)
   -> 0.0008s
==  AddLastInlineViewToAttachments: migrated (0.0009s) ========================

==  UnifyActiveAssignmentWorkflowStates: migrating ============================
==  UnifyActiveAssignmentWorkflowStates: migrated (0.0059s) ===================

==  AddNumberToVersionsIndex: migrating =======================================
-- add_index(:versions, [:versionable_id, :versionable_type, :number], {:unique=>true, :algorithm=>:concurrently, :name=>"index_versions_on_versionable_object_and_number"})
   -> 0.0031s
-- remove_index(:versions, [:versionable_id, :versionable_type])
   -> 0.0028s
==  AddNumberToVersionsIndex: migrated (0.0369s) ==============================

==  AddLastReplyAtIndexToDiscussionTopics: migrating ==========================
-- add_index(:discussion_topics, [:context_id, :last_reply_at], {:algorithm=>:concurrently, :name=>"index_discussion_topics_on_context_and_last_reply_at"})
   -> 0.0054s
==  AddLastReplyAtIndexToDiscussionTopics: migrated (0.0055s) =================

==  InitializeSubmissionCachedDueDate: migrating ==============================
==  InitializeSubmissionCachedDueDate: migrated (0.1950s) =====================

==  DropSubmissionLateColumn: migrating =======================================
-- remove_column(:submissions, :late)
   -> 0.0008s
==  DropSubmissionLateColumn: migrated (0.0010s) ==============================

==  AddPinnedFlagToDiscussionTopics: migrating ================================
-- add_column("discussion_topics", "pinned", :boolean)
   -> 0.0008s
==  AddPinnedFlagToDiscussionTopics: migrated (0.0009s) =======================

==  AddGroupCategoryIndexToGroups: migrating ==================================
-- add_index(:groups, :group_category_id, {:algorithm=>:concurrently})
   -> 0.0037s
==  AddGroupCategoryIndexToGroups: migrated (0.0038s) =========================

==  AddUpdatedAtIndexToStreamItems: migrating =================================
-- add_index(:stream_items, :updated_at, {:algorithm=>:concurrently})
   -> 0.0030s
==  AddUpdatedAtIndexToStreamItems: migrated (0.0032s) ========================

==  AddDefaultGroupStorageQuota: migrating ====================================
-- add_column(:accounts, :default_group_storage_quota, :bigint)
   -> 0.0007s
==  AddDefaultGroupStorageQuota: migrated (0.0009s) ===========================

==  ChangeEventStreamFailuresExceptionToText: migrating =======================
-- change_column(:event_stream_failures, :exception, :text)
   -> 0.0007s
==  ChangeEventStreamFailuresExceptionToText: migrated (0.0008s) ==============

==  AddForeignKeys1: migrating ================================================
-- add_foreign_key_if_not_exists(:abstract_courses, :accounts, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:abstract_courses, :enrollment_terms, {:delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:abstract_courses, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0026s
-- add_foreign_key_if_not_exists(:access_tokens, :users, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:account_authorization_configs, :accounts, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:account_notifications, :accounts, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:account_reports, :accounts, {:delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:account_reports, :attachments, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:account_users, :accounts, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:accounts, :accounts, {:column=>:parent_account_id, :delay_validation=>true})
   -> 0.0024s
-- add_foreign_key_if_not_exists(:accounts, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:alert_criteria, :alerts, {:delay_validation=>true})
   -> 0.0040s
==  AddForeignKeys1: migrated (0.0409s) =======================================

==  AddForeignKeys2: migrating ================================================
-- add_foreign_key_if_not_exists(:assessment_requests, :rubric_associations, {:delay_validation=>true})
   -> 0.0055s
-- add_foreign_key_if_not_exists(:assignment_groups, :cloned_items, {:delay_validation=>true})
   -> 0.0062s
-- add_foreign_key_if_not_exists(:assignments, :cloned_items, {:delay_validation=>true})
   -> 0.0078s
-- add_foreign_key_if_not_exists(:calendar_events, :cloned_items, {:delay_validation=>true})
   -> 0.0048s
-- add_foreign_key_if_not_exists(:calendar_events, :calendar_events, {:column=>:parent_calendar_event_id, :delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:collaborations, :users, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:collaborators, :collaborations, {:delay_validation=>true})
   -> 0.0034s
-- add_foreign_key_if_not_exists(:communication_channels, :users, {:delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:content_exports, :content_migrations, {:delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:content_exports, :courses, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:content_migrations, :courses, {:column=>:source_course_id, :delay_validation=>true})
   -> 0.0025s
==  AddForeignKeys2: migrated (0.0471s) =======================================

==  AddForeignKeys3: migrating ================================================
-- add_foreign_key_if_not_exists(:content_tags, :cloned_items, {:delay_validation=>true})
   -> 0.0101s
-- add_foreign_key_if_not_exists(:content_tags, :context_modules, {:delay_validation=>true})
   -> 0.0048s
-- add_foreign_key_if_not_exists(:context_external_tools, :cloned_items, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:context_modules, :cloned_items, {:delay_validation=>true})
   -> 0.0036s
-- add_foreign_key_if_not_exists(:course_imports, :courses, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:course_imports, :courses, {:column=>:source_id, :delay_validation=>true})
   -> 0.0024s
-- add_foreign_key_if_not_exists(:course_sections, :enrollment_terms, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:course_sections, :courses, {:column=>:nonxlist_course_id, :delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:course_sections, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0026s
-- add_foreign_key_if_not_exists(:courses, :accounts, {:delay_validation=>true})
   -> 0.0034s
-- add_foreign_key_if_not_exists(:courses, :enrollment_terms, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:courses, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:courses, :courses, {:column=>:template_course_id, :delay_validation=>true})
   -> 0.0026s
-- add_foreign_key_if_not_exists(:courses, :wikis, {:delay_validation=>true})
   -> 0.0034s
==  AddForeignKeys3: migrated (0.0548s) =======================================

==  AddSubscribedToDiscussionTopicParticipants: migrating =====================
-- add_column(:discussion_topic_participants, :subscribed, :boolean)
   -> 0.0005s
==  AddSubscribedToDiscussionTopicParticipants: migrated (0.0006s) ============

==  AddSurveyFunctionalityToAccountNotifications: migrating ===================
-- add_column(:account_notifications, :required_account_service, :string)
   -> 0.0007s
-- add_column(:account_notifications, :months_in_display_cycle, :int)
   -> 0.0005s
-- add_index(:account_notifications, [:account_id, :end_at, :start_at], {:name=>"index_account_notifications_by_account_and_timespan"})
   -> 0.0030s
-- remove_index(:account_notifications, [:account_id, :start_at])
   -> 0.0017s
==  AddSurveyFunctionalityToAccountNotifications: migrated (0.0064s) ==========

==  AddForeignKeys4: migrating ================================================
-- add_foreign_key_if_not_exists(:discussion_topic_participants, :discussion_topics, {:delay_validation=>true})
   -> 0.0090s
-- add_foreign_key_if_not_exists(:discussion_topics, :assignments, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:discussion_topics, :attachments, {:delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:discussion_topics, :cloned_items, {:delay_validation=>true})
   -> 0.0028s
-- add_foreign_key_if_not_exists(:discussion_topics, :assignments, {:column=>:old_assignment_id, :delay_validation=>true})
   -> 0.0028s
-- add_foreign_key_if_not_exists(:discussion_topics, :discussion_topics, {:column=>:root_topic_id, :delay_validation=>true})
   -> 0.0023s
-- add_foreign_key_if_not_exists(:enrollment_dates_overrides, :enrollment_terms, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:enrollment_terms, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0024s
-- add_foreign_key_if_not_exists(:enrollments, :courses, {:delay_validation=>true})
   -> 0.0034s
-- add_foreign_key_if_not_exists(:enrollments, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0025s
-- add_foreign_key_if_not_exists(:eportfolio_categories, :eportfolios, {:delay_validation=>true})
   -> 0.0038s
-- add_foreign_key_if_not_exists(:eportfolio_entries, :eportfolio_categories, {:delay_validation=>true})
   -> 0.0053s
-- add_foreign_key_if_not_exists(:eportfolio_entries, :eportfolios, {:delay_validation=>true})
   -> 0.0038s
-- add_foreign_key_if_not_exists(:eportfolios, :users, {:delay_validation=>true})
   -> 0.0051s
==  AddForeignKeys4: migrated (0.0546s) =======================================

==  FixImportedWikiPageWorkflow: migrating ====================================
==  FixImportedWikiPageWorkflow: migrated (0.0061s) ===========================

==  AddForeignKeys5: migrating ================================================
-- add_foreign_key_if_not_exists(:favorites, :users, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:folders, :cloned_items, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:folders, :folders, {:column=>:parent_folder_id, :delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:group_memberships, :groups, {:delay_validation=>true})
   -> 0.0038s
-- add_foreign_key_if_not_exists(:groups, :accounts, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:groups, :group_categories, {:delay_validation=>true})
   -> 0.0034s
-- add_foreign_key_if_not_exists(:groups, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0024s
-- add_foreign_key_if_not_exists(:groups, :wikis, {:delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:learning_outcome_groups, :learning_outcome_groups, {:delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:learning_outcome_groups, :learning_outcome_groups, {:column=>:root_learning_outcome_group_id, :delay_validation=>true})
   -> 0.0024s
-- add_foreign_key_if_not_exists(:learning_outcome_results, :content_tags, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:learning_outcome_results, :learning_outcomes, {:delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:media_objects, :accounts, {:column=>:root_account_id, :delay_validation=>true})
   -> 0.0028s
-- add_foreign_key_if_not_exists(:oauth_requests, :users, {:delay_validation=>true})
   -> 0.0030s
==  AddForeignKeys5: migrated (0.0457s) =======================================

==  AddForeignKeys6: migrating ================================================
-- add_foreign_key_if_not_exists(:quizzes, :cloned_items, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:report_snapshots, :accounts, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:role_overrides, :accounts, {:column=>:context_id, :delay_validation=>true})
   -> 0.0026s
-- add_foreign_key_if_not_exists(:rubric_assessments, :rubric_associations, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:rubric_assessments, :rubrics, {:delay_validation=>true})
   -> 0.0032s
-- add_foreign_key_if_not_exists(:rubric_associations, :rubrics, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:rubrics, :rubrics, {:delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:session_persistence_tokens, :pseudonyms, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:sis_batches, :enrollment_terms, {:column=>:batch_mode_term_id, :delay_validation=>true})
   -> 0.0028s
-- add_foreign_key_if_not_exists(:submissions, :groups, {:delay_validation=>true})
   -> 0.0032s
-- add_foreign_key_if_not_exists(:submissions, :media_objects, {:delay_validation=>true})
   -> 0.0030s
==  AddForeignKeys6: migrated (0.2042s) =======================================

==  AddScoreBeforeRegradeToQuizSubmission: migrating ==========================
-- add_column(:quiz_submissions, :score_before_regrade, :float)
   -> 0.0008s
==  AddScoreBeforeRegradeToQuizSubmission: migrated (0.0009s) =================

==  AddCacheKeyToProgresses: migrating ========================================
-- add_column(:progresses, :cache_key_context, :string)
   -> 0.0006s
==  AddCacheKeyToProgresses: migrated (0.0007s) ===============================

==  AddIndexOnSectionsRootAccountId: migrating ================================
-- add_index(:course_sections, :root_account_id, {:algorithm=>:concurrently})
   -> 0.0035s
==  AddIndexOnSectionsRootAccountId: migrated (0.0037s) =======================

==  MakeSisIdsUnique: migrating ===============================================
-- add_index(:accounts, [:sis_source_id, :root_account_id], {:where=>"sis_source_id IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0046s
-- add_index(:accounts, :root_account_id, {:algorithm=>:concurrently})
   -> 0.0033s
-- add_index(:courses, [:sis_source_id, :root_account_id], {:where=>"sis_source_id IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0032s
-- add_index(:course_sections, [:sis_source_id, :root_account_id], {:where=>"sis_source_id IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0030s
-- add_index(:enrollment_terms, [:sis_source_id, :root_account_id], {:where=>"sis_source_id IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0022s
-- add_index(:enrollment_terms, :root_account_id, {:algorithm=>:concurrently})
   -> 0.0921s
-- execute("CREATE UNIQUE INDEX CONCURRENTLY index_pseudonyms_on_unique_id_and_account_id ON pseudonyms (LOWER(unique_id), account_id) WHERE workflow_state='active'")
   -> 0.0030s
-- remove_index(:pseudonyms, :unique_id)
   -> 0.0045s
-- add_index(:pseudonyms, [:sis_user_id, :account_id], {:where=>"sis_user_id IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0041s
-- add_index(:pseudonyms, :account_id, {:algorithm=>:concurrently})
   -> 0.0038s
-- add_index(:groups, [:sis_source_id, :root_account_id], {:where=>"sis_source_id IS NOT NULL", :unique=>true, :algorithm=>:concurrently})
   -> 0.0030s
-- remove_index(:accounts, :sis_source_id)
   -> 0.0039s
-- remove_index(:accounts, [:root_account_id, :sis_source_id])
   -> 0.0035s
-- remove_index(:courses, :sis_source_id)
   -> 0.0041s
-- remove_index(:course_sections, [:root_account_id, :sis_source_id])
   -> 0.0030s
-- remove_index(:enrollment_terms, :sis_source_id)
   -> 0.0028s
-- remove_index(:enrollment_terms, [:root_account_id, :sis_source_id])
   -> 0.0024s
-- remove_index(:pseudonyms, :sis_user_id)
   -> 0.0036s
==  MakeSisIdsUnique: migrated (0.1518s) ======================================

==  CreateQuizRegrades: migrating =============================================
-- create_table(:quiz_regrades)
   -> 0.0039s
-- add_index(:quiz_regrades, [:quiz_id, :quiz_version], {:unique=>true})
   -> 0.0022s
==  CreateQuizRegrades: migrated (0.0063s) ====================================

==  CreateQuizQuestionRegrades: migrating =====================================
-- create_table(:quiz_question_regrades)
   -> 0.0030s
-- add_index(:quiz_question_regrades, [:quiz_regrade_id, :quiz_question_id], {:unique=>true, :name=>"index_qqr_on_qr_id_and_qq_id"})
   -> 0.0019s
==  CreateQuizQuestionRegrades: migrated (0.0051s) ============================

==  AddLockedFlagToDiscussionTopics: migrating ================================
-- add_column("discussion_topics", "locked", :boolean)
   -> 0.0024s
==  AddLockedFlagToDiscussionTopics: migrated (0.0025s) =======================

==  AddTurnitinHostToAccounts: migrating ======================================
-- add_column(:accounts, :turnitin_host, :string)
   -> 0.0009s
==  AddTurnitinHostToAccounts: migrated (0.0010s) =============================

==  OptimizeScribdRecyclableIndex: migrating ==================================
-- remove_index(:attachments, {:name=>"scribd_attempts_smt_workflow_state"})
   -> 0.0064s
-- add_index(:attachments, :scribd_attempts, {:algorithm=>:concurrently, :where=>"workflow_state='errored' AND scribd_mime_type_id IS NOT NULL", :name=>"scribd_attempts_smt_workflow_state"})
   -> 0.0052s
==  OptimizeScribdRecyclableIndex: migrated (0.0120s) =========================

==  ResanitizeAssignmentsAllowedExtensions: migrating =========================
==  ResanitizeAssignmentsAllowedExtensions: migrated (0.0043s) ================

==  AddWasPreviewToQuizSubmission: migrating ==================================
-- add_column("quiz_submissions", "was_preview", :boolean)
   -> 0.0009s
==  AddWasPreviewToQuizSubmission: migrated (0.0010s) =========================

==  LoadSubmissionNeedsGradingNotification: migrating =========================
==  LoadSubmissionNeedsGradingNotification: migrated (0.0363s) ================

==  CreateQuizRegradeRuns: migrating ==========================================
-- create_table(:quiz_regrade_runs)
   -> 0.0035s
==  CreateQuizRegradeRuns: migrated (0.0036s) =================================

==  LoadQuizRegradeFinishedNotification: migrating ============================
==  LoadQuizRegradeFinishedNotification: migrated (0.0061s) ===================

==  FilterPageViewUrlParams: migrating ========================================
==  FilterPageViewUrlParams: migrated (0.2386s) ===============================

==  AddSubjectToConversations: migrating ======================================
-- add_column(:conversations, :subject, :string)
   -> 0.0007s
==  AddSubjectToConversations: migrated (0.0008s) =============================

==  AddWorkflowStateToConversationMessageParticipants: migrating ==============
-- add_column(:conversation_message_participants, :workflow_state, :string)
   -> 0.0007s
==  AddWorkflowStateToConversationMessageParticipants: migrated (0.0009s) =====

==  AddContextToConversationsAndConversationBatches: migrating ================
-- add_column(:conversations, :context_type, :string)
   -> 0.0007s
-- add_column(:conversations, :context_id, :integer, {:limit=>8})
   -> 0.0004s
-- add_column(:conversation_batches, :context_type, :string)
   -> 0.0005s
-- add_column(:conversation_batches, :context_id, :integer, {:limit=>8})
   -> 0.0004s
==  AddContextToConversationsAndConversationBatches: migrated (0.0023s) =======

==  AddSubjectToConversationBatch: migrating ==================================
-- add_column(:conversation_batches, :subject, :string)
   -> 0.0006s
==  AddSubjectToConversationBatch: migrated (0.0007s) =========================

==  MakeColumnsNotNull: migrating =============================================
-- change_column_null_with_less_locking(:abstract_courses, :workflow_state)
   -> 0.0015s
-- change_column_null_with_less_locking(:abstract_courses, :account_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:abstract_courses, :root_account_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:abstract_courses, :enrollment_term_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:account_authorization_configs, :account_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:account_notifications, :start_at)
   -> 0.0011s
-- change_column_null_with_less_locking(:account_notifications, :end_at)
   -> 0.0007s
-- change_column_null_with_less_locking(:account_notifications, :account_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:account_users, :account_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:account_users, :user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:account_users, :membership_type)
   -> 0.0009s
-- change_column_null_with_less_locking(:account_reports, :account_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:account_reports, :user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:account_reports, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:accounts, :workflow_state)
   -> 0.0010s
-- change_column_null_with_less_locking(:alerts, :context_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:alerts, :context_type)
   -> 0.0007s
-- change_column_null_with_less_locking(:alerts, :recipients)
   -> 0.0007s
-- change_column_null_with_less_locking(:appointment_groups, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_question_bank_users, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:assessment_question_bank_users, :user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_question_bank_users, :assessment_question_bank_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_question_banks, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:assessment_requests, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_requests, :user_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:assessment_requests, :asset_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_requests, :asset_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_requests, :assessor_asset_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_requests, :assessor_asset_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:assessment_requests, :assessor_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:assignments, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:assignments, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:assignments, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:assignment_groups, :context_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:assignment_groups, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:assignment_groups, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:assignment_overrides, :title)
   -> 0.0009s
-- change_column_null_with_less_locking(:calendar_events, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:calendar_events, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:calendar_events, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:collaborations, :title)
   -> 0.0007s
-- change_column_null_with_less_locking(:collaborations, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:collections, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:collections, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:collections, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:collection_items, :collection_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:collection_items, :collection_item_data_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:collection_items, :user_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:collection_items, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:collection_item_datas, :link_url)
   -> 0.0009s
-- change_column_null_with_less_locking(:collection_item_upvotes, :collection_item_data_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:collection_item_upvotes, :user_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:communication_channels, :path)
   -> 0.0007s
-- change_column_null_with_less_locking(:communication_channels, :path_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:communication_channels, :user_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:communication_channels, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_exports, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:content_exports, :course_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_migrations, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_migrations, :context_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_participations, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:content_participations, :content_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:content_participations, :content_type)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_participations, :user_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_tags, :context_type)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_tags, :context_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:content_tags, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:context_external_tools, :name)
   -> 0.0009s
-- change_column_null_with_less_locking(:context_external_tools, :consumer_key)
   -> 0.1309s
-- change_column_null_with_less_locking(:context_external_tools, :shared_secret)
   -> 0.0009s
-- change_column_null_with_less_locking(:context_external_tools, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:context_module_progressions, :workflow_state)
   -> 0.0011s
-- change_column_null_with_less_locking(:context_modules, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:context_modules, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:context_modules, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:conversation_batches, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:conversation_batches, :user_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:conversation_batches, :root_conversation_message_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:conversation_participants, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:conversation_participants, :conversation_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:conversation_participants, :user_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_account_associations, :depth)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_account_associations, :course_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_account_associations, :account_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_imports, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_imports, :course_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_imports, :import_type)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_imports, :workflow_state)
   -> 0.0005s
-- change_column_null_with_less_locking(:course_sections, :course_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:course_sections, :root_account_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:course_sections, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:courses, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:courses, :account_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:courses, :root_account_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:courses, :enrollment_term_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:delayed_notifications, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:delayed_notifications, :notification_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:delayed_notifications, :asset_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:delayed_notifications, :asset_type)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_entry_participants, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_entry_participants, :user_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_entry_participants, :discussion_entry_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_topic_participants, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_topic_participants, :user_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_topic_participants, :discussion_topic_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:discussion_topic_participants, :unread_entry_count)
   -> 0.0007s
-- change_column_null_with_less_locking(:discussion_topics, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:discussion_topics, :context_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:discussion_topics, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:enrollment_terms, :root_account_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:enrollment_terms, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:enrollments, :user_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:enrollments, :course_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:enrollments, :type)
   -> 0.0007s
-- change_column_null_with_less_locking(:enrollments, :root_account_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:enrollments, :course_section_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:enrollments, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:eportfolios, :user_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:eportfolios, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:eportfolio_categories, :eportfolio_id)
   -> 0.0005s
-- change_column_null_with_less_locking(:eportfolio_entries, :eportfolio_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:eportfolio_entries, :eportfolio_category_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:external_feed_entries, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:external_feed_entries, :external_feed_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:external_feeds, :url)
   -> 0.0009s
-- change_column_null_with_less_locking(:external_feeds, :context_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:external_feeds, :context_type)
   -> 0.0006s
-- change_column_null_with_less_locking(:folders, :context_type)
   -> 0.0006s
-- change_column_null_with_less_locking(:folders, :context_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:folders, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:grading_standards, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:grading_standards, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:grading_standards, :context_type)
   -> 0.0010s
-- change_column_null_with_less_locking(:group_memberships, :group_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:group_memberships, :user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:group_memberships, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:groups, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:groups, :context_type)
   -> 0.0007s
-- change_column_null_with_less_locking(:groups, :account_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:groups, :root_account_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:groups, :workflow_state)
   -> 0.0010s
-- change_column_null_with_less_locking(:learning_outcomes, :short_description)
   -> 0.0006s
-- change_column_null_with_less_locking(:learning_outcomes, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:learning_outcome_groups, :title)
   -> 0.0006s
-- change_column_null_with_less_locking(:learning_outcome_groups, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:media_objects, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:media_objects, :media_id)
   -> 0.0012s
-- change_column_null_with_less_locking(:media_tracks, :media_object_id)
   -> 0.0010s
-- change_column_null_with_less_locking(:media_tracks, :content)
   -> 0.0007s
-- change_column_null_with_less_locking(:migration_issues, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:migration_issues, :content_migration_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:migration_issues, :issue_type)
   -> 0.0007s
-- change_column_null_with_less_locking(:notification_policies, :communication_channel_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:notification_policies, :broadcast)
   -> 0.0007s
-- change_column_null_with_less_locking(:notifications, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:page_views, :user_id)
   -> 0.0013s
-- change_column_null_with_less_locking(:profiles, :root_account_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:profiles, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:profiles, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:progresses, :context_id)
   -> 0.0011s
-- change_column_null_with_less_locking(:progresses, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:progresses, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:pseudonyms, :workflow_state)
   -> 0.0011s
-- change_column_null_with_less_locking(:pseudonyms, :account_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:pseudonyms, :user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:quizzes, :context_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:quizzes, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:quizzes, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:quiz_groups, :quiz_id)
   -> 0.0010s
-- change_column_null_with_less_locking(:quiz_submissions, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:quiz_submissions, :quiz_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:roles, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubric_assessments, :assessment_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubric_assessments, :rubric_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubric_assessments, :artifact_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:rubric_assessments, :artifact_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubric_associations, :purpose)
   -> 0.0009s
-- change_column_null_with_less_locking(:rubric_associations, :rubric_id)
   -> 0.0010s
-- change_column_null_with_less_locking(:rubric_associations, :association_id)
   -> 0.0010s
-- change_column_null_with_less_locking(:rubric_associations, :association_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubric_associations, :context_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:rubric_associations, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubrics, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubrics, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:rubrics, :context_type)
   -> 0.0008s
-- change_column_null_with_less_locking(:session_persistence_tokens, :crypted_token)
   -> 0.0007s
-- change_column_null_with_less_locking(:session_persistence_tokens, :pseudonym_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:session_persistence_tokens, :token_salt)
   -> 0.0008s
-- change_column_null_with_less_locking(:sis_batches, :workflow_state)
   -> 0.0007s
-- change_column_null_with_less_locking(:sis_batches, :account_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:stream_items, :data)
   -> 0.0008s
-- change_column_null_with_less_locking(:stream_items, :asset_type)
   -> 0.0009s
-- change_column_null_with_less_locking(:stream_item_instances, :user_id)
   -> 0.0011s
-- change_column_null_with_less_locking(:stream_item_instances, :stream_item_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:submissions, :assignment_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:submissions, :user_id)
   -> 0.0009s
-- change_column_null_with_less_locking(:submissions, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:thumbnails, :size)
   -> 0.0008s
-- change_column_null_with_less_locking(:thumbnails, :content_type)
   -> 0.0007s
-- change_column_null_with_less_locking(:thumbnails, :filename)
   -> 0.0008s
-- change_column_null_with_less_locking(:user_account_associations, :user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:user_account_associations, :account_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:user_follows, :following_user_id)
   -> 0.0010s
-- change_column_null_with_less_locking(:user_follows, :followed_item_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:user_notes, :workflow_state)
   -> 0.0011s
-- change_column_null_with_less_locking(:user_services, :user_id)
   -> 0.0012s
-- change_column_null_with_less_locking(:user_services, :service)
   -> 0.0009s
-- change_column_null_with_less_locking(:user_services, :service_user_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:user_services, :workflow_state)
   -> 0.0008s
-- change_column_null_with_less_locking(:users, :workflow_state)
   -> 0.0009s
-- change_column_null_with_less_locking(:web_conferences, :conference_type)
   -> 0.0011s
-- change_column_null_with_less_locking(:web_conferences, :title)
   -> 0.0008s
-- change_column_null_with_less_locking(:web_conferences, :context_id)
   -> 0.0008s
-- change_column_null_with_less_locking(:web_conferences, :context_type)
   -> 0.0028s
-- change_column_null_with_less_locking(:web_conferences, :user_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:wiki_pages, :workflow_state)
   -> 0.0006s
-- change_column_null_with_less_locking(:wiki_pages, :wiki_id)
   -> 0.0006s
-- change_column_null_with_less_locking(:zip_file_imports, :context_id)
   -> 0.0007s
-- change_column_null_with_less_locking(:zip_file_imports, :context_type)
   -> 0.0006s
-- change_column_null_with_less_locking(:zip_file_imports, :workflow_state)
   -> 0.0006s
==  MakeColumnsNotNull: migrated (0.3411s) ====================================

==  ChangeSubmissionNeedsGradingNotificationTypeToAllSubmissions: migrating ===
==  ChangeSubmissionNeedsGradingNotificationTypeToAllSubmissions: migrated (0.0009s) 

==  DropTypeFromPseudonyms: migrating =========================================
-- remove_column(:pseudonyms, :type)
   -> 0.0024s
==  DropTypeFromPseudonyms: migrated (0.0025s) ================================

==  DropWikiPageComments: migrating ===========================================
-- drop_table(:wiki_page_comments)
   -> 0.0017s
==  DropWikiPageComments: migrated (0.0018s) ==================================

==  FixOutOfSyncOutcomeAlignments: migrating ==================================
==  FixOutOfSyncOutcomeAlignments: migrated (0.0305s) =========================

==  AddIndexOnCourseWikiId: migrating =========================================
-- add_index(:courses, :wiki_id, {:algorithm=>:concurrently, :where=>"wiki_id IS NOT NULL"})
   -> 0.0055s
-- remove_index(:groups, :wiki_id)
   -> 0.0036s
-- add_index(:groups, :wiki_id, {:algorithm=>:concurrently, :where=>"wiki_id IS NOT NULL"})
   -> 0.0029s
==  AddIndexOnCourseWikiId: migrated (0.0123s) ================================

==  AddContentMigrationIndex: migrating =======================================
-- add_index(:content_migrations, :context_id, {:algorithm=>:concurrently})
   -> 0.0028s
==  AddContentMigrationIndex: migrated (0.0029s) ==============================

==  AddIndexOnCccc: migrating =================================================
-- add_index(:communication_channels, :confirmation_code, {:algorithm=>:concurrently})
   -> 0.0037s
==  AddIndexOnCccc: migrated (0.0038s) ========================================

==  DropEnrollmentsIndexOnIdAndType: migrating ================================
-- remove_index(:enrollments, [:id, :type])
   -> 0.0043s
==  DropEnrollmentsIndexOnIdAndType: migrated (0.0044s) =======================

==  RemoveUnneededGistIndexes: migrating ======================================
-- execute("drop index if exists index_trgm_wiki_pages_title;")
   -> 0.0002s
-- execute("drop index if exists index_trgm_context_external_tools_name;")
   -> 0.0002s
-- execute("drop index if exists index_trgm_assignments_title;")
   -> 0.0002s
-- execute("drop index if exists index_trgm_quizzes_title;")
   -> 0.0002s
-- execute("drop index if exists index_trgm_discussion_topics_title;")
   -> 0.0001s
-- execute("drop index if exists index_trgm_attachments_display_name;")
   -> 0.0001s
-- execute("drop index if exists index_trgm_context_modules_name;")
   -> 0.0001s
-- execute("drop index if exists index_trgm_content_tags_title;")
   -> 0.0001s
==  RemoveUnneededGistIndexes: migrated (0.0017s) =============================

==  AddQuizRegradeForeignKeys: migrating ======================================
-- add_foreign_key_if_not_exists(:quiz_regrades, :users)
   -> 0.0034s
-- add_foreign_key_if_not_exists(:quiz_regrades, :quizzes)
   -> 0.0021s
-- add_foreign_key_if_not_exists(:quiz_regrade_runs, :quiz_regrades)
   -> 0.0022s
-- add_foreign_key_if_not_exists(:quiz_question_regrades, :quiz_regrades)
   -> 0.0025s
-- add_foreign_key_if_not_exists(:quiz_question_regrades, :quiz_questions)
   -> 0.0022s
==  AddQuizRegradeForeignKeys: migrated (0.0128s) =============================

==  FixImportedWikiFrontPages: migrating ======================================
==  FixImportedWikiFrontPages: migrated (0.2182s) =============================

==  AddWorkflowStateToQuizQuestion: migrating =================================
-- add_column(:quiz_questions, :workflow_state, :string)
   -> 0.0008s
==  AddWorkflowStateToQuizQuestion: migrated (0.0009s) ========================

==  AddContextModuleProgressionsUniqueIndex: migrating ========================
-- add_index(:context_module_progressions, [:user_id, :context_module_id], {:unique=>true, :name=>"index_cmp_on_user_id_and_module_id", :algorithm=>:concurrently})
   -> 0.0027s
-- remove_index(:context_module_progressions, {:name=>"u_id_module_id"})
   -> 0.0026s
==  AddContextModuleProgressionsUniqueIndex: migrated (0.0328s) ===============

==  RemoveUnusedFolderIndex: migrating ========================================
-- remove_index(:folders, {:name=>"index_folders_on_parent_folder_id_and_workflow_state_and_name"})
   -> 0.0022s
-- remove_index(:folders, {:name=>"index_folders_on_parent_folder_id_and_workflow_state_an_position"})
   -> 0.0017s
==  RemoveUnusedFolderIndex: migrated (0.0041s) ===============================

==  AddForeignKeys7: migrating ================================================
-- add_foreign_key_if_not_exists(:user_account_associations, :accounts, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:user_account_associations, :users, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:user_services, :users, {:delay_validation=>true})
   -> 0.0041s
-- add_foreign_key_if_not_exists(:web_conferences, :users, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:wiki_pages, :cloned_items, {:delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:wiki_pages, :users, {:delay_validation=>true})
   -> 0.0032s
-- add_foreign_key_if_not_exists(:wiki_pages, :wikis, {:delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:zip_file_imports, :attachments, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:zip_file_imports, :folders, {:delay_validation=>true})
   -> 0.0030s
==  AddForeignKeys7: migrated (0.0332s) =======================================

==  ChangeExternalFeedEntryIndexes: migrating =================================
-- add_index(:external_feed_entries, :external_feed_id, {:algorithm=>:concurrently})
   -> 0.0031s
-- add_index(:external_feed_entries, :uuid, {:algorithm=>:concurrently})
   -> 0.0025s
-- add_index(:external_feed_entries, :url, {:algorithm=>:concurrently})
   -> 0.0027s
-- remove_index(:external_feed_entries, {:name=>"external_feed_id_uuid"})
   -> 0.0027s
-- remove_index(:external_feed_entries, [:asset_id, :asset_type])
   -> 0.0024s
==  ChangeExternalFeedEntryIndexes: migrated (0.0138s) ========================

==  AddForeignKeys8: migrating ================================================
-- add_foreign_key_if_not_exists(:account_notifications, :users, {:delay_validation=>true})
   -> 0.0041s
-- add_foreign_key_if_not_exists(:account_reports, :users, {:delay_validation=>true})
   -> 0.0032s
-- add_foreign_key_if_not_exists(:account_users, :users, {:delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:assessment_requests, :users, {:column=>:assessor_id, :delay_validation=>true})
   -> 0.0026s
-- add_foreign_key_if_not_exists(:assessment_requests, :users, {:delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:calendar_events, :users, {:delay_validation=>true})
   -> 0.0044s
-- add_foreign_key_if_not_exists(:collaborators, :users, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:content_exports, :users, {:delay_validation=>true})
   -> 0.0042s
-- add_foreign_key_if_not_exists(:content_migrations, :users, {:delay_validation=>true})
   -> 0.0041s
-- add_foreign_key_if_not_exists(:context_module_progressions, :users, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:discussion_entries, :users, {:column=>:editor_id, :delay_validation=>true})
   -> 0.0031s
-- add_foreign_key_if_not_exists(:discussion_entries, :users, {:delay_validation=>true})
   -> 0.0032s
==  AddForeignKeys8: migrated (0.0452s) =======================================

==  AddForeignKeys9: migrating ================================================
-- add_foreign_key_if_not_exists(:discussion_entry_participants, :users, {:delay_validation=>true})
   -> 0.0046s
-- add_foreign_key_if_not_exists(:discussion_topic_participants, :users, {:delay_validation=>true})
   -> 0.0036s
-- add_foreign_key_if_not_exists(:discussion_topics, :users, {:column=>:editor_id, :delay_validation=>true})
   -> 0.0035s
-- add_foreign_key_if_not_exists(:discussion_topics, :users, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:enrollments, :users, {:column=>:associated_user_id, :delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:enrollments, :users, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:external_feed_entries, :users, {:delay_validation=>true})
   -> 0.0037s
-- add_foreign_key_if_not_exists(:external_feeds, :users, {:delay_validation=>true})
   -> 0.0037s
-- add_foreign_key_if_not_exists(:grading_standards, :users, {:delay_validation=>true})
   -> 0.0041s
-- add_foreign_key_if_not_exists(:group_memberships, :users, {:delay_validation=>true})
   -> 0.0039s
==  AddForeignKeys9: migrated (0.0392s) =======================================

==  AddGroupToBatchConversations: migrating ===================================
-- add_column(:conversation_batches, :group, :boolean)
   -> 0.0007s
==  AddGroupToBatchConversations: migrated (0.0008s) ==========================

==  AddForeignKeys10: migrating ===============================================
-- add_foreign_key_if_not_exists(:learning_outcome_results, :users, {:delay_validation=>true})
   -> 0.0053s
-- add_foreign_key_if_not_exists(:media_objects, :users, {:delay_validation=>true})
   -> 0.0045s
-- add_foreign_key_if_not_exists(:page_comments, :users, {:delay_validation=>true})
   -> 0.0054s
-- add_foreign_key_if_not_exists(:page_views, :users, {:column=>:real_user_id, :delay_validation=>true})
   -> 0.0037s
-- add_foreign_key_if_not_exists(:page_views, :users, {:delay_validation=>true})
   -> 0.0049s
-- add_foreign_key_if_not_exists(:pseudonyms, :users, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:quiz_submissions, :users, {:delay_validation=>true})
   -> 0.0037s
-- add_foreign_key_if_not_exists(:rubric_assessments, :users, {:column=>:assessor_id, :delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:rubric_assessments, :users, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:rubrics, :users, {:delay_validation=>true})
   -> 0.0036s
==  AddForeignKeys10: migrated (0.0430s) ======================================

==  AddForeignKeys11: migrating ===============================================
-- add_foreign_key_if_not_exists(:submission_comment_participants, :users, {:delay_validation=>true})
   -> 0.0053s
-- add_foreign_key_if_not_exists(:submission_comments, :users, {:column=>:author_id, :delay_validation=>true})
   -> 0.0038s
-- add_foreign_key_if_not_exists(:submission_comments, :users, {:column=>:recipient_id, :delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:submissions, :users, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:user_notes, :users, {:column=>:created_by_id, :delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:user_notes, :users, {:delay_validation=>true})
   -> 0.0037s
-- add_foreign_key_if_not_exists(:web_conference_participants, :users, {:delay_validation=>true})
   -> 0.0059s
-- add_foreign_key_if_not_exists(:web_conferences, :users, {:delay_validation=>true})
   -> 0.0010s
-- add_foreign_key_if_not_exists(:wiki_pages, :users, {:delay_validation=>true})
   -> 0.0008s
-- add_foreign_key_if_not_exists(:conversation_messages, :conversations, {:delay_validation=>true})
   -> 0.0041s
-- add_foreign_key_if_not_exists(:conversation_message_participants, :conversation_messages, {:delay_validation=>true})
   -> 0.0037s
-- add_foreign_key_if_not_exists(:conversation_batches, :conversation_messages, {:column=>:root_conversation_message_id, :delay_validation=>true})
   -> 0.0030s
-- add_foreign_key_if_not_exists(:conversation_batches, :users, {:delay_validation=>true})
   -> 0.0040s
==  AddForeignKeys11: migrated (0.0472s) ======================================

==  AddPageViewsRemoteIp: migrating ===========================================
-- add_column(:page_views, :remote_ip, :string)
   -> 0.0007s
==  AddPageViewsRemoteIp: migrated (0.0008s) ==================================

==  DropDownstreamModulesFromContextModules: migrating ========================
-- remove_column(:context_modules, :downstream_modules)
   -> 0.0007s
==  DropDownstreamModulesFromContextModules: migrated (0.0008s) ===============

==  AddCompletionEventsToContextModules: migrating ============================
-- add_column(:context_modules, :completion_events, :text)
   -> 0.0008s
==  AddCompletionEventsToContextModules: migrated (0.0009s) ===================

==  PopulateSubmissionVersions: migrating =====================================
==  PopulateSubmissionVersions: migrated (0.1681s) ============================

==  RemoveOrphanedContextModuleProgressions: migrating ========================
==  RemoveOrphanedContextModuleProgressions: migrated (0.0080s) ===============

==  AddPushColumns: migrating =================================================
-- add_column(:developer_keys, :sns_arn, :string)
   -> 0.0006s
-- add_column(:communication_channels, :access_token_id, :integer, {:limit=>8})
   -> 0.0004s
-- add_column(:communication_channels, :internal_path, :string)
   -> 0.0004s
-- add_foreign_key(:communication_channels, :access_tokens)
   -> 0.0022s
==  AddPushColumns: migrated (0.0039s) ========================================

==  CreateFeatureFlags: migrating =============================================
-- create_table(:feature_flags)
   -> 0.0038s
-- add_index(:feature_flags, [:context_id, :context_type, :feature], {:unique=>true, :name=>"index_feature_flags_on_context_and_feature"})
   -> 0.0017s
==  CreateFeatureFlags: migrated (0.0057s) ====================================

==  AddScoreVisibilityToQuizzes: migrating ====================================
-- add_column(:quizzes, :show_correct_answers_at, :datetime)
   -> 0.0007s
-- add_column(:quizzes, :hide_correct_answers_at, :datetime)
   -> 0.0004s
==  AddScoreVisibilityToQuizzes: migrated (0.0013s) ===========================

==  AddStaleScribdIndexToAttachments: migrating ===============================
-- add_index(:attachments, [:last_inline_view, :created_at], {:where=>"scribd_doc IS NOT NULL", :algorithm=>:concurrently})
   -> 0.0060s
==  AddStaleScribdIndexToAttachments: migrated (0.0062s) ======================

==  RemoveScribdAccount: migrating ============================================
-- drop_table(:scribd_accounts)
   -> 0.0021s
-- remove_column(:attachments, :scribd_account_id)
   -> 0.0006s
-- remove_column(:attachments, :scribd_user)
   -> 0.0005s
==  RemoveScribdAccount: migrated (0.0034s) ===================================

==  UndeleteSomeOutcomeAlignments: migrating ==================================
==  UndeleteSomeOutcomeAlignments: migrated (0.0379s) =========================

==  AddAssociationToLearningOutcomeResultsIndex: migrating ====================
-- rename_index(:learning_outcome_results, "index_learning_outcome_results_association", "temp_index_learning_outcome")
   -> 0.0008s
-- add_index(:learning_outcome_results, [:user_id, :content_tag_id, :association_id, :association_type, :associated_asset_id, :associated_asset_type], {:unique=>true, :name=>"index_learning_outcome_results_association", :algorithm=>:concurrently})
   -> 0.0031s
-- remove_index(:learning_outcome_results, {:name=>"temp_index_learning_outcome"})
   -> 0.0029s
==  AddAssociationToLearningOutcomeResultsIndex: migrated (0.0413s) ===========

==  FixSubmissionVersionsIndex: migrating =====================================
==  FixSubmissionVersionsIndex: migrated (0.0008s) ============================

==  FixNameOfSisBatchesPendingIndex: migrating ================================
==  FixNameOfSisBatchesPendingIndex: migrated (0.0007s) =======================

==  FixAttachmentSortingIndexes: migrating ====================================
-- remove_index(:attachments, :folder_id)
   -> 0.0044s
==  FixAttachmentSortingIndexes: migrated (0.0054s) ===========================

==  AddReportSnapshotsIndex: migrating ========================================
-- add_index(:report_snapshots, [:report_type, :account_id, :created_at], {:algorithm=>:concurrently, :name=>"index_on_report_snapshots"})
   -> 0.0030s
==  AddReportSnapshotsIndex: migrated (0.0031s) ===============================

==  AddMoreGistIndexes: migrating =============================================
-- execute("CREATE INDEX CONCURRENTLY index_trgm_users_short_name ON users USING gist(LOWER(short_name) gist_trgm_ops)")
   -> 0.0016s
-- execute("CREATE INDEX CONCURRENTLY index_trgm_courses_name ON courses USING gist(LOWER(name) gist_trgm_ops)")
   -> 0.0013s
-- execute("CREATE INDEX CONCURRENTLY index_trgm_courses_course_code ON courses USING gist(LOWER(course_code) gist_trgm_ops)")
   -> 0.0013s
-- execute("CREATE INDEX CONCURRENTLY index_trgm_courses_sis_source_id ON courses USING gist(LOWER(sis_source_id) gist_trgm_ops)")
   -> 0.0011s
==  AddMoreGistIndexes: migrated (0.0065s) ====================================

==  UpdateIcuSortableNameIndex: migrating =====================================
==  UpdateIcuSortableNameIndex: migrated (0.0009s) ============================

==  DropOldSortableNameIndex: migrating =======================================
-- remove_index("users", {:name=>"index_users_on_sortable_name_old"})
   -> 0.0033s
-- remove_index("users", {:name=>"index_attachments_on_folder_id_and_file_state_and_display_name2"})
   -> 0.0024s
==  DropOldSortableNameIndex: migrated (0.0060s) ==============================

==  ChangeGradedSurveySubmissionsToNotNeedGrading: migrating ==================
==  ChangeGradedSurveySubmissionsToNotNeedGrading: migrated (0.0023s) =========

==  MakeNotificationPolicyFrequencyNotNull: migrating =========================
-- change_column_null_with_less_locking(:notification_policies, :frequency)
   -> 0.0014s
-- change_column_default(:notification_policies, :frequency, "immediately")
   -> 0.0007s
==  MakeNotificationPolicyFrequencyNotNull: migrated (0.0023s) ================

==  PopulateOverriddenDueAtForDueDateCacher: migrating ========================
==  PopulateOverriddenDueAtForDueDateCacher: migrated (0.0214s) ===============

==  MoveScribdDocsToRootAttachments: migrating ================================
==  MoveScribdDocsToRootAttachments: migrated (0.0073s) =======================

==  CreateAccountNotificationRoles: migrating =================================
-- create_table(:account_notification_roles)
   -> 0.0032s
-- add_index(:account_notification_roles, [:account_notification_id, :role_type], {:unique=>true, :name=>"idx_acount_notification_roles"})
   -> 0.0018s
-- add_foreign_key(:account_notification_roles, :account_notifications)
   -> 0.0022s
==  CreateAccountNotificationRoles: migrated (0.0075s) ========================

==  CustomGradebookColumns: migrating =========================================
-- create_table(:custom_gradebook_columns)
   -> 0.0047s
-- add_foreign_key(:custom_gradebook_columns, :courses, {:dependent=>true})
   -> 0.0026s
-- create_table(:custom_gradebook_column_data)
   -> 0.0028s
-- add_foreign_key(:custom_gradebook_column_data, :custom_gradebook_columns)
   -> 0.0019s
-- add_foreign_key(:custom_gradebook_column_data, :users)
   -> 0.0023s
-- add_index(:custom_gradebook_column_data, [:custom_gradebook_column_id, :user_id], {:unique=>true, :name=>"index_custom_gradebook_column_data_unique_column_and_user"})
   -> 0.0018s
==  CustomGradebookColumns: migrated (0.0166s) ================================

==  DeleteEmptyConversations: migrating =======================================
==  DeleteEmptyConversations: migrated (0.0065s) ==============================

==  AddIntegrationId: migrating ===============================================
-- add_column(:pseudonyms, :integration_id, :string)
   -> 0.0012s
-- add_column(:course_sections, :integration_id, :string)
   -> 0.0006s
-- add_column(:courses, :integration_id, :string)
   -> 0.0006s
-- add_column(:enrollment_terms, :integration_id, :string)
   -> 0.0005s
-- add_column(:accounts, :integration_id, :string)
   -> 0.0005s
-- add_index(:pseudonyms, [:integration_id, :account_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_pseudonyms_on_integration_id", :where=>"integration_id IS NOT NULL"})
   -> 0.0048s
-- add_index(:course_sections, [:integration_id, :root_account_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_sections_on_integration_id", :where=>"integration_id IS NOT NULL"})
   -> 0.0035s
-- add_index(:courses, [:integration_id, :root_account_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_courses_on_integration_id", :where=>"integration_id IS NOT NULL"})
   -> 0.0052s
-- add_index(:enrollment_terms, [:integration_id, :root_account_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_terms_on_integration_id", :where=>"integration_id IS NOT NULL"})
   -> 0.0027s
-- add_index(:accounts, [:integration_id, :root_account_id], {:unique=>true, :algorithm=>:concurrently, :name=>"index_accounts_on_integration_id", :where=>"integration_id IS NOT NULL"})
   -> 0.0038s
==  AddIntegrationId: migrated (0.0243s) ======================================

==  FixBlankCourseSectionNames: migrating =====================================
-- change_column_null_with_less_locking(:course_sections, :name)
   -> 0.0009s
==  FixBlankCourseSectionNames: migrated (0.2690s) ============================

==  AddForeignKeys12: migrating ===============================================
-- add_foreign_key_if_not_exists(:content_exports, :attachments, {:delay_validation=>true})
   -> 0.0050s
-- add_foreign_key_if_not_exists(:content_migrations, :attachments, {:delay_validation=>true})
   -> 0.0044s
-- add_foreign_key_if_not_exists(:conversation_messages, :conversations, {:delay_validation=>true})
   -> 0.0010s
-- add_foreign_key_if_not_exists(:course_account_associations, :accounts, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:course_account_associations, :course_sections, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:course_account_associations, :courses, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:courses, :abstract_courses, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:delayed_messages, :notification_policies, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:discussion_entries, :discussion_entries, {:column=>:parent_id, :delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:discussion_entries, :discussion_entries, {:column=>:root_entry_id, :delay_validation=>true})
   -> 0.0029s
-- add_foreign_key_if_not_exists(:discussion_topics, :external_feeds, {:delay_validation=>true})
   -> 0.0040s
-- add_foreign_key_if_not_exists(:enrollments, :course_sections, {:delay_validation=>true})
   -> 0.0043s
==  AddForeignKeys12: migrated (0.0800s) ======================================

==  AddTeacherNotesToCustomColumns: migrating =================================
-- add_column(:custom_gradebook_columns, :teacher_notes, :boolean, {:default=>false, :after=>:workflow_state})
   -> 0.0014s
==  AddTeacherNotesToCustomColumns: migrated (0.0015s) ========================

==  AddForeignKeys13: migrating ===============================================
-- add_foreign_key_if_not_exists(:external_feed_entries, :external_feeds, {:delay_validation=>true})
   -> 0.0167s
-- add_foreign_key_if_not_exists(:notification_policies, :communication_channels, {:delay_validation=>true})
   -> 0.0048s
-- add_foreign_key_if_not_exists(:web_conference_participants, :web_conferences, {:delay_validation=>true})
   -> 0.0038s
-- add_foreign_key_if_not_exists(:pseudonyms, :accounts, {:delay_validation=>true})
   -> 0.0046s
-- add_foreign_key_if_not_exists(:assessment_requests, :submissions, {:column=>:asset_id, :delay_validation=>true})
   -> 0.0033s
-- add_foreign_key_if_not_exists(:content_migrations, :attachments, {:column=>:exported_attachment_id, :delay_validation=>true})
   -> 0.0036s
-- add_foreign_key_if_not_exists(:content_migrations, :attachments, {:column=>:overview_attachment_id, :delay_validation=>true})
   -> 0.0032s
-- add_foreign_key_if_not_exists(:context_module_progressions, :context_modules, {:delay_validation=>true})
   -> 0.0039s
-- add_foreign_key_if_not_exists(:discussion_entries, :attachments, {:delay_validation=>true})
   -> 0.0043s
-- add_foreign_key_if_not_exists(:discussion_entries, :discussion_topics, {:delay_validation=>true})
   -> 0.0042s
-- add_foreign_key_if_not_exists(:discussion_entry_participants, :discussion_entries, {:delay_validation=>true})
   -> 0.0038s
==  AddForeignKeys13: migrated (0.0573s) ======================================

==  DropSectionCodeFromCourseSections: migrating ==============================
-- remove_column(:course_sections, :section_code)
   -> 0.0007s
==  DropSectionCodeFromCourseSections: migrated (0.0009s) =====================

==  DeprecateHideFromStudentsOnWikiPages: migrating ===========================
-- change_column_default(:wiki_pages, :hide_from_students, nil)
   -> 0.0008s
==  DeprecateHideFromStudentsOnWikiPages: migrated (0.0060s) ==================

==  DisallowNullOnCustomGradebookColumnColumns: migrating =====================
-- change_column_null(:custom_gradebook_columns, "position", false)
   -> 0.0007s
-- change_column_null(:custom_gradebook_columns, "workflow_state", false)
   -> 0.0004s
-- change_column_null(:custom_gradebook_columns, "course_id", false)
   -> 0.0004s
-- change_column_null(:custom_gradebook_column_data, "content", false)
   -> 0.0005s
-- change_column_null(:custom_gradebook_column_data, "user_id", false)
   -> 0.0004s
-- change_column_null(:custom_gradebook_column_data, "custom_gradebook_column_id", false)
   -> 0.0004s
==  DisallowNullOnCustomGradebookColumnColumns: migrated (0.0032s) ============

==  DisallowNullOnTeacherNotesColumn: migrating ===============================
-- change_column_null(:custom_gradebook_columns, :teacher_notes, false)
   -> 0.0005s
==  DisallowNullOnTeacherNotesColumn: migrated (0.2139s) ======================

==  SanitizeCompletionRequirements: migrating =================================
==  SanitizeCompletionRequirements: migrated (0.0610s) ========================

==  SanitizeEportfolios: migrating ============================================
==  SanitizeEportfolios: migrated (0.0190s) ===================================

==  AddIndexOnSubmissionsSubmittedAt: migrating ===============================
-- add_index(:submissions, :submitted_at, {:algorithm=>:concurrently})
   -> 0.0037s
==  AddIndexOnSubmissionsSubmittedAt: migrated (0.0039s) ======================

==  EnrollmentsOnRootAccountAndCourse: migrating ==============================
-- add_index(:enrollments, [:root_account_id, :course_id], {:algorithm=>:concurrently})
   -> 0.0720s
==  EnrollmentsOnRootAccountAndCourse: migrated (0.0723s) =====================

Loaded suite /home/travis/.rvm/gems/ruby-1.9.3-p484/bin/rake
Started

Finished in 0.000227514 seconds.

0 tests, 0 assertions, 0 failures, 0 errors
travis_fold:end:before_script.3$ bundle exec rake
/home/travis/.rvm/gems/ruby-1.9.3-p484/gems/rspec-1.3.2/lib/spec/runner/options.rb:188: Use RbConfig instead of obsolete and deprecated Config.
/home/travis/.rvm/gems/ruby-1.9.3-p484/bundler/gems/rails-e86daf8ff727/activesupport/lib/active_support/inflector.rb:3:in `<top (required)>': iconv will be deprecated in the future, use String#encode instead.
Code coverage not enabled
Bullet not enabled
account_authorization_configs/index
  should list the auth ips
  should display the last_timeout_failure
  should display more than 2 LDAP configs
accounts/_add_course_or_user.html.erb
  sis_source_id with sis_batches
    should show to sis admin
    should not show to non-sis admin
  sis_source_id without sis_batches
    should not show to sis admin, because there are no sis batches
    should not show to non-sis admin
accounts/_sis_batch_counts.html.erb
  should render sis count data
accounts/settings.html.erb
  sis_source_id edit box
    should show to sis admin
    should not show to non-sis admin
  open registration
    should show by default
    should show warning dialog when a delegated auth config is around
  managed by site admins
    should show settings that can only be managed by site admins
    it should not show settings to regular admin user
  quotas
    with :manage_storage_quotas
      should show quota options
    without :manage_storage_quotas
      should not show quota options
/announcements/index
  should render
/assignments/_add_assignment_form
  should render
/assignments/_add_assignment_group_form
  should render
/assignments/_syllabus_content
  js_env CAN_READ
    anonymous user (public course)
    non-enrolled user (public course)
    enrolled user (non-public course)
/assignments/index
  should render
/assignments/redirect_page
  should render
/assignments/show
  should render
/assignments/show_locked
  should render
/assignments/student_index
  should render
/assignments/syllabus
  should render
/assignments/text_entry_page
  should render
/calendars/_calendar
  should render
/calendars/_event
  should render
/calendars/_mini_calendar
  should render
/calendars/show
  should render
/collaborations/index
  should render
  should provide labels for accessibility devices i.e. screen readers
communication_channels/confirm.html.erb
  invitations
    should render transfer enrollment form
    open registration
      should only show the registration form if no merge opportunities
      should follow the simple path for not logged in
      should follow the simple path for logged in as a matching user
      should follow the simple path for logged in as a non-matching user
      should follow the mostly-simple-path for not-logged in with multiple pseudonyms
      should render for multiple merge opportunities
  merging
    should render to merge with the current user
    should render to merge with the current user that doesn't have a pseudonym in the default account
    should render to merge multiple users
  self-registration
    should only show the registration form if no merge opportunities
    should follow the simple path for not logged in
    should follow the simple path for logged in as a matching user
    should follow the simple path for logged in as a non-matching user
    should follow the mostly-simple-path for not-logged in with multiple pseudonyms
    should render for multiple merge opportunities
/conference/index
  should render
/context_modules/index
  should render
  should show content_tags
  should show unpublished content_tags
  should not show deleted content_tags
/context_modules/url_show
  should render
  should check whether the content is locked
/courses/_recent_event
  should render
  should render without a user
  assignment muting and tooltips
    should show the score for a non-muted assignment
    should not show the score for a muted assignment
courses/settings.html.erb
  sis_source_id edit box
    should not show to teacher
    should show to sis admin
    should not show to non-sis admin
    should show grade export when enabled
    should not show grade export when disabled
  quota box
    as account admin
      should show quota input box
    as teacher
      should not show quota input box
courses/_settings_sidebar.html.erb
  End this course button
    should not display if the course or term end date has passed
    should display if the course and its term haven't ended
  Reset course content
    should not display the dialog contents under the button
/discussion_topics/_entry
  should render
  should render with data
/discussion_topics/index
  should render
/discussion_topics/show
  should render
  should render in a group context
terms/_term.html.erb
  sis_source_id edit box
    should show to sis admin
    should not show to non-sis admin
/eportfolios/_page_list
  should render
/eportfolios/_page_section
  should render
/eportfolios/_section_list
  should render
/eportfolios/show
  should render
/eportfolios/index
  should render
/files/_content_file
  should render
/files/_content_folder
  should render
/files/_folder
  should render
/files/_nested_content
  should render
/files/index
  should render
  should render
/gradebook2/show
  should enable grade publishing when appropriate
  should disable grade publishing when the course disallows it
  should disable grade publishing when permissions disallow it
  uploading scores
    should not allow uploading scores for large roster courses
    should not allow uploading scores for large roster courses
/gradebooks/_gradebook
  should render
  should enable grade publishing when appropriate
  should disable grade publishing when the course disallows it
  should disable grade publishing when permissions disallow it
/gradebooks/_grading_box
  should render
/gradebooks/_student
  should render
/gradebooks/_submission
  should render
/gradebooks/_submission_score
  should render
/gradebooks/blank_submission
  should render
/gradebooks/grade_summary
  should render
  should not show totals if configured so
  should not show 'what if' if not the student
  should know the types of media comments
/gradebooks/grade_summary_list
  should render
/gradebooks/show
  should render
/gradebooks/show_simple
  should render
/gradebooks/speed_grader
  should render
  includes a link back to the gradebook (gradebook2 by default)
/groups/_category
  should render
/groups/_student
  should render
/groups/context_groups
  should render
  should render for an account
/groups/context_manage_groups
  should render
/groups/index
  should render
/groups/show
  should render
layouts/application
Jammit Warning: No assets match 'public/stylesheets/compiled/course_show.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/content_migrations.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_vendor.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_base.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_instructure.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_assignments.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_context_inbox.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_groups.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_media_comments.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_context_modules.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_collaborations.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_files.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_wiki.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_conference.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_rubrics.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_wiki_sidebar.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_syllabus.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/g_mini_calendar.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/helpDialog.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/print.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/context_modules.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/context_modules2.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/context_module_progressions.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/dashboard_messages.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/dashboard_activity.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/registration.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/profile/show.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/profile/edit.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/groups/edit.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/facebook.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/ui.selectmenu.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/speed_grader.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/conferences.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/plugins.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/gradebook_uploads.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/fullcalendar.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/mini_calendar.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/calendar/sidebar.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/calendar/scheduler.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/calendar/calendarHeader.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/agenda_view.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/course_settings.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/external_tools.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/grading_standards.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/ui.selectmenu.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/discussions.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/discussions_list.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/full_files.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/datagrid.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/gradebook_history.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/gradebooks.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/message_students.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/message_students.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/gradebook2.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/attendance.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/quizzes.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/quizzes-mobile.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/message_students.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/ui.selectmenu.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/quizzes_ember.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/moderate_quiz.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/assignments.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/grading_standards.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/new_assignments.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/grading_standards.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/login.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/otp_login.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/roster.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/roster_user.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/learning_outcomes.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/grade_summary.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/context_list.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/page_views.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/prior_users.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/reports.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/statistics.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/sub_accounts.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/user_grades.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/user_logins.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/account_settings.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/external_tools.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/account_admin_tools.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/select_content_dialog.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/conversations.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/slideshow.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/conversations_new.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/compose_message_dialog.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/alerts.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/developer_keys.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/calendar/editCalendarEventFull.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/notification_preferences.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/tiny_like_ck_with_external_tools.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/messages.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/content_imports.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/user_notes.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/imports.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/styleguide.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/syntax.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/locale.css'
Jammit Warning: No assets match 'public/stylesheets/compiled/mobile_auth.css'
  should render
/profile/_email_select
  should render
/profile/_secondary_nav
  should render
/profile/_sms_select
  should render
/profile/_ways_to_contact
  should render
  should not show a student the confirm link
  should show an admin the confirm link
  should not show confirm link for confirmed channels
  should show an admin masquerading as a user the confirm link
  should not show the "I want to log in" for non-default accounts
/profile/communication
  should render
/profile/profile
  should render
  should not show the delete link for SIS pseudonyms
/pseudonym_sessions/new
  should render
  should not add nonldap param to login form with ldap
/pseudonyms/confirm_change_password
  should render
/quiz_submissions/show
  should render
/quizzes/_display_answer
  should render
/quizzes/_display_question
  should render
/quizzes/_form_answer
  should render
/quizzes/_form_question
  should render
/quizzes/_multi_answer
  should render
/quizzes/_question_group
  should render
/quizzes/_question_statistic
  should render
  should not show the submitter's name on anonymous surveys
  renders a link to download all quiz submissions for file upload questions
/quizzes/_quiz_right_side
  should render
/quizzes/_quiz_submission
  should render
  should render when quiz results are not supposed to be shown to the student
/quizzes/_quiz_summary
  should render
  should not show scores on muted quizzes
/quizzes/_single_answer
  should render
/quizzes/history
  beta quiz navigation
    displays when configured
    doesn't display when not enabled
  question group warning
    displays when quiz has question groups
    does not display when quiz has only questions
/quizzes/index
  should render
  with draft state enabled should render
/quizzes/new
  should render
  with course and quiz
    should not display 'NOTE:' message when questions within limit
    should explain why 'Show Question Details' is disabled
  draft state
    has a published inditactor when the quiz is published
    has a not_published indicator when the quiz is not published
/quizzes/show
  should render
  should render a notice instead of grades if muted
  doesn't warn students if quiz is published
  warns students if quiz is unpublished
  should show header bar and publish button if draft state enabled
/quizzes/statistics
  should render with non-nil submission statistics
  should render with nil submission statistics
/quizzes/submission_versions
  should render
/quizzes/take_quiz
  should render
sections/show.html.erb
  sis_source_id edit box
    should not show to teacher
    should show to sis admin
    should not show to non-sis admin
/shared/_add_assignment_group
  should render
/shared/_assignment_group
  should render
/shared/_conference
  should render
/shared/_discussion_entry
  should render
/shared/_flash_notices
  should render
/shared/_identity
  should render
  should render without a current user
/shared/_javascript_init
  should render
/shared/_login
  should render
  should use internal forgot password mechanism by default
  should use external forgot password mechanism if specified
  should use default forgot password mechanism if external mechanism specified but it's a canvas_login request
/shared/_right_side
  should render
/shared/_select_content_dialog
  should alphabetize the file list
  should include unpublished wiki pages
  should not offer to create assigments or quizzes if the user doesn't have permission
  should create new topics in unpublished state if draft state is enabled
  should create new topics in published state if draft state is disabled
/shared/_user_lists
  should render as a course
  should render as a root account
  should render as a sub account
  should render as a root account with customized login handle
/shared/_wiki_sidebar
  should render
  should render in user context
/shared/errors/400_message
  should render
/shared/errors/404_message
  should render
/shared/errors/500_message
  should render
/shared/errors/_backtrace
  should render
/shared/errors/_error_form
  should render
/shared/unauthorized
  should render
/submissions/show
  should render
/submissions/show_preview
  should render
  should give a user-friendly explaination why there's no preview
/terms/index
  should allow deletion of terms with only deleted courses
users/_logins.html.erb
  sis_source_id edit box
    should show to sis admin
    should not show to non-sis admin
/users/name
  should allow deletes for unmanagaged pseudonyms with correct privileges
  should allow deletes for managaged pseudonyms with correct privileges
  should not allow deletes for managed pseudonyms without correct privileges
  should not allow deletes for unmanaged pseudonyms without correct privileges
/users/admin_merge
  should only list accounts that the user can merge users in
/users/new
  should render
/users/registered
  should render
/users/show
  should render
/users/user_dashboard
  should render
  should show announcements to users with no enrollments
/wiki_page_revisions/index
  should show user editing link and content import name
/wiki_page_revisions/show
  should say imported for no user edit
  should say username of editor
/wiki_pages/_wiki_right_side
  should render
/wiki_pages/show
  should render
  should not render user content when editing

Finished in 147.924227394 seconds

227 examples, 0 failures

The command "bundle exec rake" exited with 0.

Done. Your build exited with 0.
